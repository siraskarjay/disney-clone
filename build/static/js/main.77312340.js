/*! For license information please see main.77312340.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},244:function(e,t,n){var r=n(447),i=n(51).each;function a(e,t){this.query=e,this.isUnconditional=t,this.handlers=[],this.mql=window.matchMedia(e);var n=this;this.listener=function(e){n.mql=e.currentTarget||e,n.assess()},this.mql.addListener(this.listener)}a.prototype={constuctor:a,addHandler:function(e){var t=new r(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var t=this.handlers;i(t,(function(n,r){if(n.equals(e))return n.destroy(),!t.splice(r,1)}))},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){i(this.handlers,(function(e){e.destroy()})),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";i(this.handlers,(function(t){t[e]()}))}},e.exports=a},0:function(e,t,n){var r=n(244),i=n(51),a=i.each,o=i.isFunction,s=i.isArray;function u(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}u.prototype={constructor:u,register:function(e,t,n){var i=this.queries,u=n&&this.browserIsIncapable;return i[e]||(i[e]=new r(e,u)),o(t)&&(t={match:t}),s(t)||(t=[t]),a(t,(function(t){o(t)&&(t={match:t}),i[e].addHandler(t)})),this},unregister:function(e,t){var n=this.queries[e];return n&&(t?n.removeHandler(t):(n.clear(),delete this.queries[e])),this}},e.exports=u},447:function(e){function t(e){this.options=e,!e.deferSetup&&this.setup()}t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},e.exports=t},51:function(e){e.exports={isFunction:function(e){return"function"===typeof e},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},each:function(e,t){for(var n=0,r=e.length;n<r&&!1!==t(e[n],n);n++);}}},153:function(e,t,n){var r=n(0);e.exports=new r},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!s||!s[m])){var g=h(n,m);try{c(t,m,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case u:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===m)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},477:function(e,t,n){var r=n(806),i=function(e){var t="",n=Object.keys(e);return n.forEach((function(i,a){var o=e[i];(function(e){return/[height|width]$/.test(e)})(i=r(i))&&"number"===typeof o&&(o+="px"),t+=!0===o?i:!1===o?"not "+i:"("+i+": "+o+")",a<n.length-1&&(t+=" and ")})),t};e.exports=function(e){var t="";return"string"===typeof e?e:e instanceof Array?(e.forEach((function(n,r){t+=i(n),r<e.length-1&&(t+=", ")})),t):i(e)}},95:function(e,t,n){var r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt,u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,l=u||c||Function("return this")(),f=Object.prototype.toString,h=Math.max,d=Math.min,p=function(){return l.Date.now()};function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==f.call(e)}(e))return NaN;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=a.test(e);return n||o.test(e)?s(e.slice(2),n?2:8):i.test(e)?NaN:+e}e.exports=function(e,t,n){var r,i,a,o,s,u,c=0,l=!1,f=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var n=r,a=i;return r=i=void 0,c=t,o=e.apply(a,n)}function k(e){return c=e,s=setTimeout(w,t),l?g(e):o}function b(e){var n=e-u;return void 0===u||n>=t||n<0||f&&e-c>=a}function w(){var e=p();if(b(e))return x(e);s=setTimeout(w,function(e){var n=t-(e-u);return f?d(n,a-(e-c)):n}(e))}function x(e){return s=void 0,m&&r?g(e):(r=i=void 0,o)}function _(){var e=p(),n=b(e);if(r=arguments,i=this,u=e,n){if(void 0===s)return k(u);if(f)return s=setTimeout(w,t),g(u)}return void 0===s&&(s=setTimeout(w,t)),o}return t=y(t)||0,v(n)&&(l=!!n.leading,a=(f="maxWait"in n)?h(y(n.maxWait)||0,t):a,m="trailing"in n?!!n.trailing:m),_.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=u=i=s=void 0},_.flush=function(){return void 0===s?o:x(p())},_}},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,s,u=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(u[l]=o[l]);if(t){s=t(o);for(var f=0;f<s.length;f++)r.call(o,s[f])&&(u[s[f]]=o[s[f]])}}return u}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function y(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,_=60106,S=60107,E=60108,T=60114,I=60109,C=60110,O=60112,A=60113,R=60120,P=60115,N=60116,D=60121,L=60128,M=60129,j=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;x=U("react.element"),_=U("react.portal"),S=U("react.fragment"),E=U("react.strict_mode"),T=U("react.profiler"),I=U("react.provider"),C=U("react.context"),O=U("react.forward_ref"),A=U("react.suspense"),R=U("react.suspense_list"),P=U("react.memo"),N=U("react.lazy"),D=U("react.block"),U("react.scope"),L=U("react.opaque.id"),M=U("react.debug_trace_mode"),j=U("react.offscreen"),F=U("react.legacy_hidden")}var z,V="function"===typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=V&&e[V]||e["@@iterator"])?e:null}function B(e){if(void 0===z)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var H=!1;function W(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function K(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case _:return"Portal";case T:return"Profiler";case E:return"StrictMode";case A:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case O:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return G(e.type);case D:return G(e._render);case N:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,ye,me=(ye=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ye(e,t)}))}:ye);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var _e=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ie=null,Ce=null,Oe=null;function Ae(e){if(e=ri(e)){if("function"!==typeof Ie)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Ie(e.stateNode,e.type,t))}}function Re(e){Ce?Oe?Oe.push(e):Oe=[e]:Ce=e}function Pe(){if(Ce){var e=Ce,t=Oe;if(Oe=Ce=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Ne(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Ne,je=!1,Fe=!1;function Ue(){null===Ce&&null===Oe||(Le(),Pe())}function ze(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ve=!1;if(f)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){Ve=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(ye){Ve=!1}function Be(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var He=!1,We=null,Ke=!1,Ge=null,Qe={onError:function(e){He=!0,We=e}};function $e(e,t,n,r,i,a,o,s,u){He=!1,We=null,Be.apply(Qe,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Ye(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Je(i),e;if(a===r)return Je(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,ut=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function yt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=ni(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&gt(st)&&(st=null),null!==ut&&gt(ut)&&(ut=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function xt(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==ut&&wt(ut,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)mt(n),null===n.blockedOn&&ht.shift()}function _t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var St={animationend:_t("Animation","AnimationEnd"),animationiteration:_t("Animation","AnimationIteration"),animationstart:_t("Animation","AnimationStart"),transitionend:_t("Transition","TransitionEnd")},Et={},Tt={};function It(e){if(Et[e])return Et[e];if(!St[e])return e;var t,n=St[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return Et[e]=n[t];return e}f&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete St.animationend.animation,delete St.animationiteration.animation,delete St.animationstart.animation),"TransitionEvent"in window||delete St.transitionend.transition);var Ct=It("animationend"),Ot=It("animationiteration"),At=It("animationstart"),Rt=It("transitionend"),Pt=new Map,Nt=new Map,Dt=["abort","abort",Ct,"animationEnd",Ot,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Rt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Nt.set(r,t),Pt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function jt(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=jt(u),i=Mt):0!==(s&=a)&&(r=jt(s),i=Mt)}else 0!==(a=n&~o)?(r=jt(a),i=Mt):0!==s&&(r=jt(s),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(jt(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ht(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function zt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Vt(24&~t))?zt(10,t):e;case 10:return 0===(e=Vt(192&~t))?zt(8,t):e;case 8:return 0===(e=Vt(3584&~t))&&(0===(e=Vt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Vt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Vt(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Kt|0)|0},Wt=Math.log,Kt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,$t=!0;function Yt(e,t,n,r){je||Le();var i=Jt,a=je;je=!0;try{De(i,e,t,n,r)}finally{(je=a)||Ue()}}function Xt(e,t,n,r){Qt(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if($t)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=yt(st,e,t,n,r,i),!0;case"dragenter":return ut=yt(ut,e,t,n,r,i),!0;case"mouseover":return ct=yt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,yt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,yt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Te(r);if(null!==(i=ni(i))){var a=Ye(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Xe(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(hn),pn=i({},hn,{view:0,detail:0}),vn=un(pn),yn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),mn=un(yn),gn=un(i({},yn,{dataTransfer:0})),kn=un(i({},pn,{relatedTarget:0})),bn=un(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=un(wn),_n=un(i({},hn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function Cn(){return In}var On=i({},pn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=un(On),Rn=un(i({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Nn=un(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},yn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=un(Dn),Mn=[9,13,27,32],jn=f&&"CompositionEvent"in window,Fn=null;f&&"documentMode"in document&&(Fn=document.documentMode);var Un=f&&"TextEvent"in window&&!Fn,zn=f&&(!jn||Fn&&8<Fn&&11>=Fn),Vn=String.fromCharCode(32),qn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Qn(e,t,n,r){Re(r),0<(t=jr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Yn=null;function Xn(e){Or(e,0)}function Jn(e){if(X(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){$n&&($n.detachEvent("onpropertychange",ar),Yn=$n=null)}function ar(e){if("value"===e.propertyName&&Jn(Yn)){var t=[];if(Qn(t,Yn,e,Te(e)),e=Xn,je)e(t);else{je=!0;try{Ne(e,t)}finally{je=!1,Ue()}}}}function or(e,t,n){"focusin"===e?(ir(),Yn=n,($n=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Yn)}function ur(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function yr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,xr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==J(r)||("selectionStart"in(r=kr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=jr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var Sr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Er=0;Er<Sr.length;Er++)Nt.set(Sr[Er],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if($e.apply(this,arguments),He){if(!He)throw Error(o(198));var l=We;He=!1,We=null,Ke||(Ke=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Or(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}}}if(Ke)throw e=Ge,Ke=!1,Ge=null,e}function Ar(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Rr]||(e[Rr]=!0,s.forEach((function(t){Ir.has(t)||Nr(t,!1,e,null),Nr(t,!0,e,null)})))}function Nr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Ir.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Dr(a,e,i,t),o.add(s))}function Dr(e,t,n,r){var i=Nt.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Xt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!Ve||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ni(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Me(e,t,n)}finally{Fe=!1,Ue()}}((function(){var r=a,i=Te(n),o=[];e:{var s=Pt.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=An;break;case"focusin":c="focus",u=kn;break;case"focusout":c="blur",u=kn;break;case"beforeblur":case"afterblur":u=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case Ct:case Ot:case At:u=bn;break;case Rt:u=Nn;break;case"scroll":u=vn;break;case"wheel":u=Ln;break;case"copy":case"cut":case"paste":u=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Rn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=ze(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=mn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Rn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Fr(d))p++;for(d=0,v=h;v;v=Fr(v))d++;for(;0<p-d;)l=Fr(l),p--;for(;0<d-p;)h=Fr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Fr(l),h=Fr(h)}l=null}else l=null;null!==u&&Ur(o,s,u,l,!1),null!==c&&null!==f&&Ur(o,f,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var y=Zn;else if(Gn(s))if(er)y=cr;else{y=sr;var m=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=ur);switch(y&&(y=y(e,r))?Qn(o,y,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ie(s,"number",s.value)),m=r?ii(r):window,e){case"focusin":(Gn(m)||"true"===m.contentEditable)&&(kr=m,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,_r(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":_r(o,n,i)}var g;if(jn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Wn?Bn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(zn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Wn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Wn=!0)),0<(m=jr(r,k)).length&&(k=new _n(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=Hn(n))&&(k.data=g))),(g=Un?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(qn=!0,Vn);case"textInput":return(e=t.data)===Vn&&qn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!jn&&Bn(e,t)?(e=rn(),nn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=jr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Or(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=ze(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=ze(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=ze(n,a))&&o.unshift(Mr(n,u,s)):i||null!=(u=ze(n,a))&&o.push(Mr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function zr(){}var Vr=null,qr=null;function Br(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,Kr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $r(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Xr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Xr,Zr="__reactProps$"+Xr,ei="__reactContainer$"+Xr,ti="__reactEvents$"+Xr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=$r(e);null!==e;){if(n=e[Jr])return n;e=$r(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function fi(e,t){ui++,si[ui]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function yi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var _i=null,Si=null,Ei=a.unstable_runWithPriority,Ti=a.unstable_scheduleCallback,Ii=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Oi=a.unstable_requestPaint,Ai=a.unstable_now,Ri=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Ni=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,ji={},Fi=void 0!==Oi?Oi:function(){},Ui=null,zi=null,Vi=!1,qi=Ai(),Bi=1e4>qi?Ai:function(){return Ai()-qi};function Hi(){switch(Ri()){case Pi:return 99;case Ni:return 98;case Di:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Wi(e){switch(e){case 99:return Pi;case 98:return Ni;case 97:return Di;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Ki(e,t){return e=Wi(e),Ei(e,t)}function Gi(e,t,n){return e=Wi(e),Ti(e,t,n)}function Qi(){if(null!==zi){var e=zi;zi=null,Ii(e)}$i()}function $i(){if(!Vi&&null!==Ui){Vi=!0;var e=0;try{var t=Ui;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ti(Pi,Qi),n}finally{Vi=!1}}}var Yi=w.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(jo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var sa=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;sa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,s=0,f=l=c=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:sa=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Vs|=s,e.lanes=s,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ya(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ma={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),pu(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=mi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?yi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ma,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ma.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,ua(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=mi(t)?vi:di.current,i.context=yi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ya(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ma.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function _a(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Sa(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ea(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ku(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Yu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_a(e,t,n),r.return=e,r):((r=Gu(n.type,n.key,n.props,null,e.mode,r)).ref=_a(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Yu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=_a(e,null,t),n.return=e,n;case _:return(t=Xu(t,e.mode,n)).return=e,t}if(xa(t)||q(t))return(t=Qu(t,e.mode,n,null)).return=e,t;Sa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===S?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null}if(xa(n)||q(n))return null!==i?null:f(e,t,n,r,null);Sa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===S?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||q(r))return f(t,e=e.get(n)||null,r,i,null);Sa(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,y=null;null!==f&&v<s.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,s[v],u);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(y=p(f,i,v,s[v],u))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),c}function y(i,s,u,c){var l=q(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,y=s=0,m=null,g=u.next();null!==v&&!g.done;y++,g=u.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),s=a(k,s,y),null===f?l=k:f.sibling=k,f=k,v=m}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;y++,g=u.next())null!==(g=h(i,g.value,c))&&(s=a(g,s,y),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;y++,g=u.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),s=a(g,s,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===S&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===S){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=_a(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===S?((r=Qu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Gu(a.type,a.key,a.props,null,e.mode,u)).ref=_a(e,r,a),u.return=e,e=u)}return s(e);case _:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xu(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Yu(a,e.mode,u)).return=e,e=r),s(e);if(xa(a))return v(e,r,a,u);if(q(a))return y(e,r,a,u);if(l&&Sa(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ta=Ea(!0),Ia=Ea(!1),Ca={},Oa=ci(Ca),Aa=ci(Ca),Ra=ci(Ca);function Pa(e){if(e===Ca)throw Error(o(174));return e}function Na(e,t){switch(fi(Ra,t),fi(Aa,e),fi(Oa,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Oa),fi(Oa,t)}function Da(){li(Oa),li(Aa),li(Ra)}function La(e){Pa(Ra.current);var t=Pa(Oa.current),n=pe(t,e.type);t!==n&&(fi(Aa,e),fi(Oa,n))}function Ma(e){Aa.current===e&&(li(Oa),li(Aa))}var ja=ci(0);function Fa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=null,za=null,Va=!1;function qa(e,t){var n=Hu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ba(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ha(e){if(Va){var t=za;if(t){var n=t;if(!Ba(e,t)){if(!(t=Qr(n.nextSibling))||!Ba(e,t))return e.flags=-1025&e.flags|2,Va=!1,void(Ua=e);qa(Ua,n)}Ua=e,za=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,Va=!1,Ua=e}}function Wa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ua=e}function Ka(e){if(e!==Ua)return!1;if(!Va)return Wa(e),Va=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hr(t,e.memoizedProps))for(t=za;t;)qa(e,t),t=Qr(t.nextSibling);if(Wa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){za=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}za=null}}else za=Ua?Qr(e.stateNode.nextSibling):null;return!0}function Ga(){za=Ua=null,Va=!1}var Qa=[];function $a(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var Ya=w.ReactCurrentDispatcher,Xa=w.ReactCurrentBatchConfig,Ja=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Ja=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ya.current=null===e||null===e.memoizedState?No:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Ya.current=Lo,e=n(r,i)}while(ro)}if(Ya.current=Po,t=null!==eo&&null!==eo.next,Ja=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function uo(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.lane;if((Ja&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,Za.lanes|=l,Vs|=l}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,lr(r,t.memoizedState)||(jo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);lr(a,t.memoizedState)||(jo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ja&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Ns;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=Ya.current,c=u.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var y=Za;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(s,e)){e=n(t._source),lr(f,e)||(l(e),e=du(y),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-Ht(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(y);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Ro.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(uo(),e,t,n)}function yo(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Ro.bind(null,Za,e),[t.memoizedState,e]}function mo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},so().memoizedState=e}function ko(){return uo().memoizedState}function bo(e,t,n,r){var i=so();Za.flags|=e,i.memoizedState=mo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=uo();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void mo(t,n,a,r)}Za.flags|=e,i.memoizedState=mo(1|t,n,a,r)}function xo(e,t){return bo(516,4,e,t)}function _o(e,t){return wo(516,4,e,t)}function So(e,t){return wo(4,2,e,t)}function Eo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function To(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,Eo.bind(null,t,e),n)}function Io(){}function Co(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Oo(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ao(e,t){var n=Hi();Ki(98>n?98:n,(function(){e(!0)})),Ki(97<n?97:n,(function(){var n=Xa.transition;Xa.transition=1;try{e(!1),t()}finally{Xa.transition=n}}))}function Ro(e,t,n){var r=hu(),i=du(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Po={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},No={readContext:oa,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Eo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ro.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:yo,useDebugValue:Io,useDeferredValue:function(e){var t=yo(e),n=t[0],r=t[1];return xo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=yo(!1),t=e[0];return go(e=Ao.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=so();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Va){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(o(355))})),n=yo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,mo(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return yo(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:To,useLayoutEffect:So,useMemo:Oo,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:Io,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return _o((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:To,useLayoutEffect:So,useMemo:Oo,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:Io,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return _o((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=w.ReactCurrentOwner,jo=!1;function Fo(e,t,n,r){t.child=null===e?Ia(t,null,n,r):Ta(t,e.child,n,r)}function Uo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||jo?(t.flags|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function zo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Wu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Vo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Ku(o,r)).ref=t.ref,e.return=t,t.child=e)}function Vo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(jo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(jo=!0)}return Ho(e,t,n,r,a)}function qo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xu(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xu(t,e),null;t.memoizedState={baseLanes:0},xu(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xu(t,r);return Fo(e,t,i,n),t.child}function Bo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ho(e,t,n,r,i){var a=mi(n)?vi:di.current;return a=yi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||jo?(t.flags|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Wo(e,t,n,r,i){if(mi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=yi(t,c=mi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&ba(t,o,r,c),sa=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),u=t.memoizedState,s!==r||h!==u||pi.current||sa?("function"===typeof l&&(ya(t,n,l,r),u=t.memoizedState),(s=sa||ga(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Xi(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=oa(u):u=yi(t,u=mi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&ba(t,o,r,u),sa=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||pi.current||sa?("function"===typeof d&&(ya(t,n,d,r),p=t.memoizedState),(c=sa||ga(t,n,c,r,h,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ko(e,t,n,r,a,i)}function Ko(e,t,n,r,i,a){Bo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),as(e,t,a);r=t.stateNode,Mo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ta(t,e.child,null,a),t.child=Ta(t,null,s,a)):Fo(e,t,s,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Na(e,t.containerInfo)}var Qo,$o,Yo,Xo={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,i=t.pendingProps,a=ja.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(ja,1&a),null===e?(void 0!==i.fallback&&Ha(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,t.lanes=33554432,e):((n=$u({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Xo,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=$u(t,i,0,null),n=Qu(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Ku(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ku(o,s),null!==e?r=Ku(e,r):(r=Qu(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Fo(e,t,r.children,n),0!==(2&(r=ja.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(ja,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Vs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ku(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ku(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!Va)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(t.type)&&gi(),null;case 3:return Da(),li(pi),li(di),$a(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ka(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Pa(Ra.current);if(n=t.type,null!==e&&null!=t.stateNode)$o(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pa(Oa.current),Ka(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Jr]=t,r[Zr]=s,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Ar(Tr[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,s),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ar("invalid",r);break;case"textarea":ue(r,s),Ar("invalid",r)}for(var c in Se(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Ar("scroll",r));switch(n){case"input":Y(r),re(r,s,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=zr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Zr]=r,Qo(e,t),t.stateNode=e,c=Ee(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),a=r;break;case"iframe":case"object":case"embed":Ar("load",e),a=r;break;case"video":case"audio":for(a=0;a<Tr.length;a++)Ar(Tr[a],e);a=r;break;case"source":Ar("error",e),a=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),a=r;break;case"details":Ar("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Ar("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Ar("invalid",e);break;default:a=r}Se(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?xe(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&me(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Ar("scroll",e):null!=f&&b(e,s,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=zr)}Br(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Yo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Pa(Ra.current),Pa(Oa.current),Ka(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(ja),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ka(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&ja.current)?0===Fs&&(Fs=3):(0!==Fs&&3!==Fs||(Fs=4),null===Ns||0===(134217727&Vs)&&0===(134217727&qs)||gu(Ns,Ls))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(ja),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==Fs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Fa(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(ja,1&ja.current|2),t.child}e=e.sibling}null!==r.tail&&Bi()>Ks&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Fa(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Va)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>Ks&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,t=ja.current,fi(ja,s?1&t|2:1&t),n):null;case 23:case 24:return _u(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:mi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),$a(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(ja),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(ja),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return _u(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$o=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pa(Oa.current);var o,s=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=zr)}for(f in Se(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Ar("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Yo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ys||(Ys=!0,Xs=r),ls(0,t)},n}function ds(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Js?Js=new Set([this]):Js.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){zu(e,n)}else t.current=null}function ys(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function ms(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(ju(n,e),Mu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Br(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ks(e,t){if(Si&&"function"===typeof Si.onCommitFiberUnmount)try{Si.onCommitFiberUnmount(_i,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))ju(t,n);else{r=t;try{i()}catch(a){zu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){zu(t,a)}break;case 5:vs(t);break;case 4:Es(e,t)}}function bs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function xs(e){e:{for(var t=e.return;null!==t;){if(ws(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_s(e,n,t):Ss(e,n,t)}function _s(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=zr));else if(4!==r&&null!==(e=e.child))for(_s(e,t,n),e=e.sibling;null!==e;)_s(e,t,n),e=e.sibling}function Ss(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ss(e,t,n),e=e.sibling;null!==e;)Ss(e,t,n),e=e.sibling}function Es(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ks(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ks(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Ts(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ee(e,i),t=Ee(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?xe(n,u):"dangerouslySetInnerHTML"===s?me(n,u):"children"===s?ge(n,u):b(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ws=Bi(),gs(t.child,!0)),void Is(t);case 19:return void Is(t);case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(o(163))}function Is(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=qu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Os=Math.ceil,As=w.ReactCurrentDispatcher,Rs=w.ReactCurrentOwner,Ps=0,Ns=null,Ds=null,Ls=0,Ms=0,js=ci(0),Fs=0,Us=null,zs=0,Vs=0,qs=0,Bs=0,Hs=null,Ws=0,Ks=1/0;function Gs(){Ks=Bi()+500}var Qs,$s=null,Ys=!1,Xs=null,Js=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,au=0,ou=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&Ps)?Bi():-1!==su?su:su=Bi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Hi()?1:2;if(0===uu&&(uu=zs),0!==Yi.transition){0!==cu&&(cu=null!==Hs?Hs.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Hi(),0!==(4&Ps)&&98===e?e=zt(12,uu):e=zt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<au)throw au=0,ou=null,Error(o(185));if(null===(e=vu(e,t)))return null;Bt(e,t,n),e===Ns&&(qs|=t,4===Fs&&gu(e,Ls));var r=Hi();1===t?0!==(8&Ps)&&0===(48&Ps)?ku(e):(yu(e,n),0===Ps&&(Gs(),Qi())):(0===(4&Ps)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),yu(e,n)),Hs=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function yu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Ht(s),c=1<<u,l=a[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,jt(c);var f=Mt;a[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ft(e,e===Ns?Ls:0),t=Mt,0===r)null!==n&&(n!==ji&&Ii(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==ji&&Ii(n)}15===t?(n=ku.bind(null,e),null===Ui?(Ui=[n],zi=Ti(Pi,$i)):Ui.push(n),n=ji):14===t?n=Gi(99,ku.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,mu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function mu(e){if(su=-1,cu=uu=0,0!==(48&Ps))throw Error(o(327));var t=e.callbackNode;if(Lu()&&e.callbackNode!==t)return null;var n=Ft(e,e===Ns?Ls:0);if(0===n)return null;var r=n,i=Ps;Ps|=16;var a=Tu();for(Ns===e&&Ls===r||(Gs(),Su(e,r));;)try{Ou();break}catch(u){Eu(e,u)}if(na(),As.current=a,Ps=i,null!==Ds?r=0:(Ns=null,Ls=0,r=Fs),0!==(zs&qs))Su(e,0);else if(0!==r){if(2===r&&(Ps|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ut(e))&&(r=Iu(e,n))),1===r)throw t=Us,Su(e,0),gu(e,n),yu(e,Bi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Pu(e);break;case 3:if(gu(e,n),(62914560&n)===n&&10<(r=Ws+500-Bi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Pu.bind(null,e),r);break}Pu(e);break;case 4:if(gu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Ht(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=Bi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Os(n/1960))-n)){e.timeoutHandle=Wr(Pu.bind(null,e),n);break}Pu(e);break;default:throw Error(o(329))}}return yu(e,Bi()),e.callbackNode===t?mu.bind(null,e):null}function gu(e,t){for(t&=~Bs,t&=~qs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function ku(e){if(0!==(48&Ps))throw Error(o(327));if(Lu(),e===Ns&&0!==(e.expiredLanes&Ls)){var t=Ls,n=Iu(e,t);0!==(zs&qs)&&(n=Iu(e,t=Ft(e,t)))}else n=Iu(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Ps|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ut(e))&&(n=Iu(e,t))),1===n)throw n=Us,Su(e,0),gu(e,t),yu(e,Bi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pu(e),yu(e,Bi()),null}function bu(e,t){var n=Ps;Ps|=1;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Qi())}}function wu(e,t){var n=Ps;Ps&=-2,Ps|=8;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Qi())}}function xu(e,t){fi(js,Ms),Ms|=t,zs|=t}function _u(){Ms=js.current,li(js)}function Su(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Da(),li(pi),li(di),$a();break;case 5:Ma(r);break;case 4:Da();break;case 13:case 19:li(ja);break;case 10:ra(r);break;case 23:case 24:_u()}n=n.return}Ns=e,Ds=Ku(e.current,null),Ls=Ms=zs=t,Fs=0,Us=null,Bs=qs=Vs=0}function Eu(e,t){for(;;){var n=Ds;try{if(na(),Ya.current=Po,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Ja=0,to=eo=Za=null,ro=!1,Rs.current=null,null===n||null===n.return){Fs=1,Us=t,Ds=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Ls,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&ja.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var y=h.updateQueue;if(null===y){var m=new Set;m.add(c),h.updateQueue=m}else y.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=la(-1,1);g.tag=2,fa(s,g)}s.lanes|=1;break e}u=void 0,s=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fs,u=new Set,k.set(c,u)):void 0===(u=k.get(c))&&(u=new Set,k.set(c,u)),!u.has(s)){u.add(s);var b=Vu.bind(null,a,c,s);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fs&&(Fs=2),u=cs(u,s),h=o;do{switch(h.tag){case 3:a=u,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hs(0,a,t));break e;case 1:a=u;var w=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Js||!Js.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,ds(h,a,t));break e}}h=h.return}while(null!==h)}Ru(n)}catch(_){t=_,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function Tu(){var e=As.current;return As.current=Po,null===e?Po:e}function Iu(e,t){var n=Ps;Ps|=16;var r=Tu();for(Ns===e&&Ls===t||Su(e,t);;)try{Cu();break}catch(i){Eu(e,i)}if(na(),Ps=n,As.current=r,null!==Ds)throw Error(o(261));return Ns=null,Ls=0,Fs}function Cu(){for(;null!==Ds;)Au(Ds)}function Ou(){for(;null!==Ds&&!Ci();)Au(Ds)}function Au(e){var t=Qs(e.alternate,e,Ms);e.memoizedProps=e.pendingProps,null===t?Ru(e):Ds=t,Rs.current=null}function Ru(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ms)))return void(Ds=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ms)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ds=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===Fs&&(Fs=5)}function Pu(e){var t=Hi();return Ki(99,Nu.bind(null,e,t)),null}function Nu(e,t){do{Lu()}while(null!==eu);if(0!==(48&Ps))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var c=31-Ht(a),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,a&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Ns&&(Ds=Ns=null,Ls=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ps,Ps|=32,Rs.current=null,Vr=$t,mr(s=yr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(T){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,y=s,m=null;t:for(;;){for(var g;y!==u||0!==a&&3!==y.nodeType||(h=f+a),y!==c||0!==l&&3!==y.nodeType||(d=f+l),3===y.nodeType&&(f+=y.nodeValue.length),null!==(g=y.firstChild);)m=y,y=g;for(;;){if(y===s)break t;if(m===u&&++p===a&&(h=f),m===c&&++v===l&&(d=f),null!==(g=y.nextSibling))break;m=(y=m).parentNode}y=g}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;qr={focusedElem:s,selectionRange:u},$t=!1,lu=null,fu=!1,$s=r;do{try{Du()}catch(T){if(null===$s)throw Error(o(330));zu($s,T),$s=$s.nextEffect}}while(null!==$s);lu=null,$s=r;do{try{for(s=e;null!==$s;){var k=$s.flags;if(16&k&&ge($s.stateNode,""),128&k){var b=$s.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:xs($s),$s.flags&=-3;break;case 6:xs($s),$s.flags&=-3,Ts($s.alternate,$s);break;case 1024:$s.flags&=-1025;break;case 1028:$s.flags&=-1025,Ts($s.alternate,$s);break;case 4:Ts($s.alternate,$s);break;case 8:Es(s,u=$s);var x=u.alternate;bs(u),null!==x&&bs(x)}$s=$s.nextEffect}}catch(T){if(null===$s)throw Error(o(330));zu($s,T),$s=$s.nextEffect}}while(null!==$s);if(w=qr,b=yr(),k=w.focusedElem,s=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==s&&mr(k)&&(b=s.start,void 0===(w=s.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),u=k.textContent.length,x=Math.min(s.start,u),s=void 0===s.end?x:Math.min(s.end,u),!w.extend&&x>s&&(u=s,s=x,x=u),u=pr(k,x),a=pr(k,s),u&&a&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),x>s?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}$t=!!Vr,qr=Vr=null,e.current=n,$s=r;do{try{for(k=e;null!==$s;){var _=$s.flags;if(36&_&&ms(k,$s.alternate,$s),128&_){b=void 0;var S=$s.ref;if(null!==S){var E=$s.stateNode;$s.tag,b=E,"function"===typeof S?S(b):S.current=b}}$s=$s.nextEffect}}catch(T){if(null===$s)throw Error(o(330));zu($s,T),$s=$s.nextEffect}}while(null!==$s);$s=null,Fi(),Ps=i}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for($s=r;null!==$s;)t=$s.nextEffect,$s.nextEffect=null,8&$s.flags&&((_=$s).sibling=null,_.stateNode=null),$s=t;if(0===(r=e.pendingLanes)&&(Js=null),1===r?e===ou?au++:(au=0,ou=e):au=0,n=n.stateNode,Si&&"function"===typeof Si.onCommitFiberRoot)try{Si.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(T){}if(yu(e,Bi()),Ys)throw Ys=!1,e=Xs,Xs=null,e;return 0!==(8&Ps)||Qi(),null}function Du(){for(;null!==$s;){var e=$s.alternate;fu||null===lu||(0!==(8&$s.flags)?et($s,lu)&&(fu=!0):13===$s.tag&&Cs(e,$s)&&et($s,lu)&&(fu=!0));var t=$s.flags;0!==(256&t)&&ys(e,$s),0===(512&t)||Zs||(Zs=!0,Gi(97,(function(){return Lu(),null}))),$s=$s.nextEffect}}function Lu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Ki(e,Fu)}return!1}function Mu(e,t){nu.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Lu(),null})))}function ju(e,t){ru.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Lu(),null})))}function Fu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Ps))throw Error(o(331));var t=Ps;Ps|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));zu(a,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===a)throw Error(o(330));zu(a,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Ps=t,Qi(),!0}function Uu(e,t,n){fa(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=vu(e,1))&&(Bt(e,1,t),yu(e,t))}function zu(e,t){if(3===e.tag)Uu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Uu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r))){var i=ds(n,e=cs(t,e),1);if(fa(n,i),i=hu(),null!==(n=vu(n,1)))Bt(n,1,i),yu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Vu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Ls&n)===n&&(4===Fs||3===Fs&&(62914560&Ls)===Ls&&500>Bi()-Ws?Su(e,0):Bs|=n),yu(e,t)}function qu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Hi()?1:2:(0===uu&&(uu=zs),0===(t=Vt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=vu(e,t))&&(Bt(e,t,n),yu(e,n))}function Bu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hu(e,t,n,r){return new Bu(e,t,n,r)}function Wu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ku(e,t){var n=e.alternate;return null===n?((n=Hu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Wu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Qu(n.children,i,a,t);case M:s=8,i|=16;break;case E:s=8,i|=1;break;case T:return(e=Hu(12,n,t,8|i)).elementType=T,e.type=T,e.lanes=a,e;case A:return(e=Hu(13,n,t,i)).type=A,e.elementType=A,e.lanes=a,e;case R:return(e=Hu(19,n,t,i)).elementType=R,e.lanes=a,e;case j:return $u(n,i,a,t);case F:return(e=Hu(24,n,t,i)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:s=10;break e;case C:s=9;break e;case O:s=11;break e;case P:s=14;break e;case N:s=16,r=null;break e;case D:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Hu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qu(e,t,n,r){return(e=Hu(7,e,r,t)).lanes=n,e}function $u(e,t,n,r){return(e=Hu(23,e,r,t)).elementType=j,e.lanes=n,e}function Yu(e,t,n){return(e=Hu(6,e,null,t)).lanes=n,e}function Xu(e,t,n){return(t=Hu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ju(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hu(),s=du(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(mi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(mi(c)){n=bi(n,c,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),pu(i,s,a),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ju(e,t,null!=n&&!0===n.hydrate),t=Hu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ua(t),e[ei]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}wu((function(){ec(t,o,e,i)}))}return tc(o)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zu(e,t,null,n)}Qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)jo=!0;else{if(0===(n&r)){switch(jo=!1,t.tag){case 3:Go(t),Ga();break;case 5:La(t);break;case 1:mi(t.type)&&wi(t);break;case 4:Na(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(fi(ja,1&ja.current),null!==(t=as(e,t,n))?t.sibling:null);fi(ja,1&ja.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(ja,ja.current),r)break;return null;case 23:case 24:return t.lanes=0,qo(e,t,n)}return as(e,t,n)}jo=0!==(16384&e.flags)}else jo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=yi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ua(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ya(t,r,s,e),i.updater=ma,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Ko(null,t,r,!0,a,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Wu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===O)return 11;if(e===P)return 14}return 2}(i),e=Xi(i,e),a){case 0:t=Ho(null,t,i,e,n);break e;case 1:t=Wo(null,t,i,e,n);break e;case 11:t=Uo(null,t,i,e,n);break e;case 14:t=zo(null,t,i,Xi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(za=Qr(t.stateNode.containerInfo.firstChild),Ua=t,a=Va=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Ia(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fo(e,t,r,n),Ga();t=t.child}return t;case 5:return La(t),null===e&&Ha(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Hr(r,i)?s=null:null!==a&&Hr(r,a)&&(t.flags|=16),Bo(e,t),Fo(e,t,s,n),t.child;case 6:return null===e&&Ha(t),null;case 13:return Jo(e,t,n);case 4:return Na(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ta(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(fi(Ji,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=lr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!pi.current){t=as(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=la(-1,n&-n)).tag=2,fa(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ia(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Fo(e,t,r,n),t.child;case 14:return a=Xi(i=t.type,t.pendingProps),zo(e,t,i,a=Xi(i.type,a),r,n);case 15:return Vo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Ko(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return qo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,hu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,hu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},Ie=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Ne=bu,De=function(e,t,n,r,i){var a=Ps;Ps|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{0===(Ps=a)&&(Gs(),Qi())}},Le=function(){0===(49&Ps)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,yu(e,Bi())}))}Qi()}(),Lu())},Me=function(e,t){var n=Ps;Ps|=2;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Qi())}};var uc={Events:[ri,ii,ai,Re,Pe,Lu,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{_i=fc.inject(lc),Si=fc}catch(ye){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ps;if(0!==(48&n))return e(t);Ps|=1;try{if(e)return Ki(99,e.bind(null,t))}finally{Ps=n,Qi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(wu((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,s=60109,u=60110,c=60112,l=60113,f=60120,h=60115,d=60116,p=60121,v=60122,y=60117,m=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var k=Symbol.for;n=k("react.element"),r=k("react.portal"),i=k("react.fragment"),a=k("react.strict_mode"),o=k("react.profiler"),s=k("react.provider"),u=k("react.context"),c=k("react.forward_ref"),l=k("react.suspense"),f=k("react.suspense_list"),h=k("react.memo"),d=k("react.lazy"),p=k("react.block"),v=k("react.server.block"),y=k("react.fundamental"),m=k("react.debug_trace_mode"),g=k("react.legacy_hidden")}function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case h:case s:return e;default:return t}}case r:return t}}}t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===o||e===m||e===a||e===l||e===f||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===d||e.$$typeof===h||e.$$typeof===s||e.$$typeof===u||e.$$typeof===c||e.$$typeof===y||e.$$typeof===p||e[0]===v)},t.typeOf=b},441:function(e,t,n){"use strict";e.exports=n(372)},381:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},239:function(e,t,n){var r=n(381);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return s(a(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(s+=e.slice(o,d),o=d+f.length,h)s+=h[1];else{var p=e[o],v=n[2],y=n[3],m=n[4],g=n[5],k=n[6],b=n[7];s&&(r.push(s),s="");var w=null!=v&&null!=p&&p!==v,x="+"===k||"*"===k,_="?"===k||"*"===k,S=n[2]||l,E=m||g;r.push({name:y||a++,prefix:v||"",delimiter:S,optional:_,repeat:x,partial:w,asterisk:!!b,pattern:E?c(E):b?".*":"[^"+u(S)+"]+?"})}}return o<e.length&&(s+=e.substr(o)),s&&r.push(s),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",s=t||{},u=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=s[l.name];if(null==h){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=u(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)o+=u(c);else{var h=u(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),o+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=u(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},195:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case u:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}},228:function(e,t,n){"use strict";n(195)},436:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NextArrow=t.PrevArrow=void 0;var r=o(n(791)),i=o(n(694)),a=n(26);function o(e){return e&&e.__esModule?e:{default:e}}function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var i=k(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}var b=function(e){v(n,e);var t=m(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-prev":!0},t=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(0===this.props.currentSlide||this.props.slideCount<=this.props.slidesToShow)&&(e["slick-disabled"]=!0,t=null);var n={key:"0","data-role":"none",className:(0,i.default)(e),style:{display:"block"},onClick:t},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.prevArrow?r.default.cloneElement(this.props.prevArrow,l(l({},n),a)):r.default.createElement("button",u({key:"0",type:"button"},n)," ","Previous")}}]),n}(r.default.PureComponent);t.PrevArrow=b;var w=function(e){v(n,e);var t=m(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-next":!0},t=this.clickHandler.bind(this,{message:"next"});(0,a.canGoNext)(this.props)||(e["slick-disabled"]=!0,t=null);var n={key:"1","data-role":"none",className:(0,i.default)(e),style:{display:"block"},onClick:t},o={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.nextArrow?r.default.cloneElement(this.props.nextArrow,l(l({},n),o)):r.default.createElement("button",u({key:"1",type:"button"},n)," ","Next")}}]),n}(r.default.PureComponent);t.NextArrow=w},484:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(791))&&r.__esModule?r:{default:r};var a={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(e){return i.default.createElement("ul",{style:{display:"block"}},e)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(e){return i.default.createElement("button",null,e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0};t.default=a},800:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Dots=void 0;var r=o(n(791)),i=o(n(694)),a=n(26);function o(e){return e&&e.__esModule?e:{default:e}}function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(p,e);var t,n,o,s=d(p);function p(){return l(this,p),s.apply(this,arguments)}return t=p,n=[{key:"clickHandler",value:function(e,t){t.preventDefault(),this.props.clickHandler(e)}},{key:"render",value:function(){for(var e,t=this.props,n=t.onMouseEnter,o=t.onMouseOver,s=t.onMouseLeave,l=t.infinite,f=t.slidesToScroll,h=t.slidesToShow,d=t.slideCount,p=t.currentSlide,v=(e={slideCount:d,slidesToScroll:f,slidesToShow:h,infinite:l}).infinite?Math.ceil(e.slideCount/e.slidesToScroll):Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,y={onMouseEnter:n,onMouseOver:o,onMouseLeave:s},m=[],g=0;g<v;g++){var k=(g+1)*f-1,b=l?k:(0,a.clamp)(k,0,d-1),w=b-(f-1),x=l?w:(0,a.clamp)(w,0,d-1),_=(0,i.default)({"slick-active":l?p>=x&&p<=b:p===x}),S={message:"dots",index:g,slidesToScroll:f,currentSlide:p},E=this.clickHandler.bind(this,S);m=m.concat(r.default.createElement("li",{key:g,className:_},r.default.cloneElement(this.props.customPaging(g),{onClick:E})))}return r.default.cloneElement(this.props.appendDots(m),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:this.props.dotsClass},y))}}],n&&f(t.prototype,n),o&&f(t,o),p}(r.default.PureComponent);t.Dots=y},717:function(e,t,n){"use strict";var r;t.Z=void 0;var i=((r=n(178))&&r.__esModule?r:{default:r}).default;t.Z=i},382:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=n},293:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InnerSlider=void 0;var r=h(n(791)),i=h(n(382)),a=h(n(95)),o=h(n(694)),s=n(26),u=n(931),c=n(800),l=n(436),f=h(n(474));function h(e){return e&&e.__esModule?e:{default:e}}function d(e){return d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function v(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var i=_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==d(t)&&"function"!==typeof t?x(e):t}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(w,e);var t,n,h,y=b(w);function w(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,w),S(x(t=y.call(this,e)),"listRefHandler",(function(e){return t.list=e})),S(x(t),"trackRefHandler",(function(e){return t.track=e})),S(x(t),"adaptHeight",(function(){if(t.props.adaptiveHeight&&t.list){var e=t.list.querySelector('[data-index="'.concat(t.state.currentSlide,'"]'));t.list.style.height=(0,s.getHeight)(e)+"px"}})),S(x(t),"componentDidMount",(function(){if(t.props.onInit&&t.props.onInit(),t.props.lazyLoad){var e=(0,s.getOnDemandLazySlides)(m(m({},t.props),t.state));e.length>0&&(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e))}var n=m({listRef:t.list,trackRef:t.track},t.props);t.updateState(n,!0,(function(){t.adaptHeight(),t.props.autoplay&&t.autoPlay("update")})),"progressive"===t.props.lazyLoad&&(t.lazyLoadTimer=setInterval(t.progressiveLazyLoad,1e3)),t.ro=new f.default((function(){t.state.animating?(t.onWindowResized(!1),t.callbackTimers.push(setTimeout((function(){return t.onWindowResized()}),t.props.speed))):t.onWindowResized()})),t.ro.observe(t.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),(function(e){e.onfocus=t.props.pauseOnFocus?t.onSlideFocus:null,e.onblur=t.props.pauseOnFocus?t.onSlideBlur:null})),window.addEventListener?window.addEventListener("resize",t.onWindowResized):window.attachEvent("onresize",t.onWindowResized)})),S(x(t),"componentWillUnmount",(function(){t.animationEndCallback&&clearTimeout(t.animationEndCallback),t.lazyLoadTimer&&clearInterval(t.lazyLoadTimer),t.callbackTimers.length&&(t.callbackTimers.forEach((function(e){return clearTimeout(e)})),t.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",t.onWindowResized):window.detachEvent("onresize",t.onWindowResized),t.autoplayTimer&&clearInterval(t.autoplayTimer),t.ro.disconnect()})),S(x(t),"componentDidUpdate",(function(e){if(t.checkImagesLoad(),t.props.onReInit&&t.props.onReInit(),t.props.lazyLoad){var n=(0,s.getOnDemandLazySlides)(m(m({},t.props),t.state));n.length>0&&(t.setState((function(e){return{lazyLoadedList:e.lazyLoadedList.concat(n)}})),t.props.onLazyLoad&&t.props.onLazyLoad(n))}t.adaptHeight();var i=m(m({listRef:t.list,trackRef:t.track},t.props),t.state),a=t.didPropsChange(e);a&&t.updateState(i,a,(function(){t.state.currentSlide>=r.default.Children.count(t.props.children)&&t.changeSlide({message:"index",index:r.default.Children.count(t.props.children)-t.props.slidesToShow,currentSlide:t.state.currentSlide}),t.props.autoplay?t.autoPlay("update"):t.pause("paused")}))})),S(x(t),"onWindowResized",(function(e){t.debouncedResize&&t.debouncedResize.cancel(),t.debouncedResize=(0,a.default)((function(){return t.resizeWindow(e)}),50),t.debouncedResize()})),S(x(t),"resizeWindow",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=Boolean(t.track&&t.track.node);if(n){var r=m(m({listRef:t.list,trackRef:t.track},t.props),t.state);t.updateState(r,e,(function(){t.props.autoplay?t.autoPlay("update"):t.pause("paused")})),t.setState({animating:!1}),clearTimeout(t.animationEndCallback),delete t.animationEndCallback}})),S(x(t),"updateState",(function(e,n,i){var a=(0,s.initializedState)(e);e=m(m(m({},e),a),{},{slideIndex:a.currentSlide});var o=(0,s.getTrackLeft)(e);e=m(m({},e),{},{left:o});var u=(0,s.getTrackCSS)(e);(n||r.default.Children.count(t.props.children)!==r.default.Children.count(e.children))&&(a.trackStyle=u),t.setState(a,i)})),S(x(t),"ssrInit",(function(){if(t.props.variableWidth){var e=0,n=0,i=[],a=(0,s.getPreClones)(m(m(m({},t.props),t.state),{},{slideCount:t.props.children.length})),o=(0,s.getPostClones)(m(m(m({},t.props),t.state),{},{slideCount:t.props.children.length}));t.props.children.forEach((function(t){i.push(t.props.style.width),e+=t.props.style.width}));for(var u=0;u<a;u++)n+=i[i.length-1-u],e+=i[i.length-1-u];for(var c=0;c<o;c++)e+=i[c];for(var l=0;l<t.state.currentSlide;l++)n+=i[l];var f={width:e+"px",left:-n+"px"};if(t.props.centerMode){var h="".concat(i[t.state.currentSlide],"px");f.left="calc(".concat(f.left," + (100% - ").concat(h,") / 2 ) ")}return{trackStyle:f}}var d=r.default.Children.count(t.props.children),p=m(m(m({},t.props),t.state),{},{slideCount:d}),v=(0,s.getPreClones)(p)+(0,s.getPostClones)(p)+d,y=100/t.props.slidesToShow*v,g=100/v,k=-g*((0,s.getPreClones)(p)+t.state.currentSlide)*y/100;return t.props.centerMode&&(k+=(100-g*y/100)/2),{slideWidth:g+"%",trackStyle:{width:y+"%",left:k+"%"}}})),S(x(t),"checkImagesLoad",(function(){var e=t.list&&t.list.querySelectorAll&&t.list.querySelectorAll(".slick-slide img")||[],n=e.length,r=0;Array.prototype.forEach.call(e,(function(e){var i=function(){return++r&&r>=n&&t.onWindowResized()};if(e.onclick){var a=e.onclick;e.onclick=function(){a(),e.parentNode.focus()}}else e.onclick=function(){return e.parentNode.focus()};e.onload||(t.props.lazyLoad?e.onload=function(){t.adaptHeight(),t.callbackTimers.push(setTimeout(t.onWindowResized,t.props.speed))}:(e.onload=i,e.onerror=function(){i(),t.props.onLazyLoadError&&t.props.onLazyLoadError()}))}))})),S(x(t),"progressiveLazyLoad",(function(){for(var e=[],n=m(m({},t.props),t.state),r=t.state.currentSlide;r<t.state.slideCount+(0,s.getPostClones)(n);r++)if(t.state.lazyLoadedList.indexOf(r)<0){e.push(r);break}for(var i=t.state.currentSlide-1;i>=-(0,s.getPreClones)(n);i--)if(t.state.lazyLoadedList.indexOf(i)<0){e.push(i);break}e.length>0?(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e)):t.lazyLoadTimer&&(clearInterval(t.lazyLoadTimer),delete t.lazyLoadTimer)})),S(x(t),"slideHandler",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.props,i=r.asNavFor,a=r.beforeChange,o=r.onLazyLoad,u=r.speed,c=r.afterChange,l=t.state.currentSlide,f=(0,s.slideHandler)(m(m(m({index:e},t.props),t.state),{},{trackRef:t.track,useCSS:t.props.useCSS&&!n})),h=f.state,d=f.nextState;if(h){a&&a(l,h.currentSlide);var p=h.lazyLoadedList.filter((function(e){return t.state.lazyLoadedList.indexOf(e)<0}));o&&p.length>0&&o(p),!t.props.waitForAnimate&&t.animationEndCallback&&(clearTimeout(t.animationEndCallback),c&&c(l),delete t.animationEndCallback),t.setState(h,(function(){i&&t.asNavForIndex!==e&&(t.asNavForIndex=e,i.innerSlider.slideHandler(e)),d&&(t.animationEndCallback=setTimeout((function(){var e=d.animating,n=v(d,["animating"]);t.setState(n,(function(){t.callbackTimers.push(setTimeout((function(){return t.setState({animating:e})}),10)),c&&c(h.currentSlide),delete t.animationEndCallback}))}),u))}))}})),S(x(t),"changeSlide",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=m(m({},t.props),t.state),i=(0,s.changeSlide)(r,e);if((0===i||i)&&(!0===n?t.slideHandler(i,n):t.slideHandler(i),t.props.autoplay&&t.autoPlay("update"),t.props.focusOnSelect)){var a=t.list.querySelectorAll(".slick-current");a[0]&&a[0].focus()}})),S(x(t),"clickHandler",(function(e){!1===t.clickable&&(e.stopPropagation(),e.preventDefault()),t.clickable=!0})),S(x(t),"keyHandler",(function(e){var n=(0,s.keyHandler)(e,t.props.accessibility,t.props.rtl);""!==n&&t.changeSlide({message:n})})),S(x(t),"selectHandler",(function(e){t.changeSlide(e)})),S(x(t),"disableBodyScroll",(function(){window.ontouchmove=function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}})),S(x(t),"enableBodyScroll",(function(){window.ontouchmove=null})),S(x(t),"swipeStart",(function(e){t.props.verticalSwiping&&t.disableBodyScroll();var n=(0,s.swipeStart)(e,t.props.swipe,t.props.draggable);""!==n&&t.setState(n)})),S(x(t),"swipeMove",(function(e){var n=(0,s.swipeMove)(e,m(m(m({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));n&&(n.swiping&&(t.clickable=!1),t.setState(n))})),S(x(t),"swipeEnd",(function(e){var n=(0,s.swipeEnd)(e,m(m(m({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));if(n){var r=n.triggerSlideHandler;delete n.triggerSlideHandler,t.setState(n),void 0!==r&&(t.slideHandler(r),t.props.verticalSwiping&&t.enableBodyScroll())}})),S(x(t),"touchEnd",(function(e){t.swipeEnd(e),t.clickable=!0})),S(x(t),"slickPrev",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"previous"})}),0))})),S(x(t),"slickNext",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"next"})}),0))})),S(x(t),"slickGoTo",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=Number(e),isNaN(e))return"";t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"index",index:e,currentSlide:t.state.currentSlide},n)}),0))})),S(x(t),"play",(function(){var e;if(t.props.rtl)e=t.state.currentSlide-t.props.slidesToScroll;else{if(!(0,s.canGoNext)(m(m({},t.props),t.state)))return!1;e=t.state.currentSlide+t.props.slidesToScroll}t.slideHandler(e)})),S(x(t),"autoPlay",(function(e){t.autoplayTimer&&clearInterval(t.autoplayTimer);var n=t.state.autoplaying;if("update"===e){if("hovered"===n||"focused"===n||"paused"===n)return}else if("leave"===e){if("paused"===n||"focused"===n)return}else if("blur"===e&&("paused"===n||"hovered"===n))return;t.autoplayTimer=setInterval(t.play,t.props.autoplaySpeed+50),t.setState({autoplaying:"playing"})})),S(x(t),"pause",(function(e){t.autoplayTimer&&(clearInterval(t.autoplayTimer),t.autoplayTimer=null);var n=t.state.autoplaying;"paused"===e?t.setState({autoplaying:"paused"}):"focused"===e?"hovered"!==n&&"playing"!==n||t.setState({autoplaying:"focused"}):"playing"===n&&t.setState({autoplaying:"hovered"})})),S(x(t),"onDotsOver",(function(){return t.props.autoplay&&t.pause("hovered")})),S(x(t),"onDotsLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),S(x(t),"onTrackOver",(function(){return t.props.autoplay&&t.pause("hovered")})),S(x(t),"onTrackLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),S(x(t),"onSlideFocus",(function(){return t.props.autoplay&&t.pause("focused")})),S(x(t),"onSlideBlur",(function(){return t.props.autoplay&&"focused"===t.state.autoplaying&&t.autoPlay("blur")})),S(x(t),"render",(function(){var e,n,i,a=(0,o.default)("slick-slider",t.props.className,{"slick-vertical":t.props.vertical,"slick-initialized":!0}),f=m(m({},t.props),t.state),h=(0,s.extractObject)(f,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),d=t.props.pauseOnHover;if(h=m(m({},h),{},{onMouseEnter:d?t.onTrackOver:null,onMouseLeave:d?t.onTrackLeave:null,onMouseOver:d?t.onTrackOver:null,focusOnSelect:t.props.focusOnSelect&&t.clickable?t.selectHandler:null}),!0===t.props.dots&&t.state.slideCount>=t.props.slidesToShow){var v=(0,s.extractObject)(f,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),y=t.props.pauseOnDotsHover;v=m(m({},v),{},{clickHandler:t.changeSlide,onMouseEnter:y?t.onDotsLeave:null,onMouseOver:y?t.onDotsOver:null,onMouseLeave:y?t.onDotsLeave:null}),e=r.default.createElement(c.Dots,v)}var g=(0,s.extractObject)(f,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);g.clickHandler=t.changeSlide,t.props.arrows&&(n=r.default.createElement(l.PrevArrow,g),i=r.default.createElement(l.NextArrow,g));var k=null;t.props.vertical&&(k={height:t.state.listHeight});var b=null;!1===t.props.vertical?!0===t.props.centerMode&&(b={padding:"0px "+t.props.centerPadding}):!0===t.props.centerMode&&(b={padding:t.props.centerPadding+" 0px"});var w=m(m({},k),b),x=t.props.touchMove,_={className:"slick-list",style:w,onClick:t.clickHandler,onMouseDown:x?t.swipeStart:null,onMouseMove:t.state.dragging&&x?t.swipeMove:null,onMouseUp:x?t.swipeEnd:null,onMouseLeave:t.state.dragging&&x?t.swipeEnd:null,onTouchStart:x?t.swipeStart:null,onTouchMove:t.state.dragging&&x?t.swipeMove:null,onTouchEnd:x?t.touchEnd:null,onTouchCancel:t.state.dragging&&x?t.swipeEnd:null,onKeyDown:t.props.accessibility?t.keyHandler:null},S={className:a,dir:"ltr",style:t.props.style};return t.props.unslick&&(_={className:"slick-list"},S={className:a}),r.default.createElement("div",S,t.props.unslick?"":n,r.default.createElement("div",p({ref:t.listRefHandler},_),r.default.createElement(u.Track,p({ref:t.trackRefHandler},h),t.props.children)),t.props.unslick?"":i,t.props.unslick?"":e)})),t.list=null,t.track=null,t.state=m(m({},i.default),{},{currentSlide:t.props.initialSlide,slideCount:r.default.Children.count(t.props.children)}),t.callbackTimers=[],t.clickable=!0,t.debouncedResize=null;var n=t.ssrInit();return t.state=m(m({},t.state),n),t}return t=w,(n=[{key:"didPropsChange",value:function(e){for(var t=!1,n=0,i=Object.keys(this.props);n<i.length;n++){var a=i[n];if(!e.hasOwnProperty(a)){t=!0;break}if("object"!==d(e[a])&&"function"!==typeof e[a]&&e[a]!==this.props[a]){t=!0;break}}return t||r.default.Children.count(this.props.children)!==r.default.Children.count(e.children)}}])&&g(t.prototype,n),h&&g(t,h),w}(r.default.Component);t.InnerSlider=E},178:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(791)),i=n(293),a=u(n(477)),o=u(n(484)),s=n(26);function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=(0,s.canUseDOM)()&&n(153),w=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(f,e);var t,n,u,c=v(f);function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),k(m(t=c.call(this,e)),"innerSliderRefHandler",(function(e){return t.innerSlider=e})),k(m(t),"slickPrev",(function(){return t.innerSlider.slickPrev()})),k(m(t),"slickNext",(function(){return t.innerSlider.slickNext()})),k(m(t),"slickGoTo",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.innerSlider.slickGoTo(e,n)})),k(m(t),"slickPause",(function(){return t.innerSlider.pause("paused")})),k(m(t),"slickPlay",(function(){return t.innerSlider.autoPlay("play")})),t.state={breakpoint:null},t._responsiveMediaHandlers=[],t}return t=f,(n=[{key:"media",value:function(e,t){b.register(e,t),this._responsiveMediaHandlers.push({query:e,handler:t})}},{key:"componentDidMount",value:function(){var e=this;if(this.props.responsive){var t=this.props.responsive.map((function(e){return e.breakpoint}));t.sort((function(e,t){return e-t})),t.forEach((function(n,r){var i;i=0===r?(0,a.default)({minWidth:0,maxWidth:n}):(0,a.default)({minWidth:t[r-1]+1,maxWidth:n}),(0,s.canUseDOM)()&&e.media(i,(function(){e.setState({breakpoint:n})}))}));var n=(0,a.default)({minWidth:t.slice(-1)[0]});(0,s.canUseDOM)()&&this.media(n,(function(){e.setState({breakpoint:null})}))}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach((function(e){b.unregister(e.query,e.handler)}))}},{key:"render",value:function(){var e,t,n=this;(e=this.state.breakpoint?"unslick"===(t=this.props.responsive.filter((function(e){return e.breakpoint===n.state.breakpoint})))[0].settings?"unslick":h(h(h({},o.default),this.props),t[0].settings):h(h({},o.default),this.props)).centerMode&&(e.slidesToScroll,e.slidesToScroll=1),e.fade&&(e.slidesToShow,e.slidesToScroll,e.slidesToShow=1,e.slidesToScroll=1);var a=r.default.Children.toArray(this.props.children);a=a.filter((function(e){return"string"===typeof e?!!e.trim():!!e})),e.variableWidth&&(e.rows>1||e.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),e.variableWidth=!1);for(var s=[],u=null,c=0;c<a.length;c+=e.rows*e.slidesPerRow){for(var f=[],d=c;d<c+e.rows*e.slidesPerRow;d+=e.slidesPerRow){for(var p=[],v=d;v<d+e.slidesPerRow&&(e.variableWidth&&a[v].props.style&&(u=a[v].props.style.width),!(v>=a.length));v+=1)p.push(r.default.cloneElement(a[v],{key:100*c+10*d+v,tabIndex:-1,style:{width:"".concat(100/e.slidesPerRow,"%"),display:"inline-block"}}));f.push(r.default.createElement("div",{key:10*c+d},p))}e.variableWidth?s.push(r.default.createElement("div",{key:c,style:{width:u}},f)):s.push(r.default.createElement("div",{key:c},f))}if("unslick"===e){var y="regular slider "+(this.props.className||"");return r.default.createElement("div",{className:y},a)}return s.length<=e.slidesToShow&&(e.unslick=!0),r.default.createElement(i.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},e),s)}}])&&d(t.prototype,n),u&&d(t,u),f}(r.default.Component);t.default=w},931:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Track=void 0;var r=o(n(791)),i=o(n(694)),a=n(26);function o(e){return e&&e.__esModule?e:{default:e}}function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(e){var t,n,r,i,a;return r=(a=e.rtl?e.slideCount-1-e.index:e.index)<0||a>=e.slideCount,e.centerMode?(i=Math.floor(e.slidesToShow/2),n=(a-e.currentSlide)%e.slideCount===0,a>e.currentSlide-i-1&&a<=e.currentSlide+i&&(t=!0)):t=e.currentSlide<=a&&a<e.currentSlide+e.slidesToShow,{"slick-slide":!0,"slick-active":t,"slick-center":n,"slick-cloned":r,"slick-current":a===(e.targetSlide<0?e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?e.targetSlide-e.slideCount:e.targetSlide)}},b=function(e,t){return e.key||t},w=function(e){var t,n=[],o=[],s=[],u=r.default.Children.count(e.children),c=(0,a.lazyStartIndex)(e),l=(0,a.lazyEndIndex)(e);return r.default.Children.forEach(e.children,(function(f,h){var d,p={message:"children",index:h,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};d=!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(h)>=0?f:r.default.createElement("div",null);var v=function(e){var t={};return void 0!==e.variableWidth&&!1!==e.variableWidth||(t.width=e.slideWidth),e.fade&&(t.position="relative",e.vertical?t.top=-e.index*parseInt(e.slideHeight):t.left=-e.index*parseInt(e.slideWidth),t.opacity=e.currentSlide===e.index?1:0,e.useCSS&&(t.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),t}(m(m({},e),{},{index:h})),y=d.props.className||"",g=k(m(m({},e),{},{index:h}));if(n.push(r.default.cloneElement(d,{key:"original"+b(d,h),"data-index":h,className:(0,i.default)(g,y),tabIndex:"-1","aria-hidden":!g["slick-active"],style:m(m({outline:"none"},d.props.style||{}),v),onClick:function(t){d.props&&d.props.onClick&&d.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}})),e.infinite&&!1===e.fade){var w=u-h;w<=(0,a.getPreClones)(e)&&u!==e.slidesToShow&&((t=-w)>=c&&(d=f),g=k(m(m({},e),{},{index:t})),o.push(r.default.cloneElement(d,{key:"precloned"+b(d,t),"data-index":t,tabIndex:"-1",className:(0,i.default)(g,y),"aria-hidden":!g["slick-active"],style:m(m({},d.props.style||{}),v),onClick:function(t){d.props&&d.props.onClick&&d.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}}))),u!==e.slidesToShow&&((t=u+h)<l&&(d=f),g=k(m(m({},e),{},{index:t})),s.push(r.default.cloneElement(d,{key:"postcloned"+b(d,t),"data-index":t,tabIndex:"-1",className:(0,i.default)(g,y),"aria-hidden":!g["slick-active"],style:m(m({},d.props.style||{}),v),onClick:function(t){d.props&&d.props.onClick&&d.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}})))}})),e.rtl?o.concat(n,s).reverse():o.concat(n,s)},x=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(o,e);var t,n,i,a=h(o);function o(){var e;c(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(p(e=a.call.apply(a,[this].concat(n))),"node",null),g(p(e),"handleRef",(function(t){e.node=t})),e}return t=o,(n=[{key:"render",value:function(){var e=w(this.props),t=this.props,n={onMouseEnter:t.onMouseEnter,onMouseOver:t.onMouseOver,onMouseLeave:t.onMouseLeave};return r.default.createElement("div",u({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},n),e)}}])&&l(t.prototype,n),i&&l(t,i),o}(r.default.PureComponent);t.Track=x},26:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clamp=u,t.canUseDOM=t.slidesOnLeft=t.slidesOnRight=t.siblingDirection=t.getTotalSlides=t.getPostClones=t.getPreClones=t.getTrackLeft=t.getTrackAnimateCSS=t.getTrackCSS=t.checkSpecKeys=t.getSlideCount=t.checkNavigable=t.getNavigableIndexes=t.swipeEnd=t.swipeMove=t.swipeStart=t.keyHandler=t.changeSlide=t.slideHandler=t.initializedState=t.extractObject=t.canGoNext=t.getSwipeDirection=t.getHeight=t.getWidth=t.lazySlidesOnRight=t.lazySlidesOnLeft=t.lazyEndIndex=t.lazyStartIndex=t.getRequiredLazySlides=t.getOnDemandLazySlides=t.safePreventDefault=void 0;var r,i=(r=n(791))&&r.__esModule?r:{default:r};function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n){return Math.max(t,Math.min(e,n))}var c=function(e){["onTouchStart","onTouchMove","onWheel"].includes(e._reactName)||e.preventDefault()};t.safePreventDefault=c;var l=function(e){for(var t=[],n=f(e),r=h(e),i=n;i<r;i++)e.lazyLoadedList.indexOf(i)<0&&t.push(i);return t};t.getOnDemandLazySlides=l;t.getRequiredLazySlides=function(e){for(var t=[],n=f(e),r=h(e),i=n;i<r;i++)t.push(i);return t};var f=function(e){return e.currentSlide-d(e)};t.lazyStartIndex=f;var h=function(e){return e.currentSlide+p(e)};t.lazyEndIndex=h;var d=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0};t.lazySlidesOnLeft=d;var p=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow};t.lazySlidesOnRight=p;var v=function(e){return e&&e.offsetWidth||0};t.getWidth=v;var y=function(e){return e&&e.offsetHeight||0};t.getHeight=y;var m=function(e){var t,n,r,i,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=e.startX-e.curX,n=e.startY-e.curY,r=Math.atan2(n,t),(i=Math.round(180*r/Math.PI))<0&&(i=360-Math.abs(i)),i<=45&&i>=0||i<=360&&i>=315?"left":i>=135&&i<=225?"right":!0===a?i>=35&&i<=135?"up":"down":"vertical"};t.getSwipeDirection=m;var g=function(e){var t=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1),t};t.canGoNext=g;t.extractObject=function(e,t){var n={};return t.forEach((function(t){return n[t]=e[t]})),n};t.initializedState=function(e){var t,n=i.default.Children.count(e.children),r=e.listRef,a=Math.ceil(v(r)),s=e.trackRef&&e.trackRef.node,u=Math.ceil(v(s));if(e.vertical)t=a;else{var c=e.centerMode&&2*parseInt(e.centerPadding);"string"===typeof e.centerPadding&&"%"===e.centerPadding.slice(-1)&&(c*=a/100),t=Math.ceil((a-c)/e.slidesToShow)}var f=r&&y(r.querySelector('[data-index="0"]')),h=f*e.slidesToShow,d=void 0===e.currentSlide?e.initialSlide:e.currentSlide;e.rtl&&void 0===e.currentSlide&&(d=n-1-e.initialSlide);var p=e.lazyLoadedList||[],m=l(o(o({},e),{},{currentSlide:d,lazyLoadedList:p})),g={slideCount:n,slideWidth:t,listWidth:a,trackWidth:u,currentSlide:d,slideHeight:f,listHeight:h,lazyLoadedList:p=p.concat(m)};return null===e.autoplaying&&e.autoplay&&(g.autoplaying="playing"),g};t.slideHandler=function(e){var t=e.waitForAnimate,n=e.animating,r=e.fade,i=e.infinite,a=e.index,s=e.slideCount,c=e.lazyLoad,f=e.currentSlide,h=e.centerMode,d=e.slidesToScroll,p=e.slidesToShow,v=e.useCSS,y=e.lazyLoadedList;if(t&&n)return{};var m,k,b,w=a,x={},T={},I=i?a:u(a,0,s-1);if(r){if(!i&&(a<0||a>=s))return{};a<0?w=a+s:a>=s&&(w=a-s),c&&y.indexOf(w)<0&&(y=y.concat(w)),x={animating:!0,currentSlide:w,lazyLoadedList:y,targetSlide:w},T={animating:!1,targetSlide:w}}else m=w,w<0?(m=w+s,i?s%d!==0&&(m=s-s%d):m=0):!g(e)&&w>f?w=m=f:h&&w>=s?(w=i?s:s-1,m=i?0:s-1):w>=s&&(m=w-s,i?s%d!==0&&(m=0):m=s-p),!i&&w+p>=s&&(m=s-p),k=E(o(o({},e),{},{slideIndex:w})),b=E(o(o({},e),{},{slideIndex:m})),i||(k===b&&(w=m),k=b),c&&(y=y.concat(l(o(o({},e),{},{currentSlide:w})))),v?(x={animating:!0,currentSlide:m,trackStyle:S(o(o({},e),{},{left:k})),lazyLoadedList:y,targetSlide:I},T={animating:!1,currentSlide:m,trackStyle:_(o(o({},e),{},{left:b})),swipeLeft:null,targetSlide:I}):x={currentSlide:m,trackStyle:_(o(o({},e),{},{left:b})),lazyLoadedList:y,targetSlide:I};return{state:x,nextState:T}};t.changeSlide=function(e,t){var n,r,i,a,s=e.slidesToScroll,u=e.slidesToShow,c=e.slideCount,l=e.currentSlide,f=e.targetSlide,h=e.lazyLoad,d=e.infinite;if(n=c%s!==0?0:(c-l)%s,"previous"===t.message)a=l-(i=0===n?s:u-n),h&&!d&&(a=-1===(r=l-i)?c-1:r),d||(a=f-s);else if("next"===t.message)a=l+(i=0===n?s:n),h&&!d&&(a=(l+s)%c+n),d||(a=f+s);else if("dots"===t.message)a=t.index*t.slidesToScroll;else if("children"===t.message){if(a=t.index,d){var p=O(o(o({},e),{},{targetSlide:a}));a>t.currentSlide&&"left"===p?a-=c:a<t.currentSlide&&"right"===p&&(a+=c)}}else"index"===t.message&&(a=Number(t.index));return a};t.keyHandler=function(e,t,n){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!t?"":37===e.keyCode?n?"next":"previous":39===e.keyCode?n?"previous":"next":""};t.swipeStart=function(e,t,n){return"IMG"===e.target.tagName&&c(e),!t||!n&&-1!==e.type.indexOf("mouse")?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};t.swipeMove=function(e,t){var n=t.scrolling,r=t.animating,i=t.vertical,a=t.swipeToSlide,s=t.verticalSwiping,u=t.rtl,l=t.currentSlide,f=t.edgeFriction,h=t.edgeDragged,d=t.onEdge,p=t.swiped,v=t.swiping,y=t.slideCount,k=t.slidesToScroll,b=t.infinite,w=t.touchObject,x=t.swipeEvent,S=t.listHeight,T=t.listWidth;if(!n){if(r)return c(e);i&&a&&s&&c(e);var I,C={},O=E(t);w.curX=e.touches?e.touches[0].pageX:e.clientX,w.curY=e.touches?e.touches[0].pageY:e.clientY,w.swipeLength=Math.round(Math.sqrt(Math.pow(w.curX-w.startX,2)));var A=Math.round(Math.sqrt(Math.pow(w.curY-w.startY,2)));if(!s&&!v&&A>10)return{scrolling:!0};s&&(w.swipeLength=A);var R=(u?-1:1)*(w.curX>w.startX?1:-1);s&&(R=w.curY>w.startY?1:-1);var P=Math.ceil(y/k),N=m(t.touchObject,s),D=w.swipeLength;return b||(0===l&&("right"===N||"down"===N)||l+1>=P&&("left"===N||"up"===N)||!g(t)&&("left"===N||"up"===N))&&(D=w.swipeLength*f,!1===h&&d&&(d(N),C.edgeDragged=!0)),!p&&x&&(x(N),C.swiped=!0),I=i?O+D*(S/T)*R:u?O-D*R:O+D*R,s&&(I=O+D*R),C=o(o({},C),{},{touchObject:w,swipeLeft:I,trackStyle:_(o(o({},t),{},{left:I}))}),Math.abs(w.curX-w.startX)<.8*Math.abs(w.curY-w.startY)?C:(w.swipeLength>10&&(C.swiping=!0,c(e)),C)}};t.swipeEnd=function(e,t){var n=t.dragging,r=t.swipe,i=t.touchObject,a=t.listWidth,s=t.touchThreshold,u=t.verticalSwiping,l=t.listHeight,f=t.swipeToSlide,h=t.scrolling,d=t.onSwipe,p=t.targetSlide,v=t.currentSlide,y=t.infinite;if(!n)return r&&c(e),{};var g=u?l/s:a/s,k=m(i,u),x={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h)return x;if(!i.swipeLength)return x;if(i.swipeLength>g){var _,T;c(e),d&&d(k);var I=y?v:p;switch(k){case"left":case"up":T=I+w(t),_=f?b(t,T):T,x.currentDirection=0;break;case"right":case"down":T=I-w(t),_=f?b(t,T):T,x.currentDirection=1;break;default:_=I}x.triggerSlideHandler=_}else{var C=E(t);x.trackStyle=S(o(o({},t),{},{left:C}))}return x};var k=function(e){for(var t=e.infinite?2*e.slideCount:e.slideCount,n=e.infinite?-1*e.slidesToShow:0,r=e.infinite?-1*e.slidesToShow:0,i=[];n<t;)i.push(n),n=r+e.slidesToScroll,r+=Math.min(e.slidesToScroll,e.slidesToShow);return i};t.getNavigableIndexes=k;var b=function(e,t){var n=k(e),r=0;if(t>n[n.length-1])t=n[n.length-1];else for(var i in n){if(t<n[i]){t=r;break}r=n[i]}return t};t.checkNavigable=b;var w=function(e){var t=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var n,r=e.listRef,i=r.querySelectorAll&&r.querySelectorAll(".slick-slide")||[];if(Array.from(i).every((function(r){if(e.vertical){if(r.offsetTop+y(r)/2>-1*e.swipeLeft)return n=r,!1}else if(r.offsetLeft-t+v(r)/2>-1*e.swipeLeft)return n=r,!1;return!0})),!n)return 0;var a=!0===e.rtl?e.slideCount-e.currentSlide:e.currentSlide;return Math.abs(n.dataset.index-a)||1}return e.slidesToScroll};t.getSlideCount=w;var x=function(e,t){return t.reduce((function(t,n){return t&&e.hasOwnProperty(n)}),!0)?null:console.error("Keys Missing:",e)};t.checkSpecKeys=x;var _=function(e){var t,n;x(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var r=e.slideCount+2*e.slidesToShow;e.vertical?n=r*e.slideHeight:t=C(e)*e.slideWidth;var i={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",s=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",u=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";i=o(o({},i),{},{WebkitTransform:a,transform:s,msTransform:u})}else e.vertical?i.top=e.left:i.left=e.left;return e.fade&&(i={opacity:1}),t&&(i.width=t),n&&(i.height=n),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?i.marginTop=e.left+"px":i.marginLeft=e.left+"px"),i};t.getTrackCSS=_;var S=function(e){x(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=_(e);return e.useTransform?(t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?t.transition="top "+e.speed+"ms "+e.cssEase:t.transition="left "+e.speed+"ms "+e.cssEase,t};t.getTrackAnimateCSS=S;var E=function(e){if(e.unslick)return 0;x(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t,n,r=e.slideIndex,i=e.trackRef,a=e.infinite,o=e.centerMode,s=e.slideCount,u=e.slidesToShow,c=e.slidesToScroll,l=e.slideWidth,f=e.listWidth,h=e.variableWidth,d=e.slideHeight,p=e.fade,v=e.vertical;if(p||1===e.slideCount)return 0;var y=0;if(a?(y=-T(e),s%c!==0&&r+c>s&&(y=-(r>s?u-(r-s):s%c)),o&&(y+=parseInt(u/2))):(s%c!==0&&r+c>s&&(y=u-s%c),o&&(y=parseInt(u/2))),t=v?r*d*-1+y*d:r*l*-1+y*l,!0===h){var m,g=i&&i.node;if(m=r+T(e),t=(n=g&&g.childNodes[m])?-1*n.offsetLeft:0,!0===o){m=a?r+T(e):r,n=g&&g.children[m],t=0;for(var k=0;k<m;k++)t-=g&&g.children[k]&&g.children[k].offsetWidth;t-=parseInt(e.centerPadding),t+=n&&(f-n.offsetWidth)/2}}return t};t.getTrackLeft=E;var T=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)};t.getPreClones=T;var I=function(e){return e.unslick||!e.infinite?0:e.slideCount};t.getPostClones=I;var C=function(e){return 1===e.slideCount?1:T(e)+e.slideCount+I(e)};t.getTotalSlides=C;var O=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+A(e)?"left":"right":e.targetSlide<e.currentSlide-R(e)?"right":"left"};t.siblingDirection=O;var A=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,i=e.centerPadding;if(n){var a=(t-1)/2+1;return parseInt(i)>0&&(a+=1),r&&t%2===0&&(a+=1),a}return r?0:t-1};t.slidesOnRight=A;var R=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,i=e.centerPadding;if(n){var a=(t-1)/2+1;return parseInt(i)>0&&(a+=1),r||t%2!==0||(a+=1),a}return r?t-1:0};t.slidesOnLeft=R;t.canUseDOM=function(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function m(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=y.prototype;var k=g.prototype=new m;k.constructor=g,r(k,y.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:b.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var E=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+T(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(E,"$&/")+"/"),I(o,t,n,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+T(s=e[c],c);u+=I(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=I(s=s.value,t,n,l=r+T(s,c++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function C(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function R(){var e=A.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(d(143));return e}},t.Component=y,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(R){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=E(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function y(){}function m(){}function g(){}var k={};u(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(O([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=y.prototype=Object.create(k);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return m.prototype=g,u(x,"constructor",g),u(g,"constructor",m),m.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(S.prototype),u(S.prototype,o,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new S(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),u(x,s,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:O(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},474:function(e,t,n){"use strict";n.r(t);var r=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),i="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,a="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),o="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(a):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var s=["top","right","bottom","left","width","height","size","weight"],u="undefined"!==typeof MutationObserver,c=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function a(){n&&(n=!1,e()),r&&u()}function s(){o(a)}function u(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);i=e}return u}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;s.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),l=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},f=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||a},h=g(0,0,0,0);function d(e){return parseFloat(e)||0}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+d(e["border-"+n+"-width"])}),0)}function v(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return h;var r=f(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],a=e["padding-"+i];t[i]=d(a)}return t}(r),a=i.left+i.right,o=i.top+i.bottom,s=d(r.width),u=d(r.height);if("border-box"===r.boxSizing&&(Math.round(s+a)!==t&&(s-=p(r,"left","right")+a),Math.round(u+o)!==n&&(u-=p(r,"top","bottom")+o)),!function(e){return e===f(e).document.documentElement}(e)){var c=Math.round(s+a)-t,l=Math.round(u+o)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(l)&&(u-=l)}return g(i.left,i.top,s,u)}var y="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof f(e).SVGGraphicsElement}:function(e){return e instanceof f(e).SVGElement&&"function"===typeof e.getBBox};function m(e){return i?y(e)?function(e){var t=e.getBBox();return g(0,0,t.width,t.height)}(e):v(e):h}function g(e,t,n,r){return{x:e,y:t,width:n,height:r}}var k=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=g(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=m(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),b=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,a="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return l(o,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),o}(t);l(this,{target:e,contentRect:n})},w=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new k(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new b(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),x="undefined"!==typeof WeakMap?new WeakMap:new r,_=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c.getInstance(),r=new w(t,n,this);x.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){_.prototype[e]=function(){var t;return(t=x.get(this))[e].apply(t,arguments)}}));var S="undefined"!==typeof a.ResizeObserver?a.ResizeObserver:_;t.default=S},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,y=null,m=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();k=e+g;try{y(!0,e)?w.postMessage(null):(v=!1,y=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){y=e,v||(v=!0,w.postMessage(null))},r=function(e,n){m=h((function(){e(t.unstable_now())}),n)},i=function(){d(m),m=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<E(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>E(o,n))void 0!==u&&0>E(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>E(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function E(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],I=[],C=1,O=null,A=3,R=!1,P=!1,N=!1;function D(e){for(var t=_(I);null!==t;){if(null===t.callback)S(I);else{if(!(t.startTime<=e))break;S(I),t.sortIndex=t.expirationTime,x(T,t)}t=_(I)}}function L(e){if(N=!1,D(e),!P)if(null!==_(T))P=!0,n(M);else{var t=_(I);null!==t&&r(L,t.startTime-e)}}function M(e,n){P=!1,N&&(N=!1,i()),R=!0;var a=A;try{for(D(n),O=_(T);null!==O&&(!(O.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=O.callback;if("function"===typeof o){O.callback=null,A=O.priorityLevel;var s=o(O.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?O.callback=s:O===_(T)&&S(T),D(n)}else S(T);O=_(T)}if(null!==O)var u=!0;else{var c=_(I);null!==c&&r(L,c.startTime-n),u=!1}return u}finally{O=null,A=a,R=!1}}var j=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||R||(P=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return _(T)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,x(I,e),null===_(T)&&e===_(I)&&(N?i():N=!0,r(L,o-s))):(e.sortIndex=u,x(T,e),P||R||(P=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<a.length;u++){var c=a[u];if(!s(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},806:function(e){e.exports=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})).toLowerCase()}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return lr},SDK_VERSION:function(){return ai},_DEFAULT_ENTRY_NAME:function(){return Hr},_addComponent:function(){return Qr},_addOrOverwriteComponent:function(){return $r},_apps:function(){return Kr},_clearComponents:function(){return Zr},_components:function(){return Gr},_getProvider:function(){return Xr},_registerComponent:function(){return Yr},_removeServiceInstance:function(){return Jr},deleteApp:function(){return ci},getApp:function(){return si},getApps:function(){return ui},initializeApp:function(){return oi},onLog:function(){return hi},registerVersion:function(){return fi},setLogLevel:function(){return di}});var t=n(791),r=n(164);function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function s(e){return"/"===e.charAt(0)}function u(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var c=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&s(e),o=t&&s(t),c=a||o;if(e&&s(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var l=i[i.length-1];n="."===l||".."===l||""===l}else n=!1;for(var f=0,h=i.length;h>=0;h--){var d=i[h];"."===d?u(i,h):".."===d?(u(i,h),f++):f&&(u(i,h),f--)}if(!c)for(;f--;f)i.unshift("..");!c||""===i[0]||i[0]&&s(i[0])||i.unshift("");var p=i.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p},l="Invariant failed";function f(e,t){if(!e)throw new Error(l)}function h(e){return"/"===e.charAt(0)?e:"/"+e}function d(e){return"/"===e.charAt(0)?e.substr(1):e}function p(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function v(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function y(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function m(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=o({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=c(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function g(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var k=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}var w="popstate",x="hashchange";function _(){try{return window.history.state||{}}catch(e){return{}}}function S(e){void 0===e&&(e={}),k||f(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,s=void 0!==a&&a,u=i.getUserConfirmation,c=void 0===u?b:u,l=i.keyLength,d=void 0===l?6:l,S=e.basename?v(h(e.basename)):"";function E(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return S&&(a=p(a,S)),m(a,r,n)}function T(){return Math.random().toString(36).substr(2,d)}var I=g();function C(e){o(z,e),z.length=t.length,I.notifyListeners(z.location,z.action)}function O(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||P(E(e.state))}function A(){P(E(_()))}var R=!1;function P(e){if(R)R=!1,C();else{I.confirmTransitionTo(e,"POP",c,(function(t){t?C({action:"POP",location:e}):function(e){var t=z.location,n=D.indexOf(t.key);-1===n&&(n=0);var r=D.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(R=!0,M(i))}(e)}))}}var N=E(_()),D=[N.key];function L(e){return S+y(e)}function M(e){t.go(e)}var j=0;function F(e){1===(j+=e)&&1===e?(window.addEventListener(w,O),r&&window.addEventListener(x,A)):0===j&&(window.removeEventListener(w,O),r&&window.removeEventListener(x,A))}var U=!1;var z={length:t.length,action:"POP",location:N,createHref:L,push:function(e,r){var i="PUSH",a=m(e,r,T(),z.location);I.confirmTransitionTo(a,i,c,(function(e){if(e){var r=L(a),o=a.key,u=a.state;if(n)if(t.pushState({key:o,state:u},null,r),s)window.location.href=r;else{var c=D.indexOf(z.location.key),l=D.slice(0,c+1);l.push(a.key),D=l,C({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=m(e,r,T(),z.location);I.confirmTransitionTo(a,i,c,(function(e){if(e){var r=L(a),o=a.key,u=a.state;if(n)if(t.replaceState({key:o,state:u},null,r),s)window.location.replace(r);else{var c=D.indexOf(z.location.key);-1!==c&&(D[c]=a.key),C({action:i,location:a})}else window.location.replace(r)}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=I.setPrompt(e);return U||(F(1),U=!0),function(){return U&&(U=!1,F(-1)),t()}},listen:function(e){var t=I.appendListener(e);return F(1),function(){F(-1),t()}}};return z}var E="hashchange",T={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+d(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:d,decodePath:h},slash:{encodePath:h,decodePath:h}};function I(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function C(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function O(e){window.location.replace(I(window.location.href)+"#"+e)}function A(e){void 0===e&&{},k||f(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?b:r,a=n.hashType,s=void 0===a?"slash":a,u=e.basename?v(h(e.basename)):"",c=T[s],l=c.encodePath,d=c.decodePath;function w(){var e=d(C());return u&&p(e,u),m(e)}var x=g();function _(e){o(z,e),z.length=t.length,x.notifyListeners(z.location,z.action)}var S=!1,A=null;function R(){var e=C(),t=l(e);if(e!==t)O(t);else{var n=w(),r=z.location;if(!S&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(A===y(n))return;null,function(e){if(S)!1,_();else{var t="POP";x.confirmTransitionTo(e,t,i,(function(n){n?_({action:t,location:e}):function(e){var t=z.location,n=L.lastIndexOf(y(t));-1===n&&0;var r=L.lastIndexOf(y(e));-1===r&&0;var i=n-r;i&&(!0,M(i))}(e)}))}}(n)}}var P=C(),N=l(P);P!==N&&O(N);var D=w(),L=[y(D)];function M(e){t.go(e)}var j=0;function F(e){1===(j+=e)&&1===e?window.addEventListener(E,R):0===j&&window.removeEventListener(E,R)}var U=!1;var z={length:t.length,action:"POP",location:D,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&I(window.location.href),n+"#"+l(u+y(e))},push:function(e,t){var n="PUSH",r=m(e,void 0,void 0,z.location);x.confirmTransitionTo(r,n,i,(function(e){if(e){var t=y(r),i=l(u+t);if(C()!==i){t,function(e){window.location.hash=e}(i);var a=L.lastIndexOf(y(z.location)),o=L.slice(0,a+1);o.push(t),o,_({action:n,location:r})}else _()}}))},replace:function(e,t){var n="REPLACE",r=m(e,void 0,void 0,z.location);x.confirmTransitionTo(r,n,i,(function(e){if(e){var t=y(r),i=l(u+t);C()!==i&&(t,O(i));var a=L.indexOf(y(z.location));-1!==a&&(L[a]=t),_({action:n,location:r})}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&!1;var t=x.setPrompt(e);return U||(F(1),!0),function(){return U&&(!1,F(-1)),t()}},listen:function(e){var t=x.appendListener(e);return F(1),function(){F(-1),t()}}};return z}function R(e,t,n){return Math.min(Math.max(e,t),n)}function P(e){void 0===e&&{};var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,a=t.initialIndex,s=void 0===a?0:a,u=t.keyLength,c=void 0===u?6:u,l=g();function f(e){o(b,e),b.length=b.entries.length,l.notifyListeners(b.location,b.action)}function h(){return Math.random().toString(36).substr(2,c)}var d=R(s,0,i.length-1),p=i.map((function(e){return m(e,void 0,"string"===typeof e?h():e.key||h())})),v=y;function k(e){var t=R(b.index+e,0,b.entries.length-1),r=b.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var b={length:p.length,action:"POP",location:p[d],index:d,entries:p,createHref:v,push:function(e,t){var r="PUSH",i=m(e,t,h(),b.location);l.confirmTransitionTo(i,r,n,(function(e){if(e){var t=b.index+1,n=b.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),f({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=m(e,t,h(),b.location);l.confirmTransitionTo(i,r,n,(function(e){e&&(b.entries[b.index]=i,f({action:r,location:i}))}))},go:k,goBack:function(){k(-1)},goForward:function(){k(1)},canGo:function(e){var t=b.index+e;return t>=0&&t<b.entries.length},block:function(e){return void 0===e&&!1,l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return b}var N=n(7),D=n.n(N),L=1073741823,M="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function j(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var F=t.createContext||function(e,n){var r,i,o="__create-react-context-"+function(){var e="__global_unique_id__";return M[e]=(M[e]||0)+1}()+"__",s=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=j(t.props.value),t}a(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):L,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);s.childContextTypes=((r={})[o]=D().object.isRequired,r);var u=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}a(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?L:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?L:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return u.contextTypes=((i={})[o]=D().object,i),{Provider:s,Consumer:u}},U=F,z=n(239),V=n.n(z);n(228);function q(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var B=n(110),H=n.n(B),W=function(e){var t=U();return t.displayName=e,t},K=W("Router-History"),G=function(e){var t=U();return t.displayName=e,t},Q=G("Router"),$=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}a(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&this.unlisten()},r.render=function(){return t.createElement(Q.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(K.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component;t.Component;var Y={},X=0;function J(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,s=void 0!==o&&o,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=Y[n]||(Y[n]={});if(r[e])return r[e];var i=[],a={regexp:V()(e,i,t),keys:i};return X<1e4&&(r[e]=a,X++),a}(n,{end:a,strict:s,sensitive:c}),i=r.regexp,o=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],f=u.slice(1),h=e===l;return a&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var Z=function(e){function n(){return e.apply(this,arguments)||this}return a(n,e),n.prototype.render=function(){var e=this;return t.createElement(Q.Consumer,null,(function(n){n||f(!1);var r=e.props.location||n.location,i=o({},n,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?J(r.pathname,e.props):n.match}),a=e.props,s=a.children,u=a.component,c=a.render;return Array.isArray(s)&&0===s.length&&(s=null),t.createElement(Q.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:u?t.createElement(u,i):c?c(i):null:"function"===typeof s?s(i):null)}))},n}(t.Component);function ee(e){return"/"===e.charAt(0)?e:"/"+e}function te(e,t){if(!e)return t;var n=ee(e);return 0!==t.pathname.indexOf(n)?t:o({},t,{pathname:t.pathname.substr(n.length)})}function ne(e){return"string"===typeof e?e:y(e)}function re(e){return function(){f(!1)}}function ie(){}t.Component;var ae=function(e){function n(){return e.apply(this,arguments)||this}return a(n,e),n.prototype.render=function(){var e=this;return t.createElement(Q.Consumer,null,(function(n){n||f(!1);var r,i,a=e.props.location||n.location;return t.Children.forEach(e.props.children,(function(e){if(null==i&&t.isValidElement(e)){r=e;var s=e.props.path||e.props.from;i=s?J(a.pathname,o({},e.props,{path:s})):n.match}})),i?t.cloneElement(r,{location:a,computedMatch:i}):null}))},n}(t.Component);var oe=t.useContext;var se=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=S(t.props),t}return a(n,e),n.prototype.render=function(){return t.createElement($,{history:this.history,children:this.props.children})},n}(t.Component);t.Component;var ue=function(e,t){return"function"===typeof e?e(t):e},ce=function(e,t){return"string"===typeof e?m(e,null,null,t):e},le=function(e){return e},fe=t.forwardRef;"undefined"===typeof fe&&(fe=le);var he=fe((function(e,n){var r=e.innerRef,i=e.navigate,a=e.onClick,s=q(e,["innerRef","navigate","onClick"]),u=s.target,c=o({},s,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||u&&"_self"!==u||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return c.ref=le!==fe&&n||r,t.createElement("a",c)}));var de=fe((function(e,n){var r=e.component,i=void 0===r?he:r,a=e.replace,s=e.to,u=e.innerRef,c=q(e,["component","replace","to","innerRef"]);return t.createElement(Q.Consumer,null,(function(e){e||f(!1);var r=e.history,l=ce(ue(s,e.location),e.location),h=l?r.createHref(l):"",d=o({},c,{href:h,navigate:function(){var t=ue(s,e.location);(a?r.replace:r.push)(t)}});return le!==fe?d.ref=n||u:d.innerRef=u,t.createElement(i,d)}))})),pe=function(e){return e},ve=t.forwardRef;"undefined"===typeof ve&&(ve=pe);ve((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.activeClassName,s=void 0===a?"active":a,u=e.activeStyle,c=e.className,l=e.exact,h=e.isActive,d=e.location,p=e.sensitive,v=e.strict,y=e.style,m=e.to,g=e.innerRef,k=q(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(Q.Consumer,null,(function(e){e||f(!1);var r=d||e.location,a=ce(ue(m,r),r),b=a.pathname,w=b&&b.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),x=w?J(r.pathname,{path:w,exact:l,sensitive:p,strict:v}):null,_=!!(h?h(x,r):x),S=_?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(c,s):c,E=_?o({},y,{},u):y,T=o({"aria-current":_&&i||null,className:S,style:E,to:a},k);return pe!==ve?T.ref=n||g:T.innerRef=g,t.createElement(de,T)}))}));function ye(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var me=n(441),ge=n(613),ke=n.n(ge);var be=function(e){function t(e,r,u,c,h){for(var d,p,v,y,b,x=0,_=0,S=0,E=0,T=0,P=0,D=v=d=0,M=0,j=0,F=0,U=0,z=u.length,V=z-1,q="",B="",H="",W="";M<z;){if(p=u.charCodeAt(M),M===V&&0!==_+E+S+x&&(0!==_&&(p=47===_?10:47),E=S=x=0,z++,V++),0===_+E+S+x){if(M===V&&(0<j&&(q=q.replace(f,"")),0<q.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:q+=u.charAt(M)}p=59}switch(p){case 123:for(d=(q=q.trim()).charCodeAt(0),v=1,U=++M;M<z;){switch(p=u.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(p=u.charCodeAt(M+1)){case 42:case 47:e:{for(D=M+1;D<V;++D)switch(u.charCodeAt(D)){case 47:if(42===p&&42===u.charCodeAt(D-1)&&M+2!==D){M=D+1;break e}break;case 10:if(47===p){M=D+1;break e}}M=D}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<V&&u.charCodeAt(M)!==p;);}if(0===v)break;M++}if(v=u.substring(U,M),0===d&&(d=(q=q.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<j&&(q=q.replace(f,"")),p=q.charCodeAt(1)){case 100:case 109:case 115:case 45:j=r;break;default:j=R}if(U=(v=t(r,j,v,p,h+1)).length,0<N&&(b=s(3,v,j=n(R,q,F),r,C,I,U,p,h,c),q=j.join(""),void 0!==b&&0===(U=(v=b.trim()).length)&&(p=0,v="")),0<U)switch(p){case 115:q=q.replace(w,o);case 100:case 109:case 45:v=q+"{"+v+"}";break;case 107:v=(q=q.replace(m,"$1 $2"))+"{"+v+"}",v=1===A||2===A&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=q+v,112===c&&(B+=v,v="")}else v=""}else v=t(r,n(r,q,F),v,c,h+1);H+=v,v=F=j=D=d=0,q="",p=u.charCodeAt(++M);break;case 125:case 59:if(1<(U=(q=(0<j?q.replace(f,""):q).trim()).length))switch(0===D&&(d=q.charCodeAt(0),45===d||96<d&&123>d)&&(U=(q=q.replace(" ",":")).length),0<N&&void 0!==(b=s(1,q,r,e,C,I,B.length,c,h,c))&&0===(U=(q=b.trim()).length)&&(q="\0\0"),d=q.charCodeAt(0),p=q.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){W+=q+u.charAt(M);break}default:58!==q.charCodeAt(U-1)&&(B+=i(q,d,p,q.charCodeAt(2)))}F=j=D=d=0,q="",p=u.charCodeAt(++M)}}switch(p){case 13:case 10:47===_?_=0:0===1+d&&107!==c&&0<q.length&&(j=1,q+="\0"),0<N*L&&s(0,q,r,e,C,I,B.length,c,h,c),I=1,C++;break;case 59:case 125:if(0===_+E+S+x){I++;break}default:switch(I++,y=u.charAt(M),p){case 9:case 32:if(0===E+x+_)switch(T){case 44:case 58:case 9:case 32:y="";break;default:32!==p&&(y=" ")}break;case 0:y="\\0";break;case 12:y="\\f";break;case 11:y="\\v";break;case 38:0===E+_+x&&(j=F=1,y="\f"+y);break;case 108:if(0===E+_+x+O&&0<D)switch(M-D){case 2:112===T&&58===u.charCodeAt(M-3)&&(O=T);case 8:111===P&&(O=P)}break;case 58:0===E+_+x&&(D=M);break;case 44:0===_+S+E+x&&(j=1,y+="\r");break;case 34:case 39:0===_&&(E=E===p?0:0===E?p:E);break;case 91:0===E+_+S&&x++;break;case 93:0===E+_+S&&x--;break;case 41:0===E+_+x&&S--;break;case 40:if(0===E+_+x){if(0===d)if(2*T+3*P===533);else d=1;S++}break;case 64:0===_+S+E+x+D+v&&(v=1);break;case 42:case 47:if(!(0<E+x+S))switch(_){case 0:switch(2*p+3*u.charCodeAt(M+1)){case 235:_=47;break;case 220:U=M,_=42}break;case 42:47===p&&42===T&&U+2!==M&&(33===u.charCodeAt(U+2)&&(B+=u.substring(U,M+1)),y="",_=0)}}0===_&&(q+=y)}P=T,T=p,M++}if(0<(U=B.length)){if(j=r,0<N&&(void 0!==(b=s(2,B,j,e,C,I,U,c,h,c))&&0===(B=b).length))return W+B+H;if(B=j.join(",")+"{"+B+"}",0!==A*O){switch(2!==A||a(B,2)||(O=0),O){case 111:B=B.replace(k,":-moz-$1")+B;break;case 112:B=B.replace(g,"::-webkit-input-$1")+B.replace(g,"::-moz-$1")+B.replace(g,":-ms-input-$1")+B}O=0}}return W+B+H}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<a;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<a;++s)for(var c=0;c<o;++c)t[u++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(y,"$1"+e.trim());case 58:return e.trim()+t.replace(y,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(y,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",s=2*t+3*n+4*r;if(944===s){e=o.indexOf(":",9)+1;var u=o.substring(e,o.length-1).trim();return u=o.substring(0,e).trim()+u+";",1===A||2===A&&a(u,1)?"-webkit-"+u+u:u}if(0===A||2===A&&!a(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(T,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(u=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+u+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(u=o.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=o.replace(b,"tb");break;case 232:u=o.replace(b,"tb-rl");break;case 220:u=o.replace(b,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+u+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(u=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:o=o.replace(u,"-webkit-"+u)+";"+o;break;case 207:case 102:o=o.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(u,"-webkit-"+u)+";"+o.replace(u,"-ms-"+u+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return u=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+u+"-ms-flex-"+u+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(_,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(_,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===E.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(u,"-webkit-"+u)+o.replace(u,"-moz-"+u.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(S,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,a,o,s,u,l){for(var f,h=0,d=t;h<N;++h)switch(f=P[h].call(c,e,d,n,r,i,a,o,s,u,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function u(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!==typeof e?A=1:(A=2,D=e):A=0),u}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<N){var i=s(-1,n,r,r,C,I,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(R,r,n,0,0);return 0<N&&(void 0!==(i=s(-2,a,r,r,C,I,a.length,0,0,0))&&(a=i)),"",O=0,I=C=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,y=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,k=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,_=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,E=/stretch|:\s*\w+\-(?:conte|avail)/,T=/([^-])(image-set\()/,I=1,C=1,O=0,A=1,R=[],P=[],N=0,D=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:N=P.length=0;break;default:if("function"===typeof t)P[N++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=u,void 0!==e&&u(e),c},we={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var xe=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},_e=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Se=xe((function(e){return _e.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));function Ee(){return(Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Te=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},Ie=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,me.typeOf)(e)},Ce=Object.freeze([]),Oe=Object.freeze({});function Ae(e){return"function"==typeof e}function Re(e){return e.displayName||e.name||"Component"}function Pe(e){return e&&"string"==typeof e.styledComponentId}var Ne="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"/relativepath",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/relativepath",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",De="undefined"!=typeof window&&"HTMLElement"in window,Le=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/relativepath",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/relativepath",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/relativepath",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/relativepath",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/relativepath",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/relativepath",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/relativepath",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/relativepath",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY));function Me(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var je=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&Me(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),Fe=new Map,Ue=new Map,ze=1,Ve=function(e){if(Fe.has(e))return Fe.get(e);for(;Ue.has(ze);)ze++;var t=ze++;return Fe.set(e,t),Ue.set(t,e),t},qe=function(e){return Ue.get(e)},Be=function(e,t){t>=ze&&(ze=t+1),Fe.set(e,t),Ue.set(t,e)},He="style["+Ne+'][data-styled-version="5.3.3"]',We=new RegExp("^"+Ne+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),Ke=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},Ge=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var s=o.match(We);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(Be(c,u),Ke(e,c,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(o)}}},Qe=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},$e=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(Ne))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(Ne,"active"),r.setAttribute("data-styled-version","5.3.3");var o=Qe();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},Ye=function(){function e(e){var t=this.element=$e(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}Me(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),Xe=function(){function e(e){var t=this.element=$e(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Je=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),Ze=De,et={isServer:!De,useCSSOMInjection:!Le},tt=function(){function e(e,t,n){void 0===e&&(e=Oe),void 0===t&&(t={}),this.options=Ee({},et,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&De&&Ze&&(Ze=!1,function(e){for(var t=document.querySelectorAll(He),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(Ne)&&(Ge(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return Ve(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(Ee({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new Je(i):r?new Ye(i):new Xe(i),new je(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(Ve(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(Ve(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(Ve(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=qe(i);if(void 0!==a){var o=e.names.get(a),s=t.getGroup(i);if(o&&s&&o.size){var u=Ne+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+s+u+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),nt=/(a)(d)/gi,rt=function(e){return String.fromCharCode(e+(e>25?39:97))};function it(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=rt(t%52)+n;return(rt(t%52)+n).replace(nt,"$1-$2")}var at=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},ot=function(e){return at(5381,e)};function st(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Ae(n)&&!Pe(n))return!1}return!0}var ut=ot("5.3.3"),ct=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&st(e),this.componentId=t,this.baseHash=at(ut,t),this.baseStyle=n,tt.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=It(this.rules,e,t,n).join(""),o=it(at(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var s=n(a,"."+o,void 0,r);t.insertRules(r,o,s)}i.push(o),this.staticRulesId=o}else{for(var u=this.rules.length,c=at(this.baseHash,n.hash),l="",f=0;f<u;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=It(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=at(c,p+f),l+=p}}if(l){var v=it(c>>>0);if(!t.hasNameForId(r,v)){var y=n(l,"."+v,void 0,r);t.insertRules(r,v,y)}i.push(v)}}return i.join(" ")},e}(),lt=/^\s*\/\/.*$/gm,ft=[":","[",".","#"];function ht(e){var t,n,r,i,a=void 0===e?Oe:e,o=a.options,s=void 0===o?Oe:o,u=a.plugins,c=void 0===u?Ce:u,l=new be(s),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,s,u,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),d=function(e,r,a){return 0===r&&-1!==ft.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,s){void 0===s&&(s="&");var u=e.replace(lt,""),c=a&&o?o+" "+a+" { "+u+" }":u;return t=s,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(o||!a?"":a,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||Me(15),at(e,t.name)}),5381).toString():"",p}var dt=t.createContext(),pt=(dt.Consumer,t.createContext()),vt=(pt.Consumer,new tt),yt=ht();function mt(){return(0,t.useContext)(dt)||vt}function gt(){return(0,t.useContext)(pt)||yt}function kt(e){var n=(0,t.useState)(e.stylisPlugins),r=n[0],i=n[1],a=mt(),o=(0,t.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),s=(0,t.useMemo)((function(){return ht({options:{prefix:!e.disableVendorPrefixes},plugins:r})}),[e.disableVendorPrefixes,r]);return(0,t.useEffect)((function(){ke()(r,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),t.createElement(dt.Provider,{value:o},t.createElement(pt.Provider,{value:s},e.children))}var bt=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=yt);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return Me(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=yt),this.name+e.hash},e}(),wt=/([A-Z])/,xt=/([A-Z])/g,_t=/^ms-/,St=function(e){return"-"+e.toLowerCase()};function Et(e){return wt.test(e)?e.replace(xt,St).replace(_t,"-ms-"):e}var Tt=function(e){return null==e||!1===e||""===e};function It(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,s=e.length;o<s;o+=1)""!==(i=It(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return Tt(e)?"":Pe(e)?"."+e.styledComponentId:Ae(e)?"function"!=typeof(u=e)||u.prototype&&u.prototype.isReactComponent||!t?e:It(e(t),t,n,r):e instanceof bt?n?(e.inject(n,r),e.getName(r)):e:Ie(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!Tt(t[o])&&(Array.isArray(t[o])&&t[o].isCss||Ae(t[o])?a.push(Et(o)+":",t[o],";"):Ie(t[o])?a.push.apply(a,e(t[o],o)):a.push(Et(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in we?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var u}var Ct=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function Ot(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ae(e)||Ie(e)?Ct(It(Te(Ce,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:Ct(It(Te(e,n)))}new Set;var At=function(e,t,n){return void 0===n&&(n=Oe),e.theme!==n.theme&&e.theme||t||n.theme},Rt=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Pt=/(^-|-$)/g;function Nt(e){return e.replace(Rt,"-").replace(Pt,"")}var Dt=function(e){return it(ot(e)>>>0)};function Lt(e){return"string"==typeof e&&!0}var Mt=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},jt=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Ft(e,t,n){var r=e[n];Mt(t)&&Mt(r)?Ut(r,t):e[n]=t}function Ut(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(Mt(o))for(var s in o)jt(s)&&Ft(e,o[s],s)}return e}var zt=t.createContext();zt.Consumer;var Vt={};function qt(e,n,r){var i=Pe(e),a=!Lt(e),o=n.attrs,s=void 0===o?Ce:o,u=n.componentId,c=void 0===u?function(e,t){var n="string"!=typeof e?"sc":Nt(e);Vt[n]=(Vt[n]||0)+1;var r=n+"-"+Dt("5.3.3"+n+Vt[n]);return t?t+"-"+r:r}(n.displayName,n.parentComponentId):u,l=n.displayName,f=void 0===l?function(e){return Lt(e)?"styled."+e:"Styled("+Re(e)+")"}(e):l,h=n.displayName&&n.componentId?Nt(n.displayName)+"-"+n.componentId:n.componentId||c,d=i&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,p=n.shouldForwardProp;i&&e.shouldForwardProp&&(p=n.shouldForwardProp?function(t,r,i){return e.shouldForwardProp(t,r,i)&&n.shouldForwardProp(t,r,i)}:e.shouldForwardProp);var v,y=new ct(r,h,i?e.componentStyle:void 0),m=y.isStatic&&0===s.length,g=function(e,n){return function(e,n,r,i){var a=e.attrs,o=e.componentStyle,s=e.defaultProps,u=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,f=e.target,h=function(e,t,n){void 0===e&&(e=Oe);var r=Ee({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in Ae(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(At(n,(0,t.useContext)(zt),s)||Oe,n,a),d=h[0],p=h[1],v=function(e,t,n,r){var i=mt(),a=gt();return t?e.generateAndInjectStyles(Oe,i,a):e.generateAndInjectStyles(n,i,a)}(o,i,d),y=r,m=p.$as||n.$as||p.as||n.as||f,g=Lt(m),k=p!==n?Ee({},n,{},p):n,b={};for(var w in k)"$"!==w[0]&&"as"!==w&&("forwardedAs"===w?b.as=k[w]:(c?c(w,Se,m):!g||Se(w))&&(b[w]=k[w]));return n.style&&p.style!==n.style&&(b.style=Ee({},n.style,{},p.style)),b.className=Array.prototype.concat(u,l,v!==l?v:null,n.className,p.className).filter(Boolean).join(" "),b.ref=y,(0,t.createElement)(m,b)}(v,e,n,m)};return g.displayName=f,(v=t.forwardRef(g)).attrs=d,v.componentStyle=y,v.displayName=f,v.shouldForwardProp=p,v.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):Ce,v.styledComponentId=h,v.target=i?e.target:e,v.withComponent=function(e){var t=n.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["componentId"]),a=t&&t+"-"+(Lt(e)?e:Nt(Re(e)));return qt(e,Ee({},i,{attrs:d,componentId:a}),r)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?Ut({},e.defaultProps,t):t}}),v.toString=function(){return"."+v.styledComponentId},a&&H()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var Bt=function(e){return function e(t,n,r){if(void 0===r&&(r=Oe),!(0,me.isValidElementType)(n))return Me(1,String(n));var i=function(){return t(n,r,Ot.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,Ee({},r,{},i))},i.attrs=function(i){return e(t,n,Ee({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(qt,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Bt[e]=Bt(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=st(e),tt.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(It(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&tt.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=Qe();return"<style "+[n&&'nonce="'+n+'"',Ne+'="true"','data-styled-version="5.3.3"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?Me(2):e._emitSheetCSS()},this.getStyleElement=function(){var n;if(e.sealed)return Me(2);var r=((n={})[Ne]="",n["data-styled-version"]="5.3.3",n.dangerouslySetInnerHTML={__html:e.instance.toString()},n),i=Qe();return i&&(r.nonce=i),[t.createElement("style",Ee({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new tt({isServer:!0}),this.sealed=!1}var n=e.prototype;n.collectStyles=function(e){return this.sealed?Me(2):t.createElement(kt,{sheet:this.instance},e)},n.interleaveWithNodeStream=function(e){return Me(3)}}();var Ht,Wt,Kt,Gt,Qt,$t,Yt,Xt,Jt=Bt,Zt=n(184),en=Jt.section(Ht||(Ht=ye(["\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n  height: 100vh;\n"]))),tn=Jt.div(Wt||(Wt=ye(["\n  margin-bottom: 10vw;\n  width: 100%;\n  position: relative;\n  min-height: 100vh;\n  box-sizing: border-box;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  padding: 80px 40px;\n  height: 100%;\n"]))),nn=Jt.div(Kt||(Kt=ye(['\n  height: 100%;\n  background-position: top;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-image: url("/images/login-background.jpg");\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  z-index: -1;\n']))),rn=Jt.div(Gt||(Gt=ye(["\n  max-width: 650px;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n"]))),an=Jt.img(Qt||(Qt=ye(["\n  margin-bottom: 12px;\n  max-width: 600px;\n  min-height: 1px;\n  display: block;\n  width: 100%;\n"]))),on=Jt.a($t||($t=ye(["\nfont-weight: bold;\ncolor: #f9f9f9;\nbackground-color: #0063e5;\nmargin-bottom: 12px;\nwidth: 100%;\nletter-spacing: 1.5px;\nfont-size: 18px;\npadding: 16.5px 0px;\nborder: 1px solid transparent;\nborder-radius: 4px;\n\n&:hover{\n    background-color: #0483ee;\n}\n"]))),sn=Jt.p(Yt||(Yt=ye(["\ncolor: hsla(0, 0%, 95.3%, 1);\nfont-size: 11px;\nmargin: 0 0 24px;\nline-height: 1.5;\nletter-spacing: 1.5px;\n"]))),un=Jt.img(Xt||(Xt=ye(["\nmax-width: 600px;\nmargin-bottom: 20px;\ndisplay: inline-block;\nvertical-align: bottom;\nwidth: 100%;\n"]))),cn=function(e){return(0,Zt.jsx)(en,{children:(0,Zt.jsxs)(tn,{children:[(0,Zt.jsxs)(rn,{children:[(0,Zt.jsx)(an,{src:"/images/cta-logo-one.svg",alt:""}),(0,Zt.jsx)(on,{children:"GET ALL THERE"}),(0,Zt.jsx)(sn,{children:"Get Premier Access to Raya and the Last Dragon for an additional fee with a Disney+ subscription. As of 03/26/21, the price of Disney+ and The Disney Bundle will increase by $1."}),(0,Zt.jsx)(un,{src:"/images/cta-logo-two.png",alt:""})]}),(0,Zt.jsx)(nn,{})]})})};function ln(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function fn(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){ln(a,r,i,o,s,"next",e)}function s(e){ln(a,r,i,o,s,"throw",e)}o(void 0)}))}}var hn=n(757),dn=n.n(hn),pn=t.createContext(null);var vn=function(e){e()},yn=function(){return vn};var mn={notify:function(){},get:function(){return[]}};function gn(e,t){var n,r=mn;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=yn(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=mn)},getListeners:function(){return r}};return o}var kn="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?t.useLayoutEffect:t.useEffect;var bn=function(e){var n=e.store,r=e.context,i=e.children,a=(0,t.useMemo)((function(){var e=gn(n);return e.onStateChange=e.notifyNestedSubs,{store:n,subscription:e}}),[n]),o=(0,t.useMemo)((function(){return n.getState()}),[n]);kn((function(){var e=a.subscription;return e.trySubscribe(),o!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[a,o]);var s=r||pn;return t.createElement(s.Provider,{value:a},i)};function wn(){return(0,t.useContext)(pn)}function xn(e){void 0===e&&(e=pn);var n=e===pn?wn:function(){return(0,t.useContext)(e)};return function(){return n().store}}var _n=xn();function Sn(e){void 0===e&&(e=pn);var t=e===pn?_n:xn(e);return function(){return t().dispatch}}var En=Sn(),Tn=function(e,t){return e===t};function In(e){void 0===e&&(e=pn);var n=e===pn?wn:function(){return(0,t.useContext)(e)};return function(e,r){void 0===r&&(r=Tn);var i=n(),a=function(e,n,r,i){var a,o=(0,t.useReducer)((function(e){return e+1}),0)[1],s=(0,t.useMemo)((function(){return gn(r,i)}),[r,i]),u=(0,t.useRef)(),c=(0,t.useRef)(),l=(0,t.useRef)(),f=(0,t.useRef)(),h=r.getState();try{if(e!==c.current||h!==l.current||u.current){var d=e(h);a=void 0!==f.current&&n(d,f.current)?f.current:d}else a=f.current}catch(p){throw u.current&&(p.message+="\nThe error may be correlated with this previous error:\n"+u.current.stack+"\n\n"),p}return kn((function(){c.current=e,l.current=h,f.current=a,u.current=void 0})),kn((function(){function e(){try{var e=r.getState();if(e===l.current)return;var t=c.current(e);if(n(t,f.current))return;f.current=t,l.current=e}catch(p){u.current=p}o()}return s.onStateChange=e,s.trySubscribe(),e(),function(){return s.tryUnsubscribe()}}),[r,s]),a}(e,r,i.store,i.subscription);return(0,t.useDebugValue)(a),a}}var Cn,On=In();function An(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nn(e,t,n){return t&&Pn(e.prototype,t),n&&Pn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ln(e,t){if(e){if("string"===typeof e)return Dn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dn(e,t):void 0}}function Mn(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ln(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function jn(e){if(Array.isArray(e))return e}function Fn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Un(e,t){return jn(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||Ln(e,t)||Fn()}function zn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}function qn(e){return qn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qn(e)}function Bn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Hn(e){return Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hn(e)}function Wn(e,t){if(t&&("object"===Hn(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zn(e)}function Kn(e){var t=Bn();return function(){var n,r=qn(e);if(t){var i=qn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Wn(this,n)}}function Gn(e,t,n){return Gn=Bn()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&i(a,n.prototype),a},Gn.apply(null,arguments)}function Qn(e){var t="function"===typeof Map?new Map:void 0;return Qn=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Gn(e,arguments,qn(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),i(n,e)},Qn(e)}Cn=r.unstable_batchedUpdates,vn=Cn;var $n=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Yn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray($n(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Xn=function(e){return function(e){var t=$n(e);return Yn.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Jn=function(e){try{return Yn.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Zn(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&er(n)&&(e[n]=Zn(e[n],t[n]));return e}function er(e){return"__proto__"!==e}var tr=function(){function e(){var t=this;Rn(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Nn(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function nr(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Xn(JSON.stringify({alg:"none",type:"JWT"})),Xn(JSON.stringify(a)),""].join(".")}function rr(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ir(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rr())}function ar(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function or(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function sr(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function ur(){var e=rr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function cr(){return"object"===typeof indexedDB}var lr=function(e){Vn(n,e);var t=Kn(n);function n(e,r,i){var a;return Rn(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(zn(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(zn(a),fr.prototype.create),a}return Nn(n)}(Qn(Error)),fr=function(){function e(t,n,r){Rn(this,e),this.service=t,this.serviceName=n,this.errors=r}return Nn(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?hr(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new lr(n,a,t);return o}}]),e}();function hr(e,t){return e.replace(dr,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var dr=/\{\$([^}]+)}/g;function pr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function vr(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(yr(s)&&yr(u)){if(!vr(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function yr(e){return null!==e&&"object"===typeof e}function mr(e){for(var t=[],n=function(){var e=Un(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function gr(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=Un(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function kr(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function br(e,t){var n=new wr(e,t);return n.subscribe.bind(n)}var wr=function(){function e(t,n){var r=this;Rn(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Nn(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Mn(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=xr),void 0===r.error&&(r.error=xr),void 0===r.complete&&(r.complete=xr);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function xr(){}function _r(e){return e&&e._delegate?e._delegate:e}function Sr(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Er(e){return function(e){if(Array.isArray(e))return Dn(e)}(e)||Sr(e)||Ln(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Tr=function(){function e(t,n,r){Rn(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Nn(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ir="[DEFAULT]",Cr=function(){function e(t,n){Rn(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Nn(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new tr;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ir})}catch(u){}var t,n=Mn(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=Un(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ir;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=fn(hn.mark((function e(){var t;return hn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Er(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Er(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ir;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ir;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Mn(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=Un(i.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Mn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Y_){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ir?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Y_){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ir;return this.component?this.component.multipleInstances?e:Ir:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Or,Ar,Rr=function(){function e(t){Rn(this,e),this.name=t,this.providers=new Map}return Nn(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Cr(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Pr=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ar||(Ar={}));var Nr,Dr,Lr={debug:Ar.DEBUG,verbose:Ar.VERBOSE,info:Ar.INFO,warn:Ar.WARN,error:Ar.ERROR,silent:Ar.SILENT},Mr=Ar.INFO,jr=(An(Or={},Ar.DEBUG,"log"),An(Or,Ar.VERBOSE,"log"),An(Or,Ar.INFO,"info"),An(Or,Ar.WARN,"warn"),An(Or,Ar.ERROR,"error"),Or),Fr=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=jr[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Ur=function(){function e(t){Rn(this,e),this.name=t,this._logLevel=Mr,this._logHandler=Fr,this._userLogHandler=null,Pr.push(this)}return Nn(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Ar))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Lr[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ar.DEBUG].concat(t)),this._logHandler.apply(this,[this,Ar.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ar.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Ar.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ar.INFO].concat(t)),this._logHandler.apply(this,[this,Ar.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ar.WARN].concat(t)),this._logHandler.apply(this,[this,Ar.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ar.ERROR].concat(t)),this._logHandler.apply(this,[this,Ar.ERROR].concat(t))}}]),e}();var zr=function(){function e(t){Rn(this,e),this.container=t}return Nn(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Vr="@firebase/app",qr="0.7.12",Br=new Ur("@firebase/app"),Hr="[DEFAULT]",Wr=(An(Nr={},Vr,"fire-core"),An(Nr,"@firebase/app-compat","fire-core-compat"),An(Nr,"@firebase/analytics","fire-analytics"),An(Nr,"@firebase/analytics-compat","fire-analytics-compat"),An(Nr,"@firebase/app-check","fire-app-check"),An(Nr,"@firebase/app-check-compat","fire-app-check-compat"),An(Nr,"@firebase/auth","fire-auth"),An(Nr,"@firebase/auth-compat","fire-auth-compat"),An(Nr,"@firebase/database","fire-rtdb"),An(Nr,"@firebase/database-compat","fire-rtdb-compat"),An(Nr,"@firebase/functions","fire-fn"),An(Nr,"@firebase/functions-compat","fire-fn-compat"),An(Nr,"@firebase/installations","fire-iid"),An(Nr,"@firebase/installations-compat","fire-iid-compat"),An(Nr,"@firebase/messaging","fire-fcm"),An(Nr,"@firebase/messaging-compat","fire-fcm-compat"),An(Nr,"@firebase/performance","fire-perf"),An(Nr,"@firebase/performance-compat","fire-perf-compat"),An(Nr,"@firebase/remote-config","fire-rc"),An(Nr,"@firebase/remote-config-compat","fire-rc-compat"),An(Nr,"@firebase/storage","fire-gcs"),An(Nr,"@firebase/storage-compat","fire-gcs-compat"),An(Nr,"@firebase/firestore","fire-fst"),An(Nr,"@firebase/firestore-compat","fire-fst-compat"),An(Nr,"fire-js","fire-js"),An(Nr,"firebase","fire-js-all"),Nr),Kr=new Map,Gr=new Map;function Qr(e,t){try{e.container.addComponent(t)}catch(n){Br.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function $r(e,t){e.container.addOrOverwriteComponent(t)}function Yr(e){var t=e.name;if(Gr.has(t))return Br.debug("There were multiple attempts to register component ".concat(t,".")),!1;Gr.set(t,e);var n,r=Mn(Kr.values());try{for(r.s();!(n=r.n()).done;){Qr(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Xr(e,t){return e.container.getProvider(t)}function Jr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Hr;Xr(e,t).clearInstance(n)}function Zr(){Gr.clear()}var ei,ti,ni=(An(Dr={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),An(Dr,"bad-app-name","Illegal App name: '{$appName}"),An(Dr,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),An(Dr,"app-deleted","Firebase App named '{$appName}' already deleted"),An(Dr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),An(Dr,"invalid-log-argument","First argument to `onLog` must be null or a function."),Dr),ri=new fr("app","Firebase",ni),ii=function(){function e(t,n,r){var i=this;Rn(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Tr("app",(function(){return i}),"PUBLIC"))}return Nn(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw ri.create("app-deleted",{appName:this._name})}}]),e}(),ai="9.6.2";function oi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Hr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw ri.create("bad-app-name",{appName:String(i)});var a=Kr.get(i);if(a){if(vr(e,a.options)&&vr(r,a.config))return a;throw ri.create("duplicate-app",{appName:i})}var o,s=new Rr(i),u=Mn(Gr.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new ii(e,r,s);return Kr.set(i,l),l}function si(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hr,t=Kr.get(e);if(!t)throw ri.create("no-app",{appName:e});return t}function ui(){return Array.from(Kr.values())}function ci(e){return li.apply(this,arguments)}function li(){return li=fn(hn.mark((function e(t){var n;return hn.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Kr.has(n)){e.next=6;break}return Kr.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),li.apply(this,arguments)}function fi(e,t,n){var r,i=null!==(r=Wr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Br.warn(s.join(" "))}Yr(new Tr("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function hi(e,t){if(null!==e&&"function"!==typeof e)throw ri.create("invalid-log-argument");!function(e,t){var n,r=Mn(Pr);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Lr[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Ar[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function di(e){var t;t=e,Pr.forEach((function(e){e.setLogLevel(t)}))}ei="",Yr(new Tr("platform-logger",(function(e){return new zr(e)}),"PRIVATE")),fi(Vr,qr,ei),fi(Vr,qr,"esm2017"),fi("fire-js","");var pi=function(){function e(t,n){var r=this;Rn(this,e),this._delegate=t,this.firebase=n,Qr(t,new Tr("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Nn(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),ci(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Hr;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Hr;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Qr(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){$r(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),vi=(An(ti={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),An(ti,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ti),yi=new fr("app-compat","Firebase",vi);var mi=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=oi(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(pr(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:fi,setLogLevel:di,onLog:hi,apps:null,SDK_VERSION:ai,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Yr(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw yi.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Zn(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!pr(n,e=e||Hr))throw yi.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(pi);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Zn(n,e)},createSubscribe:br,ErrorFactory:fr,deepExtend:Zn}),n}(),gi=new Ur("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){gi.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ki=self.firebase.SDK_VERSION;ki&&ki.indexOf("LITE")>=0&&gi.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var bi=mi;!function(e){fi("@firebase/app-compat","0.1.13",e)}();function wi(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=qn(e)););return e}function xi(){return xi="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=wi(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},xi.apply(this,arguments)}bi.registerVersion("firebase","9.6.2","app-compat");function _i(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Si;Object.create;var Ei="facebook.com",Ti="github.com",Ii="google.com",Ci="password",Oi="twitter.com",Ai="EMAIL_SIGNIN",Ri="PASSWORD_RESET",Pi="RECOVER_EMAIL",Ni="REVERT_SECOND_FACTOR_ADDITION",Di="VERIFY_AND_CHANGE_EMAIL",Li="VERIFY_EMAIL";function Mi(){return An({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var ji=function(){var e;return An(e={},"admin-restricted-operation","This operation is restricted to administrators only."),An(e,"argument-error",""),An(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),An(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),An(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),An(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),An(e,"cordova-not-ready","Cordova framework is not ready."),An(e,"cors-unsupported","This browser is not supported."),An(e,"credential-already-in-use","This credential is already associated with a different user account."),An(e,"custom-token-mismatch","The custom token corresponds to a different audience."),An(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),An(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),An(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),An(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),An(e,"email-already-in-use","The email address is already in use by another account."),An(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),An(e,"expired-action-code","The action code has expired."),An(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),An(e,"internal-error","An internal AuthError has occurred."),An(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),An(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),An(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),An(e,"invalid-auth-event","An internal AuthError has occurred."),An(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),An(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),An(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),An(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),An(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),An(e,"invalid-email","The email address is badly formatted."),An(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),An(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),An(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),An(e,"invalid-credential","The supplied auth credential is malformed or has expired."),An(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),An(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),An(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),An(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),An(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),An(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),An(e,"wrong-password","The password is invalid or the user does not have a password."),An(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),An(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),An(e,"invalid-provider-id","The specified provider ID is invalid."),An(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),An(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),An(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),An(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),An(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),An(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),An(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),An(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),An(e,"missing-continue-uri","A continue URL must be provided in the request."),An(e,"missing-iframe-start","An internal AuthError has occurred."),An(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),An(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),An(e,"missing-multi-factor-info","No second factor identifier is provided."),An(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),An(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),An(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),An(e,"app-deleted","This instance of FirebaseApp has been deleted."),An(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),An(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),An(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),An(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),An(e,"no-auth-event","An internal AuthError has occurred."),An(e,"no-such-provider","User was not linked to an account with the given provider."),An(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),An(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),An(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),An(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),An(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),An(e,"provider-already-linked","User can only be linked to one identity for the given provider."),An(e,"quota-exceeded","The project's quota for this operation has been exceeded."),An(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),An(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),An(e,"rejected-credential","The request contains malformed or mismatching credentials."),An(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),An(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),An(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),An(e,"timeout","The operation has timed out."),An(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),An(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),An(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),An(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),An(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),An(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),An(e,"unverified-email","The operation requires a verified email."),An(e,"user-cancelled","The user did not grant your application the permissions it requested."),An(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),An(e,"user-disabled","The user account has been disabled by an administrator."),An(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),An(e,"user-signed-out",""),An(e,"weak-password","The password must be 6 characters long or more."),An(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),An(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Fi=Mi,Ui=new fr("auth","Firebase",Mi()),zi=new Ur("@firebase/auth");function Vi(e){if(zi.logLevel<=Ar.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];zi.error.apply(zi,["Auth (".concat(ai,"): ").concat(e)].concat(n))}}function qi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ki.apply(void 0,[e].concat(n))}function Bi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ki.apply(void 0,[e].concat(n))}function Hi(e,t,n){var r=Object.assign(Object.assign({},Fi()),An({},t,n));return new fr("auth","Firebase",r).create(t,{appName:e.name})}function Wi(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&qi(e,"argument-error"),Hi(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Ki(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Er(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Er(o)))}return Ui.create.apply(Ui,[e].concat(n))}function Gi(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ki.apply(void 0,[t].concat(r))}}function Qi(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Vi(t),new Error(t)}function $i(e,t){e||Qi(t)}var Yi=new Map;function Xi(e){$i(e instanceof Function,"Expected a class definition");var t=Yi.get(e);return t?($i(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Yi.set(e,t),t)}function Ji(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Zi(){return"http:"===ea()||"https:"===ea()}function ea(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var ta=function(){function e(t,n){Rn(this,e),this.shortDelay=t,this.longDelay=n,$i(n>t,"Short delay should be less than long delay!"),this.isMobile=ir()||sr()}return Nn(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Zi()||or()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function na(e,t){$i(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var ra=function(){function e(){Rn(this,e)}return Nn(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),ia=(An(Si={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),An(Si,"MISSING_CUSTOM_TOKEN","internal-error"),An(Si,"INVALID_IDENTIFIER","invalid-email"),An(Si,"MISSING_CONTINUE_URI","internal-error"),An(Si,"INVALID_PASSWORD","wrong-password"),An(Si,"MISSING_PASSWORD","internal-error"),An(Si,"EMAIL_EXISTS","email-already-in-use"),An(Si,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),An(Si,"INVALID_IDP_RESPONSE","invalid-credential"),An(Si,"INVALID_PENDING_TOKEN","invalid-credential"),An(Si,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),An(Si,"MISSING_REQ_TYPE","internal-error"),An(Si,"EMAIL_NOT_FOUND","user-not-found"),An(Si,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),An(Si,"EXPIRED_OOB_CODE","expired-action-code"),An(Si,"INVALID_OOB_CODE","invalid-action-code"),An(Si,"MISSING_OOB_CODE","internal-error"),An(Si,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),An(Si,"INVALID_ID_TOKEN","invalid-user-token"),An(Si,"TOKEN_EXPIRED","user-token-expired"),An(Si,"USER_NOT_FOUND","user-token-expired"),An(Si,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),An(Si,"INVALID_CODE","invalid-verification-code"),An(Si,"INVALID_SESSION_INFO","invalid-verification-id"),An(Si,"INVALID_TEMPORARY_PROOF","invalid-credential"),An(Si,"MISSING_SESSION_INFO","missing-verification-id"),An(Si,"SESSION_EXPIRED","code-expired"),An(Si,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),An(Si,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),An(Si,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),An(Si,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),An(Si,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),An(Si,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),An(Si,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),An(Si,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),An(Si,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),An(Si,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),An(Si,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Si),aa=new ta(3e4,6e4);function oa(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function sa(e,t,n,r){return ua.apply(this,arguments)}function ua(){return ua=fn(dn().mark((function e(t,n,r,i){var a,o=arguments;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",ca(t,a,fn(dn().mark((function e(){var a,o,s,u;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=mr(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",ra.fetch()(da(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),ua.apply(this,arguments)}function ca(e,t,n){return la.apply(this,arguments)}function la(){return la=fn(dn().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},ia),n),e.prev=2,a=new pa(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw va(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),l=Un(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw va(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==f){e.next=25;break}throw va(t,"email-already-in-use",s);case 25:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=30;break}throw Hi(t,d,h);case 30:qi(t,d);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof lr)){e.next=37;break}throw e.t0;case 37:qi(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),la.apply(this,arguments)}function fa(e,t,n,r){return ha.apply(this,arguments)}function ha(){return ha=fn(dn().mark((function e(t,n,r,i){var a,o,s=arguments;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,sa(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&qi(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),ha.apply(this,arguments)}function da(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?na(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var pa=function(){function e(t){var n=this;Rn(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Bi(n.auth,"timeout"))}),aa.get())}))}return Nn(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function va(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Bi(e,t,r);return i.customData._tokenResponse=n,i}function ya(e,t){return ma.apply(this,arguments)}function ma(){return ma=fn(dn().mark((function e(t,n){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sa(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),ma.apply(this,arguments)}function ga(e,t){return ka.apply(this,arguments)}function ka(){return ka=fn(dn().mark((function e(t,n){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sa(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),ka.apply(this,arguments)}function ba(e,t){return wa.apply(this,arguments)}function wa(){return wa=fn(dn().mark((function e(t,n){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sa(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),wa.apply(this,arguments)}function xa(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function _a(){return _a=fn(dn().mark((function e(t){var n,r,i,a,o,s,u=arguments;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=_r(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Gi((a=Ea(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:xa(Sa(a.auth_time)),issuedAtTime:xa(Sa(a.iat)),expirationTime:xa(Sa(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),_a.apply(this,arguments)}function Sa(e){return 1e3*Number(e)}function Ea(e){var t=Un(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Vi("JWT malformed, contained fewer than 3 sections"),null;try{var a=Jn(r);return a?JSON.parse(a):(Vi("Failed to decode base64 JWT payload"),null)}catch(o){return Vi("Caught error parsing JWT payload as JSON",o),null}}function Ta(e,t){return Ia.apply(this,arguments)}function Ia(){return Ia=fn(dn().mark((function e(t,n){var r=arguments;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof lr&&Ca(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Ia.apply(this,arguments)}function Ca(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Oa=function(){function e(t){Rn(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Nn(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(fn(dn().mark((function t(){return dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=fn(dn().mark((function e(){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Aa=function(){function e(t,n){Rn(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Nn(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=xa(this.lastLoginAt),this.creationTime=xa(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Ra(e){return Pa.apply(this,arguments)}function Pa(){return Pa=fn(dn().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Ta(t,ba(r,{idToken:i}));case 6:Gi(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?La(o.providerUserInfo):[],u=Da(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Aa(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Pa.apply(this,arguments)}function Na(){return(Na=fn(dn().mark((function e(t){var n;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_r(t),e.next=3,Ra(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Da(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Er(n),Er(t))}function La(e){return e.map((function(e){var t=e.providerId,n=_i(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Ma(e,t){return ja.apply(this,arguments)}function ja(){return ja=fn(dn().mark((function e(t,n){var r;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ca(t,{},fn(dn().mark((function e(){var r,i,a,o,s,u;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mr({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=da(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",ra.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),ja.apply(this,arguments)}var Fa=function(){function e(){Rn(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Nn(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Gi(e.idToken,"internal-error"),Gi("undefined"!==typeof e.idToken,"internal-error"),Gi("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Ea(e);return Gi(t,"internal-error"),Gi("undefined"!==typeof t.exp,"internal-error"),Gi("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=fn(dn().mark((function e(t){var n,r=arguments;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Gi(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=fn(dn().mark((function e(t,n){var r,i,a,o;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ma(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Qi("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Gi("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Gi("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Gi("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Ua(e,t){Gi("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var za=function(){function e(t){Rn(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=_i(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Oa(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.metadata=new Aa(a.createdAt||void 0,a.lastLoginAt||void 0)}return Nn(e,[{key:"getIdToken",value:function(){var e=fn(dn().mark((function e(t){var n;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ta(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Gi(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return _a.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Na.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Gi(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Gi(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=fn(dn().mark((function e(t){var n,r,i=arguments;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Ra(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=fn(dn().mark((function e(){var t;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Ta(this,ya(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Gi(k&&_,t,"internal-error");var S=Fa.fromJSON(this.name,_);Gi("string"===typeof k,t,"internal-error"),Ua(f,t.name),Ua(h,t.name),Gi("boolean"===typeof b,t,"internal-error"),Gi("boolean"===typeof w,t,"internal-error"),Ua(d,t.name),Ua(p,t.name),Ua(v,t.name),Ua(y,t.name),Ua(m,t.name),Ua(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:m,lastLoginAt:g});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),y&&(E._redirectEventId=y),E}},{key:"_fromIdTokenResponse",value:function(){var t=fn(dn().mark((function t(n,r){var i,a,o,s=arguments;return dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Fa).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Ra(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Va=function(){function e(){Rn(this,e),this.type="NONE",this.storage={}}return Nn(e,[{key:"_isAvailable",value:function(){var e=fn(dn().mark((function e(){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=fn(dn().mark((function e(t,n){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=fn(dn().mark((function e(t){var n;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=fn(dn().mark((function e(t){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Va.type="NONE";var qa=Va;function Ba(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Ha=function(){function e(t,n,r){Rn(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Ba(this.userKey,a.apiKey,o),this.fullPersistenceKey=Ba("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Nn(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=fn(dn().mark((function e(){var t;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?za._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=fn(dn().mark((function e(t){var n;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=fn(dn().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Xi(qa),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=fn(dn().mark((function e(t){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Xi(qa),s=Ba(i,n.config.apiKey,n.name),u=null,c=Mn(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=za._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=fn(dn().mark((function e(t){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Wa(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if($a(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ka(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Xa(t))return"Blackberry";if(Ja(t))return"Webos";if(Ga(t))return"Safari";if((t.includes("chrome/")||Qa(t))&&!t.includes("edge/"))return"Chrome";if(Ya(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Ka(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rr();return/firefox\//i.test(e)}function Ga(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rr(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Qa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rr();return/crios\//i.test(e)}function $a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rr();return/iemobile/i.test(e)}function Ya(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rr();return/android/i.test(e)}function Xa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rr();return/blackberry/i.test(e)}function Ja(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rr();return/webos/i.test(e)}function Za(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rr();return/iphone|ipad|ipod/i.test(e)}function eo(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rr();return Za(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function to(){return ur()&&10===document.documentMode}function no(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rr();return Za(e)||Ya(e)||Ja(e)||Xa(e)||/windows phone/i.test(e)||$a(e)}function ro(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Wa(rr());break;case"Worker":t="".concat(Wa(rr()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ai,"/").concat(r)}var io=function(){function e(t,n){Rn(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oo(this),this.idTokenSubscription=new oo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ui,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return Nn(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Xi(t)),this._initializationPromise=this.queue(fn(dn().mark((function r(){var i,a;return dn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Ha.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=fn(dn().mark((function e(){var t;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=fn(dn().mark((function e(t){var n,r,i,a,o;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return Gi(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=fn(dn().mark((function e(t){var n;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=fn(dn().mark((function e(t){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ra(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=fn(dn().mark((function e(){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=fn(dn().mark((function e(t){var n;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?_r(t):null)&&Gi(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=fn(dn().mark((function e(t){var n=this;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&Gi(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(fn(dn().mark((function e(){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=fn(dn().mark((function e(){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(fn(dn().mark((function n(){return dn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Xi(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new fr("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=fn(dn().mark((function e(t,n){var r;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=fn(dn().mark((function e(t){var n;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Gi(n=t&&Xi(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Ha.create(this,[Xi(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=fn(dn().mark((function e(t){var n,r;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(fn(dn().mark((function e(){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=fn(dn().mark((function e(t){var n=this;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(fn(dn().mark((function e(){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Gi(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=fn(dn().mark((function e(t){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Gi(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ro(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=fn(dn().mark((function e(){var t;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=An({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ao(e){return _r(e)}var oo=function(){function e(t){var n=this;Rn(this,e),this.auth=t,this.observer=null,this.addObserver=br((function(e){return n.observer=e}))}return Nn(e,[{key:"next",get:function(){return Gi(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function so(e,t,n){var r=ao(e);Gi(r._canInitEmulator,r,"emulator-config-failed"),Gi(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=uo(t),o=function(e){var t=uo(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:co(r.substr(a.length+1))}}var o=Un(r.split(":"),2);return{host:o[0],port:co(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function uo(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function co(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var lo=function(){function e(t,n){Rn(this,e),this.providerId=t,this.signInMethod=n}return Nn(e,[{key:"toJSON",value:function(){return Qi("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Qi("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Qi("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Qi("not implemented")}}]),e}();function fo(e,t){return ho.apply(this,arguments)}function ho(){return ho=fn(dn().mark((function e(t,n){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sa(t,"POST","/v1/accounts:resetPassword",oa(t,n)));case 1:case"end":return e.stop()}}),e)}))),ho.apply(this,arguments)}function po(e,t){return vo.apply(this,arguments)}function vo(){return vo=fn(dn().mark((function e(t,n){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sa(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),vo.apply(this,arguments)}function yo(e,t){return mo.apply(this,arguments)}function mo(){return mo=fn(dn().mark((function e(t,n){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sa(t,"POST","/v1/accounts:update",oa(t,n)));case 1:case"end":return e.stop()}}),e)}))),mo.apply(this,arguments)}function go(e,t){return ko.apply(this,arguments)}function ko(){return ko=fn(dn().mark((function e(t,n){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fa(t,"POST","/v1/accounts:signInWithPassword",oa(t,n)));case 1:case"end":return e.stop()}}),e)}))),ko.apply(this,arguments)}function bo(e,t){return wo.apply(this,arguments)}function wo(){return wo=fn(dn().mark((function e(t,n){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sa(t,"POST","/v1/accounts:sendOobCode",oa(t,n)));case 1:case"end":return e.stop()}}),e)}))),wo.apply(this,arguments)}function xo(e,t){return _o.apply(this,arguments)}function _o(){return _o=fn(dn().mark((function e(t,n){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bo(t,n));case 1:case"end":return e.stop()}}),e)}))),_o.apply(this,arguments)}function So(e,t){return Eo.apply(this,arguments)}function Eo(){return Eo=fn(dn().mark((function e(t,n){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bo(t,n));case 1:case"end":return e.stop()}}),e)}))),Eo.apply(this,arguments)}function To(e,t){return Io.apply(this,arguments)}function Io(){return Io=fn(dn().mark((function e(t,n){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bo(t,n));case 1:case"end":return e.stop()}}),e)}))),Io.apply(this,arguments)}function Co(e,t){return Oo.apply(this,arguments)}function Oo(){return Oo=fn(dn().mark((function e(t,n){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bo(t,n));case 1:case"end":return e.stop()}}),e)}))),Oo.apply(this,arguments)}function Ao(e,t){return Ro.apply(this,arguments)}function Ro(){return Ro=fn(dn().mark((function e(t,n){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fa(t,"POST","/v1/accounts:signInWithEmailLink",oa(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ro.apply(this,arguments)}function Po(e,t){return No.apply(this,arguments)}function No(){return No=fn(dn().mark((function e(t,n){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fa(t,"POST","/v1/accounts:signInWithEmailLink",oa(t,n)));case 1:case"end":return e.stop()}}),e)}))),No.apply(this,arguments)}var Do=function(e){Vn(n,e);var t=Kn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Rn(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Nn(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=fn(dn().mark((function e(t){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",go(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ao(t,{email:this._email,oobCode:this._password}));case 5:qi(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=fn(dn().mark((function e(t,n){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",po(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Po(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:qi(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(lo);function Lo(e,t){return Mo.apply(this,arguments)}function Mo(){return Mo=fn(dn().mark((function e(t,n){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fa(t,"POST","/v1/accounts:signInWithIdp",oa(t,n)));case 1:case"end":return e.stop()}}),e)}))),Mo.apply(this,arguments)}var jo=function(e){Vn(n,e);var t=Kn(n);function n(){var e;return Rn(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Nn(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Lo(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Lo(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Lo(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=mr(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):qi("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=_i(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(lo);function Fo(e,t){return Uo.apply(this,arguments)}function Uo(){return Uo=fn(dn().mark((function e(t,n){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sa(t,"POST","/v1/accounts:sendVerificationCode",oa(t,n)));case 1:case"end":return e.stop()}}),e)}))),Uo.apply(this,arguments)}function zo(){return zo=fn(dn().mark((function e(t,n){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fa(t,"POST","/v1/accounts:signInWithPhoneNumber",oa(t,n)));case 1:case"end":return e.stop()}}),e)}))),zo.apply(this,arguments)}function Vo(){return Vo=fn(dn().mark((function e(t,n){var r;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fa(t,"POST","/v1/accounts:signInWithPhoneNumber",oa(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw va(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Vo.apply(this,arguments)}var qo=An({},"USER_NOT_FOUND","user-not-found");function Bo(){return Bo=fn(dn().mark((function e(t,n){var r;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",fa(t,"POST","/v1/accounts:signInWithPhoneNumber",oa(t,r),qo));case 2:case"end":return e.stop()}}),e)}))),Bo.apply(this,arguments)}var Ho=function(e){Vn(n,e);var t=Kn(n);function n(e){var r;return Rn(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Nn(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return zo.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Vo.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Bo.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(lo);var Wo=function(){function e(t){var n,r,i,a,o,s;Rn(this,e);var u=gr(kr(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Gi(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return Nn(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=gr(kr(e)).link,n=t?gr(kr(t)).deep_link_id:null,r=gr(kr(e)).deep_link_id;return(r?gr(kr(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Y_){return null}}}]),e}();var Ko=function(){function e(){Rn(this,e),this.providerId=e.PROVIDER_ID}return Nn(e,null,[{key:"credential",value:function(e,t){return Do._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Wo.parseLink(t);return Gi(n,"argument-error"),Do._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Ko.PROVIDER_ID="password",Ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Go=function(){function e(t){Rn(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Nn(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Qo=function(e){Vn(n,e);var t=Kn(n);function n(){var e;return Rn(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Nn(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Er(this.scopes)}}]),n}(Go),$o=function(e){Vn(n,e);var t=Kn(n);function n(){return Rn(this,n),t.apply(this,arguments)}return Nn(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Gi(e.idToken||e.accessToken,"argument-error"),jo._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Gi("providerId"in t&&"signInMethod"in t,"argument-error"),jo._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(Qo),Yo=function(e){Vn(n,e);var t=Kn(n);function n(){return Rn(this,n),t.call(this,"facebook.com")}return Nn(n,null,[{key:"credential",value:function(e){return jo._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Y_){return null}}}]),n}(Qo);Yo.FACEBOOK_SIGN_IN_METHOD="facebook.com",Yo.PROVIDER_ID="facebook.com";var Xo=function(e){Vn(n,e);var t=Kn(n);function n(){var e;return Rn(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Nn(n,null,[{key:"credential",value:function(e,t){return jo._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Y_){return null}}}]),n}(Qo);Xo.GOOGLE_SIGN_IN_METHOD="google.com",Xo.PROVIDER_ID="google.com";var Jo=function(e){Vn(n,e);var t=Kn(n);function n(){return Rn(this,n),t.call(this,"github.com")}return Nn(n,null,[{key:"credential",value:function(e){return jo._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Y_){return null}}}]),n}(Qo);Jo.GITHUB_SIGN_IN_METHOD="github.com",Jo.PROVIDER_ID="github.com";var Zo=function(e){Vn(n,e);var t=Kn(n);function n(e,r){var i;return Rn(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Nn(n,[{key:"_getIdTokenResponse",value:function(e){return Lo(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Lo(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Lo(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(lo),es=function(e){Vn(n,e);var t=Kn(n);function n(e){return Rn(this,n),Gi(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Nn(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Zo.fromJSON(e);return Gi(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Zo._create(r,n)}catch(i){return null}}}]),n}(Go),ts=function(e){Vn(n,e);var t=Kn(n);function n(){return Rn(this,n),t.call(this,"twitter.com")}return Nn(n,null,[{key:"credential",value:function(e,t){return jo._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Y_){return null}}}]),n}(Qo);function ns(e,t){return rs.apply(this,arguments)}function rs(){return rs=fn(dn().mark((function e(t,n){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fa(t,"POST","/v1/accounts:signUp",oa(t,n)));case 1:case"end":return e.stop()}}),e)}))),rs.apply(this,arguments)}ts.TWITTER_SIGN_IN_METHOD="twitter.com",ts.PROVIDER_ID="twitter.com";var is=function(){function e(t){Rn(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Nn(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=fn(dn().mark((function t(n,r,i){var a,o,s,u,c=arguments;return dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,za._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=as(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=fn(dn().mark((function t(n,r,i){var a;return dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=as(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function as(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function os(){return os=fn(dn().mark((function e(t){var n,r,i,a;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ao(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new is({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,ns(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,is._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),os.apply(this,arguments)}var ss=function(e){Vn(n,e);var t=Kn(n);function n(e,r,i,a){var o,s;return Rn(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(zn(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Nn(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(lr);function us(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw ss._fromErrorAndOperation(e,n,t,r);throw n}))}function cs(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function ls(e,t){return fs.apply(this,arguments)}function fs(){return fs=fn(dn().mark((function e(t,n){var r,i,a,o;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_r(t),e.next=3,ps(!0,r,n);case 3:return e.t0=ga,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=cs(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),fs.apply(this,arguments)}function hs(e,t){return ds.apply(this,arguments)}function ds(){return ds=fn(dn().mark((function e(t,n){var r,i,a=arguments;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Ta,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",is._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),ds.apply(this,arguments)}function ps(e,t,n){return vs.apply(this,arguments)}function vs(){return vs=fn(dn().mark((function e(t,n,r){var i,a;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ra(n);case 2:i=cs(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Gi(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)}))),vs.apply(this,arguments)}function ys(e,t){return ms.apply(this,arguments)}function ms(){return ms=fn(dn().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Ta(t,us(i,a,n,t),r);case 6:return Gi((o=e.sent).idToken,i,"internal-error"),Gi(s=Ea(o.idToken),i,"internal-error"),u=s.sub,Gi(t.uid===u,i,"user-mismatch"),e.abrupt("return",is._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&qi(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),ms.apply(this,arguments)}function gs(e,t){return ks.apply(this,arguments)}function ks(){return ks=fn(dn().mark((function e(t,n){var r,i,a,o,s=arguments;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,us(t,i,n);case 4:return a=e.sent,e.next=7,is._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),ks.apply(this,arguments)}function bs(e,t){return ws.apply(this,arguments)}function ws(){return ws=fn(dn().mark((function e(t,n){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gs(ao(t),n));case 1:case"end":return e.stop()}}),e)}))),ws.apply(this,arguments)}function xs(e,t){return _s.apply(this,arguments)}function _s(){return(_s=fn(dn().mark((function e(t,n){var r;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_r(t),e.next=3,ps(!1,r,n.providerId);case 3:return e.abrupt("return",hs(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ss(e,t){return Es.apply(this,arguments)}function Es(){return(Es=fn(dn().mark((function e(t,n){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ys(_r(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ts(e,t){return Is.apply(this,arguments)}function Is(){return Is=fn(dn().mark((function e(t,n){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fa(t,"POST","/v1/accounts:signInWithCustomToken",oa(t,n)));case 1:case"end":return e.stop()}}),e)}))),Is.apply(this,arguments)}function Cs(){return Cs=fn(dn().mark((function e(t,n){var r,i,a;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ao(t),e.next=3,Ts(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,is._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Cs.apply(this,arguments)}var Os=function(){function e(t,n){Rn(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Nn(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?As._fromServerResponse(e,t):qi(e,"internal-error")}}]),e}(),As=function(e){Vn(n,e);var t=Kn(n);function n(e){var r;return Rn(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Nn(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Os);function Rs(e,t,n){var r;Gi((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Gi("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Gi(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Gi(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Ps(){return Ps=fn(dn().mark((function e(t,n,r){var i,a;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_r(t),a={requestType:"PASSWORD_RESET",email:n},r&&Rs(i,a,r),e.next=5,So(i,a);case 5:case"end":return e.stop()}}),e)}))),Ps.apply(this,arguments)}function Ns(){return Ns=fn(dn().mark((function e(t,n,r){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fo(_r(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Ns.apply(this,arguments)}function Ds(){return Ds=fn(dn().mark((function e(t,n){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yo(_r(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Ds.apply(this,arguments)}function Ls(e,t){return Ms.apply(this,arguments)}function Ms(){return Ms=fn(dn().mark((function e(t,n){var r,i,a,o;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_r(t),e.next=3,fo(r,{oobCode:n});case 3:i=e.sent,Gi(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Gi(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Gi(i.mfaInfo,r,"internal-error");case 13:Gi(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Os._fromServerResponse(ao(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Ms.apply(this,arguments)}function js(){return js=fn(dn().mark((function e(t,n){var r,i;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ls(_r(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),js.apply(this,arguments)}function Fs(e,t,n){return Us.apply(this,arguments)}function Us(){return Us=fn(dn().mark((function e(t,n,r){var i,a,o;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ao(t),e.next=3,ns(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,is._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Us.apply(this,arguments)}function zs(){return zs=fn(dn().mark((function e(t,n,r){var i,a;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_r(t),a={requestType:"EMAIL_SIGNIN",email:n},Gi(r.handleCodeInApp,i,"argument-error"),r&&Rs(i,a,r),e.next=6,To(i,a);case 6:case"end":return e.stop()}}),e)}))),zs.apply(this,arguments)}function Vs(){return Vs=fn(dn().mark((function e(t,n,r){var i,a;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_r(t),Gi((a=Ko.credentialWithLink(n,r||Ji()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",bs(i,a));case 4:case"end":return e.stop()}}),e)}))),Vs.apply(this,arguments)}function qs(e,t){return Bs.apply(this,arguments)}function Bs(){return Bs=fn(dn().mark((function e(t,n){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sa(t,"POST","/v1/accounts:createAuthUri",oa(t,n)));case 1:case"end":return e.stop()}}),e)}))),Bs.apply(this,arguments)}function Hs(){return Hs=fn(dn().mark((function e(t,n){var r,i,a,o;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zi()?Ji():"http://localhost",i={identifier:n,continueUri:r},e.next=4,qs(_r(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Hs.apply(this,arguments)}function Ws(){return(Ws=fn(dn().mark((function e(t,n){var r,i,a,o;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_r(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Rs(r.auth,a,n),e.next=8,xo(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ks(){return(Ks=fn(dn().mark((function e(t,n,r){var i,a,o,s;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_r(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Rs(i.auth,o,r),e.next=8,Co(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gs(e,t){return Qs.apply(this,arguments)}function Qs(){return Qs=fn(dn().mark((function e(t,n){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sa(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Qs.apply(this,arguments)}function $s(){return($s=fn(dn().mark((function e(t,n){var r,i,a,o,s,u,c;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=_r(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Ta(a,Gs(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ys(e,t,n){return Xs.apply(this,arguments)}function Xs(){return Xs=fn(dn().mark((function e(t,n,r){var i,a,o,s;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Ta(t,po(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),Xs.apply(this,arguments)}var Js=Nn((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Rn(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Zs=function(e){Vn(n,e);var t=Kn(n);function n(e,r,i,a){var o;return Rn(this,n),(o=t.call(this,e,r,i)).username=a,o}return Nn(n)}(Js),eu=function(e){Vn(n,e);var t=Kn(n);function n(e,r){return Rn(this,n),t.call(this,e,"facebook.com",r)}return Nn(n)}(Js),tu=function(e){Vn(n,e);var t=Kn(n);function n(e,r){return Rn(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Nn(n)}(Zs),nu=function(e){Vn(n,e);var t=Kn(n);function n(e,r){return Rn(this,n),t.call(this,e,"google.com",r)}return Nn(n)}(Js),ru=function(e){Vn(n,e);var t=Kn(n);function n(e,r,i){return Rn(this,n),t.call(this,e,"twitter.com",r,i)}return Nn(n)}(Zs);function iu(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Ea(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Js(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new eu(a,i);case"github.com":return new tu(a,i);case"google.com":return new nu(a,i);case"twitter.com":return new ru(a,i,e.screenName||null);case"custom":case"anonymous":return new Js(a,null);default:return new Js(a,r,i)}}(n)}var au=function(){function e(t,n){Rn(this,e),this.type=t,this.credential=n}return Nn(e,[{key:"toJSON",value:function(){return{multiFactorSession:An({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),ou=function(){function e(t,n,r){Rn(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Nn(e,[{key:"resolveSignIn",value:function(){var e=fn(dn().mark((function e(t){var n;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=ao(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Os._fromServerResponse(r,e)}));Gi(i.mfaPendingCredential,r,"internal-error");var o=au._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=fn(dn().mark((function e(t){var a,s,u;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,is._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return Gi(n.user,r,"internal-error"),e.abrupt("return",is._forOperation(n.user,n.operationType,s));case 17:qi(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function su(e,t){return sa(e,"POST","/v2/accounts/mfaEnrollment:start",oa(e,t))}function uu(e,t){return sa(e,"POST","/v2/accounts/mfaEnrollment:withdraw",oa(e,t))}var cu=function(){function e(t){var n=this;Rn(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Os._fromServerResponse(t.auth,e)})))}))}return Nn(e,[{key:"getSession",value:function(){var e=fn(dn().mark((function e(){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=au,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=fn(dn().mark((function e(t,n){var r,i,a;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Ta(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=fn(dn().mark((function e(t){var n,r,i;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,Ta(this.user,uu(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),lu=new WeakMap;var fu="__sak",hu=function(){function e(t,n){Rn(this,e),this.storageRetriever=t,this.type=n}return Nn(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(fu,"1"),this.storage.removeItem(fu),Promise.resolve(!0)):Promise.resolve(!1)}catch(Y_){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var du=function(e){Vn(n,e);var t=Kn(n);function n(){var e;return Rn(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=rr();return Ga(e)||Za(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=no(),e._shouldAllowMigration=!0,e}return Nn(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);to()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=fn(dn().mark((function e(t,r){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xi(qn(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=fn(dn().mark((function e(t){var r;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xi(qn(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=fn(dn().mark((function e(t){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xi(qn(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(hu);du.type="LOCAL";var pu=du,vu=function(e){Vn(n,e);var t=Kn(n);function n(){return Rn(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Nn(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(hu);vu.type="SESSION";var yu=vu;function mu(e){return Promise.all(e.map(function(){var e=fn(dn().mark((function e(t){var n;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var gu=function(){function e(t){Rn(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Nn(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=fn(dn().mark((function e(t){var n,r,i,a,o,s,u,c;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=fn(dn().mark((function e(t){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,mu(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function ku(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}gu.receivers=[];var bu=function(){function e(t){Rn(this,e),this.target=t,this.handlers=new Set}return Nn(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=fn(dn().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=ku("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function wu(){return window}function xu(){return"undefined"!==typeof wu().WorkerGlobalScope&&"function"===typeof wu().importScripts}function _u(){return Su.apply(this,arguments)}function Su(){return(Su=fn(dn().mark((function e(){var t;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Eu(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Tu="firebaseLocalStorageDb",Iu="firebaseLocalStorage",Cu="fbase_key",Ou=function(){function e(t){Rn(this,e),this.request=t}return Nn(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Au(e,t){return e.transaction([Iu],t?"readwrite":"readonly").objectStore(Iu)}function Ru(){var e=indexedDB.deleteDatabase(Tu);return new Ou(e).toPromise()}function Pu(){var e=indexedDB.open(Tu,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Iu,{keyPath:Cu})}catch(r){n(r)}})),e.addEventListener("success",fn(dn().mark((function n(){var r;return dn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Iu)){n.next=12;break}return r.close(),n.next=5,Ru();case 5:return n.t0=t,n.next=8,Pu();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Nu(e,t,n){return Du.apply(this,arguments)}function Du(){return Du=fn(dn().mark((function e(t,n,r){var i,a;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Au(t,!0).put((An(i={},Cu,n),An(i,"value",r),i)),e.abrupt("return",new Ou(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Du.apply(this,arguments)}function Lu(e,t){return Mu.apply(this,arguments)}function Mu(){return Mu=fn(dn().mark((function e(t,n){var r,i;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Au(t,!1).get(n),e.next=3,new Ou(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Mu.apply(this,arguments)}function ju(e,t){var n=Au(e,!0).delete(t);return new Ou(n).toPromise()}var Fu=function(){function e(){Rn(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Nn(e,[{key:"_openDb",value:function(){var e=fn(dn().mark((function e(){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Pu();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=fn(dn().mark((function e(t){var n,r;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=fn(dn().mark((function e(){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xu()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=fn(dn().mark((function e(){var t=this;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=gu._getInstance(xu()?self:null),this.receiver._subscribe("keyChanged",function(){var e=fn(dn().mark((function e(n,r){var i;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=fn(dn().mark((function e(t,n){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=fn(dn().mark((function e(){var t,n,r;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_u();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new bu(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=fn(dn().mark((function e(t){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Eu()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=fn(dn().mark((function e(){var t;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Pu();case 5:return t=e.sent,e.next=8,Nu(t,fu,"1");case 8:return e.next=10,ju(t,fu);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=fn(dn().mark((function e(t){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=fn(dn().mark((function e(t,n){var r=this;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(fn(dn().mark((function e(){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Nu(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=fn(dn().mark((function e(t){var n;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Lu(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=fn(dn().mark((function e(t){var n=this;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(fn(dn().mark((function e(){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return ju(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=fn(dn().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Au(e,!1).getAll();return new Ou(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Mn(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(fn(dn().mark((function t(){return dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Fu.type="LOCAL";var Uu=Fu;function zu(e,t){return sa(e,"POST","/v2/accounts/mfaSignIn:start",oa(e,t))}function Vu(e){return qu.apply(this,arguments)}function qu(){return qu=fn(dn().mark((function e(t){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sa(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),qu.apply(this,arguments)}function Bu(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Bi("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Hu(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Wu=1e12,Ku=function(){function e(t){Rn(this,e),this.auth=t,this.counter=Wu,this._widgets=new Map}return Nn(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Gu(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Wu;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Wu;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=fn(dn().mark((function e(t){var n,r;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Wu,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Gu=function(){function e(t,n,r){var i=this;Rn(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Gi(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Nn(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Qu=Hu("rcb"),$u=new ta(3e4,6e4),Yu="https://www.google.com/recaptcha/api.js?",Xu=function(){function e(){Rn(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!wu().grecaptcha}return Nn(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Gi(Ju(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(wu().grecaptcha):new Promise((function(r,i){var a=wu().setTimeout((function(){i(Bi(e,"network-request-failed"))}),$u.get());wu()[Qu]=function(){wu().clearTimeout(a),delete wu()[Qu];var o=wu().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Bi(e,"internal-error"))},Bu("".concat(Yu,"?").concat(mr({onload:Qu,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Bi(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!wu().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Ju(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Zu=function(){function e(){Rn(this,e)}return Nn(e,[{key:"load",value:function(){var e=fn(dn().mark((function e(t){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Ku(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),ec="recaptcha",tc={theme:"light",type:"image"},nc=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},tc),r=arguments.length>2?arguments[2]:void 0;Rn(this,e),this.parameters=n,this.type=ec,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ao(r),this.isInvisible="invisible"===this.parameters.size,Gi("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Gi(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Zu:new Xu,this.validateStartingState()}return Nn(e,[{key:"verify",value:function(){var e=fn(dn().mark((function e(){var t,n,r,i=this;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Gi(!this.parameters.sitekey,this.auth,"argument-error"),Gi(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Gi("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=wu()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Gi(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=fn(dn().mark((function e(){var t,n;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=fn(dn().mark((function e(){var t;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gi(Zi()&&!xu(),this.auth,"internal-error"),e.next=3,rc();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Vu(this.auth);case 8:Gi(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Gi(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function rc(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var ic=function(){function e(t,n){Rn(this,e),this.verificationId=t,this.onConfirmation=n}return Nn(e,[{key:"confirm",value:function(e){var t=Ho._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function ac(){return ac=fn(dn().mark((function e(t,n,r){var i,a;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ao(t),e.next=3,cc(i,n,_r(r));case 3:return a=e.sent,e.abrupt("return",new ic(a,(function(e){return bs(i,e)})));case 5:case"end":return e.stop()}}),e)}))),ac.apply(this,arguments)}function oc(e,t,n){return sc.apply(this,arguments)}function sc(){return(sc=fn(dn().mark((function e(t,n,r){var i,a;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_r(t),e.next=3,ps(!1,i,"phone");case 3:return e.next=5,cc(i.auth,n,_r(r));case 5:return a=e.sent,e.abrupt("return",new ic(a,(function(e){return xs(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uc(){return(uc=fn(dn().mark((function e(t,n,r){var i,a;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_r(t),e.next=3,cc(i.auth,n,_r(r));case 3:return a=e.sent,e.abrupt("return",new ic(a,(function(e){return Ss(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cc(e,t,n){return lc.apply(this,arguments)}function lc(){return lc=fn(dn().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Gi("string"===typeof a,t,"argument-error"),Gi(r.type===ec,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Gi("enroll"===s.type,t,"internal-error"),e.next=13,su(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Gi("signin"===s.type,t,"internal-error"),Gi(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,zu(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Fo(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),lc.apply(this,arguments)}function fc(){return(fc=fn(dn().mark((function e(t,n){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hs(_r(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var hc=function(){function e(t){Rn(this,e),this.providerId=e.PROVIDER_ID,this.auth=ao(t)}return Nn(e,[{key:"verifyPhoneNumber",value:function(e,t){return cc(this.auth,e,_r(t))}}],[{key:"credential",value:function(e,t){return Ho._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Ho._fromTokenResponse(n,r):null}}]),e}();function dc(e,t){return t?Xi(t):(Gi(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}hc.PROVIDER_ID="phone",hc.PHONE_SIGN_IN_METHOD="phone";var pc=function(e){Vn(n,e);var t=Kn(n);function n(e){var r;return Rn(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Nn(n,[{key:"_getIdTokenResponse",value:function(e){return Lo(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Lo(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Lo(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(lo);function vc(e){return gs(e.auth,new pc(e),e.bypassAuthState)}function yc(e){var t=e.auth,n=e.user;return Gi(n,t,"internal-error"),ys(n,new pc(e),e.bypassAuthState)}function mc(e){return gc.apply(this,arguments)}function gc(){return gc=fn(dn().mark((function e(t){var n,r;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Gi(r=t.user,n,"internal-error"),e.abrupt("return",hs(r,new pc(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),gc.apply(this,arguments)}var kc=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Rn(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Nn(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=fn(dn().mark((function t(n,r){return dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=fn(dn().mark((function e(t){var n,r,i,a,o,s,u;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vc;case"linkViaPopup":case"linkViaRedirect":return mc;case"reauthViaPopup":case"reauthViaRedirect":return yc;default:qi(this.auth,"internal-error")}}},{key:"resolve",value:function(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),bc=new ta(2e3,1e4);function wc(e,t,n){return xc.apply(this,arguments)}function xc(){return xc=fn(dn().mark((function e(t,n,r){var i,a,o;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ao(t),Wi(t,n,Go),a=dc(i,r),o=new Tc(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),xc.apply(this,arguments)}function _c(){return _c=fn(dn().mark((function e(t,n,r){var i,a,o;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Wi((i=_r(t)).auth,n,Go),a=dc(i.auth,r),o=new Tc(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),_c.apply(this,arguments)}function Sc(e,t,n){return Ec.apply(this,arguments)}function Ec(){return Ec=fn(dn().mark((function e(t,n,r){var i,a,o;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Wi((i=_r(t)).auth,n,Go),a=dc(i.auth,r),o=new Tc(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Ec.apply(this,arguments)}var Tc=function(e){Vn(n,e);var t=Kn(n);function n(e,r,i,a,o){var s;return Rn(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=zn(s),s}return Nn(n,[{key:"executeNotNull",value:function(){var e=fn(dn().mark((function e(){var t;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Gi(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=fn(dn().mark((function e(){var t,n=this;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $i(1===this.filter.length,"Popup operations only handle one event"),t=ku(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Bi(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Bi(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Bi(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,bc.get())}()}}]),n}(kc);Tc.currentPopupAction=null;var Ic=new Map,Cc=function(e){Vn(n,e);var t=Kn(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Rn(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Nn(n,[{key:"execute",value:function(){var e=fn(dn().mark((function e(){var t,r;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Ic.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Oc(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,xi(qn(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Ic.set(this.auth._key(),t);case 21:return this.bypassAuthState||Ic.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=fn(dn().mark((function e(t){var r;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",xi(qn(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",xi(qn(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=fn(dn().mark((function e(){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(kc);function Oc(e,t){return Ac.apply(this,arguments)}function Ac(){return Ac=fn(dn().mark((function e(t,n){var r,i,a;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dc(n),i=Nc(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Ac.apply(this,arguments)}function Rc(e,t){return Pc.apply(this,arguments)}function Pc(){return Pc=fn(dn().mark((function e(t,n){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nc(t)._set(Dc(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Pc.apply(this,arguments)}function Nc(e){return Xi(e._redirectPersistence)}function Dc(e){return Ba("pendingRedirect",e.config.apiKey,e.name)}function Lc(e,t,n){return function(e,t,n){return Mc.apply(this,arguments)}(e,t,n)}function Mc(){return Mc=fn(dn().mark((function e(t,n,r){var i,a;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ao(t),Wi(t,n,Go),a=dc(i,r),e.next=5,Rc(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),Mc.apply(this,arguments)}function jc(e,t,n){return function(e,t,n){return Fc.apply(this,arguments)}(e,t,n)}function Fc(){return Fc=fn(dn().mark((function e(t,n,r){var i,a,o;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Wi((i=_r(t)).auth,n,Go),a=dc(i.auth,r),e.next=5,Rc(a,i.auth);case 5:return e.next=7,Wc(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)}))),Fc.apply(this,arguments)}function Uc(e,t,n){return function(e,t,n){return zc.apply(this,arguments)}(e,t,n)}function zc(){return zc=fn(dn().mark((function e(t,n,r){var i,a,o;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Wi((i=_r(t)).auth,n,Go),a=dc(i.auth,r),e.next=5,ps(!1,i,n.providerId);case 5:return e.next=7,Rc(a,i.auth);case 7:return e.next=9,Wc(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)}))),zc.apply(this,arguments)}function Vc(e,t){return qc.apply(this,arguments)}function qc(){return qc=fn(dn().mark((function e(t,n){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ao(t)._initializationPromise;case 2:return e.abrupt("return",Bc(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),qc.apply(this,arguments)}function Bc(e,t){return Hc.apply(this,arguments)}function Hc(){return Hc=fn(dn().mark((function e(t,n){var r,i,a,o,s,u=arguments;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=ao(t),a=dc(i,n),o=new Cc(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Hc.apply(this,arguments)}function Wc(e){return Kc.apply(this,arguments)}function Kc(){return(Kc=fn(dn().mark((function e(t){var n;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ku("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Gc=function(){function e(t){Rn(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Nn(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $c(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!$c(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Bi(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qc(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Qc(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Qc(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function $c(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Yc(e){return Xc.apply(this,arguments)}function Xc(){return Xc=fn(dn().mark((function e(t){var n,r=arguments;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",sa(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Xc.apply(this,arguments)}var Jc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zc=/^https?/;function el(){return el=fn(dn().mark((function e(t){var n,r,i,a,o;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Yc(t);case 4:n=e.sent,r=n.authorizedDomains,i=Mn(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!tl(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:qi(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),el.apply(this,arguments)}function tl(e){var t=Ji(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Zc.test(r))return!1;if(Jc.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var nl=new ta(3e4,6e4);function rl(){var e=wu().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Er(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var il=null;function al(e){return il=il||function(e){return new Promise((function(t,n){var r,i,a;function o(){rl(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){rl(),n(Bi(e,"network-request-failed"))},timeout:nl.get()})}if(null===(i=null===(r=wu().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=wu().gapi)||void 0===a?void 0:a.load)){var s=Hu("iframefcb");return wu()[s]=function(){gapi.load?o():n(Bi(e,"network-request-failed"))},Bu("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw il=null,e}))}(e),il}var ol=new ta(5e3,15e3),sl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ul=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cl(e){var t=e.config;Gi(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?na(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:ai},i=ul.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(mr(r).slice(1))}function ll(e){return fl.apply(this,arguments)}function fl(){return fl=fn(dn().mark((function e(t){var n,r;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,al(t);case 2:return n=e.sent,Gi(r=wu().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:cl(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sl,dontclear:!0},(function(e){return new Promise(function(){var n=fn(dn().mark((function n(r,i){var a,o,s;return dn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){wu().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Bi(t,"network-request-failed"),o=wu().setTimeout((function(){i(a)}),ol.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),fl.apply(this,arguments)}var hl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dl="_blank",pl="http://localhost",vl=function(){function e(t){Rn(this,e),this.window=t,this.associatedEvent=null}return Nn(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function yl(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},hl),{width:r.toString(),height:i.toString(),top:a,left:o}),c=rr().toLowerCase();n&&(s=Qa(c)?dl:n),Ka(c)&&(t=t||pl,u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var n=Un(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(eo(c)&&"_self"!==s)return ml(t||"",s),new vl(null);var f=window.open(t||"",s,l);Gi(f,e,"popup-blocked");try{f.focus()}catch(h){}return new vl(f)}function ml(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var gl="__/auth/handler",kl="emulator/auth/handler";function bl(e,t,n,r,i,a){Gi(e.config.authDomain,e,"auth-domain-config-required"),Gi(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ai,eventId:i};if(t instanceof Go){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var c=Un(u[s],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof Qo){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var y=v[p];void 0===d[y]&&delete d[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(gl);return na(t,kl)}(e),"?").concat(mr(d).slice(1))}var wl="webStorageSupport",xl=function(){function e(){Rn(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yu,this._completeRedirectFn=Bc}return Nn(e,[{key:"_openPopup",value:function(){var e=fn(dn().mark((function e(t,n,r,i){var a,o;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $i(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=bl(t,n,r,Ji(),i),e.abrupt("return",yl(t,o,ku()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=fn(dn().mark((function e(t,n,r,i){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=bl(t,n,r,Ji(),i),wu().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):($i(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=fn(dn().mark((function e(t){var n,r;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ll(t);case 2:return n=e.sent,r=new Gc(t),n.register("authEvent",(function(e){return Gi(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(wl,{type:wl},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),qi(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return el.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return no()||Ga()||Za()}}]),e}(),_l=xl,Sl=function(){function e(t){Rn(this,e),this.factorId=t}return Nn(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Qi("unexpected MultiFactorSessionType")}}}]),e}(),El=function(e){Vn(n,e);var t=Kn(n);function n(e){var r;return Rn(this,n),(r=t.call(this,"phone")).credential=e,r}return Nn(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return sa(e,"POST","/v2/accounts/mfaEnrollment:finalize",oa(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return sa(e,"POST","/v2/accounts/mfaSignIn:finalize",oa(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Sl),Tl=function(){function e(){Rn(this,e)}return Nn(e,null,[{key:"assertion",value:function(e){return El._fromCredential(e)}}]),e}();Tl.FACTOR_ID="phone";var Il,Cl="@firebase/auth",Ol="0.19.5",Al=function(){function e(t){Rn(this,e),this.auth=t,this.internalListeners=new Map}return Nn(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=fn(dn().mark((function e(t){var n;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Gi(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Rl(){return window}Il="Browser",Yr(new Tr("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){Gi(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),Gi(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:Il,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ro(Il)},r=new io(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Xi);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Yr(new Tr("auth-internal",(function(e){return function(e){return new Al(e)}(ao(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),fi(Cl,Ol,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Il)),fi(Cl,Ol,"esm2017");function Pl(e,t,n){return Nl.apply(this,arguments)}function Nl(){return Nl=fn(dn().mark((function e(t,n,r){var i,a,o,s,u;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Rl(),o=a.BuildInfo,$i(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Ul(n.sessionId);case 4:return s=e.sent,u={},Za()?u.ibi=o.packageName:Ya()?u.apn=o.packageName:qi(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",bl(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),Nl.apply(this,arguments)}function Dl(){return Dl=fn(dn().mark((function e(t){var n,r,i;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Rl(),r=n.BuildInfo,i={},Za()?i.iosBundleId=r.packageName:Ya()?i.androidPackageName=r.packageName:qi(t,"operation-not-supported-in-this-environment"),e.next=5,Yc(t,i);case 5:case"end":return e.stop()}}),e)}))),Dl.apply(this,arguments)}function Ll(e){var t=Rl().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rr();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Ml(e,t,n){return jl.apply(this,arguments)}function jl(){return jl=fn(dn().mark((function e(t,n,r){var i,a,o;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Rl(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(Bi(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),Ya()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),jl.apply(this,arguments)}function Fl(e){var t,n,r,i,a,o,s,u,c,l,f=Rl();Gi("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Gi("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Gi("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Gi("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Gi("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Ul(e){return zl.apply(this,arguments)}function zl(){return(zl=fn(dn().mark((function e(t){var n,r,i;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Vl(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vl(e){if($i(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var ql=function(e){Vn(n,e);var t=Kn(n);function n(){var e;return Rn(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Nn(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),xi(qn(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=fn(dn().mark((function e(){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Gc);function Bl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Ql(),postBody:null,tenantId:e.tenantId,error:Bi(e,"no-auth-event")}}function Hl(e,t){return $l()._set(Yl(e),t)}function Wl(e){return Kl.apply(this,arguments)}function Kl(){return Kl=fn(dn().mark((function e(t){var n;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$l()._get(Yl(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,$l()._remove(Yl(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Kl.apply(this,arguments)}function Gl(e,t){var n,r,i=function(e){var t=Xl(e),n=t.link?decodeURIComponent(t.link):void 0,r=Xl(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Xl(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Xl(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?Bi(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Ql(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function $l(){return Xi(pu)}function Yl(e){return Ba("authEvent",e.config.apiKey,e.name)}function Xl(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=jn(t=n)||Sr(t)||Ln(t)||Fn();r[0];return gr(r.slice(1).join("?"))}var Jl=function(){function e(){Rn(this,e),this._redirectPersistence=yu,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Bc}return Nn(e,[{key:"_initialize",value:function(){var e=fn(dn().mark((function e(t){var n,r;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new ql(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){qi(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=fn(dn().mark((function e(t,n,r,i){var a,o,s,u;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fl(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Ic.clear(),e.next=10,this._originValidation(t);case 10:return o=Bl(t,r,i),e.next=13,Hl(t,o);case 13:return e.next=15,Pl(t,o,n);case 15:return s=e.sent,e.next=18,Ll(s);case 18:return u=e.sent,e.abrupt("return",Ml(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Dl.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Rl(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(fn(dn().mark((function n(){return dn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Wl(e);case 2:t.onEvent(ef());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=fn(dn().mark((function n(r){var i,a;return dn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Wl(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Gl(i,r.url)),t.onEvent(a||ef());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");Rl().handleOpenURL=function(){var e=fn(dn().mark((function e(t){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Zl=Jl;function ef(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Bi("no-auth-event")}}function tf(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function nf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rr();return!("file:"!==tf()&&"ionic:"!==tf()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function rf(){return ur()&&11===(null===document||void 0===document?void 0:document.documentMode)}function af(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rr();return/Edge\/\d+/.test(e)}function of(){try{var e=self.localStorage,t=ku();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rr();return rf()||af(e)}()||cr()}catch(n){return sf()&&cr()}return!1}function sf(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function uf(){return("http:"===tf()||"https:"===tf()||or()||nf())&&!(sr()||ar())&&of()&&!sf()}function cf(){return nf()&&"undefined"!==typeof document}function lf(){return ff.apply(this,arguments)}function ff(){return(ff=fn(dn().mark((function e(){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(cf()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var hf={LOCAL:"local",NONE:"none",SESSION:"session"},df=Gi,pf="persistence";function vf(e,t){df(Object.values(hf).includes(t),e,"invalid-persistence-type"),sr()?df(t!==hf.SESSION,e,"unsupported-persistence-type"):ar()?df(t===hf.NONE,e,"unsupported-persistence-type"):sf()?df(t===hf.NONE||t===hf.LOCAL&&cr(),e,"unsupported-persistence-type"):df(t===hf.NONE||of(),e,"unsupported-persistence-type")}function yf(e){return mf.apply(this,arguments)}function mf(){return mf=fn(dn().mark((function e(t){var n,r;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=gf(),r=Ba(pf,t.config.apiKey,t.name),(null===n||void 0===n?void 0:n.sessionStorage)&&n.sessionStorage.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),mf.apply(this,arguments)}function gf(){return"undefined"!==typeof window?window:null}var kf=Gi,bf=function(){function e(){Rn(this,e),this.browserResolver=Xi(_l),this.cordovaResolver=Xi(Zl),this.underlyingResolver=null,this._redirectPersistence=yu,this._completeRedirectFn=Bc}return Nn(e,[{key:"_initialize",value:function(){var e=fn(dn().mark((function e(t){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=fn(dn().mark((function e(t,n,r,i){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=fn(dn().mark((function e(t,n,r,i){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return cf()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return kf(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=fn(dn().mark((function e(){var t;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,lf();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function wf(e){return e.unwrap()}function xf(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new If(e,function(e,t){var n,r=_r(e),i=t;return Gi(t.customData.operationType,r,"argument-error"),Gi(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),ou._fromError(r,i)}(e,t));else if(r){var i=_f(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function _f(e){var t=(e instanceof lr?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof lr)&&"temporaryProof"in t&&"phoneNumber"in t)return hc.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Ci)return null;switch(r){case Ii:n=Xo;break;case Ei:n=Yo;break;case Ti:n=Jo;break;case Oi:n=ts;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?Zo._create(r,s):jo._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new $o(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof lr?n.credentialFromError(e):n.credentialFromResult(e)}function Sf(e,t){return t.catch((function(t){throw t instanceof lr&&xf(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,_f(t)),additionalUserInfo:iu(e),user:Cf.getOrCreate(r)}}))}function Ef(e,t){return Tf.apply(this,arguments)}function Tf(){return Tf=fn(dn().mark((function e(t,n){var r;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Sf(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Tf.apply(this,arguments)}var If=function(){function e(t,n){Rn(this,e),this.resolver=n,this.auth=t.wrapped()}return Nn(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Sf(wf(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Cf=function(){function e(t){Rn(this,e),this._delegate=t,this.multiFactor=function(e){var t=_r(e);return lu.has(t)||lu.set(t,cu._fromUser(t)),lu.get(t)}(t)}return Nn(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=fn(dn().mark((function e(t){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sf(this.auth,xs(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=fn(dn().mark((function e(t,n){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ef(this.auth,oc(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=fn(dn().mark((function e(t){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sf(this.auth,Sc(this._delegate,t,bf)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=fn(dn().mark((function e(t){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yf(ao(this.auth));case 2:return e.abrupt("return",Uc(this._delegate,t,bf));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=fn(dn().mark((function e(t){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sf(this.auth,Ss(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Ef(this.auth,function(e,t,n){return uc.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Sf(this.auth,function(e,t,n){return _c.apply(this,arguments)}(this._delegate,e,bf))}},{key:"reauthenticateWithRedirect",value:function(){var e=fn(dn().mark((function e(t){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yf(ao(this.auth));case 2:return e.abrupt("return",jc(this._delegate,t,bf));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Ws.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=fn(dn().mark((function e(t){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ls(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Ys(_r(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Ys(_r(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return fc.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return $s.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Ks.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Cf.USER_MAP=new WeakMap;var Of=Gi,Af=function(){function e(t,n){if(Rn(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Of(r,"invalid-api-key",{appName:t.name}),Of(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?bf:void 0;this._delegate=n.initialize({options:{persistence:Pf(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(ji),this.linkUnderlyingAuth()}return Nn(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Cf.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){so(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Ds.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Ls(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Ns.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=fn(dn().mark((function e(t,n){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sf(this._delegate,Fs(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Hs.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Wo.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=fn(dn().mark((function e(){var t;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Of(uf(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Vc(this._delegate,bf);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Sf(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){ao(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Rf(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Rf(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return zs.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Ps.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=fn(dn().mark((function e(t){var n,r;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:vf(this._delegate,t),e.t0=t,e.next=e.t0===hf.SESSION?4:e.t0===hf.LOCAL?6:e.t0===hf.NONE?11:13;break;case 4:return n=yu,e.abrupt("break",14);case 6:return e.next=8,Xi(Uu)._isAvailable();case 8:return r=e.sent,n=r?Uu:pu,e.abrupt("break",14);case 11:return n=qa,e.abrupt("break",14);case 13:return e.abrupt("return",qi("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Sf(this._delegate,function(e){return os.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Sf(this._delegate,bs(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Sf(this._delegate,function(e,t){return Cs.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Sf(this._delegate,function(e,t,n){return bs(_r(e),Ko.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Sf(this._delegate,function(e,t,n){return Vs.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Ef(this._delegate,function(e,t,n){return ac.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=fn(dn().mark((function e(t){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Of(uf(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Sf(this._delegate,wc(this._delegate,t,bf)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=fn(dn().mark((function e(t){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Of(uf(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,yf(this._delegate);case 3:return e.abrupt("return",Lc(this._delegate,t,bf));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return js.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Rf(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Cf.getOrCreate(e))},error:t,complete:n}}function Pf(e,t){var n=function(e,t){var n=gf();if(!(null===n||void 0===n?void 0:n.sessionStorage))return[];var r=Ba(pf,e,t);switch(n.sessionStorage.getItem(r)){case hf.NONE:return[qa];case hf.LOCAL:return[Uu,yu];case hf.SESSION:return[yu];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Uu)||n.push(Uu),"undefined"!==typeof window)for(var r=0,i=[pu,yu];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(qa)||n.push(qa),n}Af.Persistence=hf;var Nf=function(){function e(){Rn(this,e),this.providerId="phone",this._delegate=new hc(wf(bi.auth()))}return Nn(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return hc.credential(e,t)}}]),e}();Nf.PHONE_SIGN_IN_METHOD=hc.PHONE_SIGN_IN_METHOD,Nf.PROVIDER_ID=hc.PROVIDER_ID;var Df,Lf=Gi,Mf=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bi.app();Rn(this,e),Lf(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new nc(t,n,i.auth()),this.type=this._delegate.type}return Nn(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Df=bi).INTERNAL.registerComponent(new Tr("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Af(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ai,PASSWORD_RESET:Ri,RECOVER_EMAIL:Pi,REVERT_SECOND_FACTOR_ADDITION:Ni,VERIFY_AND_CHANGE_EMAIL:Di,VERIFY_EMAIL:Li}},EmailAuthProvider:Ko,FacebookAuthProvider:Yo,GithubAuthProvider:Jo,GoogleAuthProvider:Xo,OAuthProvider:$o,SAMLAuthProvider:es,PhoneAuthProvider:Nf,PhoneMultiFactorGenerator:Tl,RecaptchaVerifier:Mf,TwitterAuthProvider:ts,Auth:Af,AuthCredential:lo,Error:lr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Df.registerVersion("@firebase/auth-compat","0.2.5");var jf,Ff="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Uf={},zf=zf||{},Vf=Ff||self;function qf(){}function Bf(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Hf(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Wf="closure_uid_"+(1e9*Math.random()>>>0),Kf=0;function Gf(e,t,n){return e.call.apply(e.bind,arguments)}function Qf(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function $f(e,t,n){return($f=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Gf:Qf).apply(null,arguments)}function Yf(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Xf(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Jf(){this.s=this.s,this.o=this.o}var Zf={};Jf.prototype.s=!1,Jf.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Wf)&&e[Wf]||(e[Wf]=++Kf)}(this);delete Zf[e]}},Jf.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var eh=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},th=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function nh(e){return Array.prototype.concat.apply([],arguments)}function rh(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function ih(e){return/^[\s\xa0]*$/.test(e)}var ah,oh=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function sh(e,t){return-1!=e.indexOf(t)}function uh(e,t){return e<t?-1:e>t?1:0}e:{var ch=Vf.navigator;if(ch){var lh=ch.userAgent;if(lh){ah=lh;break e}}ah=""}function fh(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function hh(e){var t={};for(var n in e)t[n]=e[n];return t}var dh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ph(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<dh.length;a++)n=dh[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function vh(e){return vh[" "](e),e}vh[" "]=qf;var yh,mh=sh(ah,"Opera"),gh=sh(ah,"Trident")||sh(ah,"MSIE"),kh=sh(ah,"Edge"),bh=kh||gh,wh=sh(ah,"Gecko")&&!(sh(ah.toLowerCase(),"webkit")&&!sh(ah,"Edge"))&&!(sh(ah,"Trident")||sh(ah,"MSIE"))&&!sh(ah,"Edge"),xh=sh(ah.toLowerCase(),"webkit")&&!sh(ah,"Edge");function _h(){var e=Vf.document;return e?e.documentMode:void 0}e:{var Sh="",Eh=function(){var e=ah;return wh?/rv:([^\);]+)(\)|;)/.exec(e):kh?/Edge\/([\d\.]+)/.exec(e):gh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):xh?/WebKit\/(\S+)/.exec(e):mh?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Eh&&(Sh=Eh?Eh[1]:""),gh){var Th=_h();if(null!=Th&&Th>parseFloat(Sh)){yh=String(Th);break e}}yh=Sh}var Ih,Ch={};function Oh(){return function(e){var t=Ch;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=oh(String(yh)).split("."),n=oh("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=uh(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||uh(0==a[2].length,0==o[2].length)||uh(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Vf.document&&gh){var Ah=_h();Ih=Ah||(parseInt(yh,10)||void 0)}else Ih=void 0;var Rh=Ih,Ph=function(){if(!Vf.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Vf.addEventListener("test",qf,t),Vf.removeEventListener("test",qf,t)}catch(n){}return e}();function Nh(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Dh(e,t){if(Nh.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(wh){e:{try{vh(t.nodeName);var i=!0;break e}catch(kO){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Lh[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Dh.Z.h.call(this)}}Nh.prototype.h=function(){this.defaultPrevented=!0},Xf(Dh,Nh);var Lh={2:"touch",3:"pen",4:"mouse"};Dh.prototype.h=function(){Dh.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Mh="closure_listenable_"+(1e6*Math.random()|0),jh=0;function Fh(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++jh,this.ca=this.fa=!1}function Uh(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function zh(e){this.src=e,this.g={},this.h=0}function Vh(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=eh(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Uh(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function qh(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}zh.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=qh(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Fh(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Bh="closure_lm_"+(1e6*Math.random()|0),Hh={};function Wh(e,t,n,r,i){if(r&&r.once)return Gh(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Wh(e,t[a],n,r,i);return null}return n=ed(n),e&&e[Mh]?e.N(t,n,Hf(r)?!!r.capture:!!r,i):Kh(e,t,n,!1,r,i)}function Kh(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Hf(i)?!!i.capture:!!i,s=Jh(e);if(s||(e[Bh]=s=new zh(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Xh;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ph||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Yh(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Gh(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Gh(e,t[a],n,r,i);return null}return n=ed(n),e&&e[Mh]?e.O(t,n,Hf(r)?!!r.capture:!!r,i):Kh(e,t,n,!0,r,i)}function Qh(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Qh(e,t[a],n,r,i);else r=Hf(r)?!!r.capture:!!r,n=ed(n),e&&e[Mh]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=qh(a=e.g[t],n,r,i))&&(Uh(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Jh(e))&&(t=e.g[t.toString()],e=-1,t&&(e=qh(t,n,r,i)),(n=-1<e?t[e]:null)&&$h(n))}function $h(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Mh])Vh(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Yh(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Jh(t))?(Vh(n,e),0==n.h&&(n.src=null,t[Bh]=null)):Uh(e)}}}function Yh(e){return e in Hh?Hh[e]:Hh[e]="on"+e}function Xh(e,t){if(e.ca)e=!0;else{t=new Dh(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&$h(e),e=n.call(r,t)}return e}function Jh(e){return(e=e[Bh])instanceof zh?e:null}var Zh="__closure_events_fn_"+(1e9*Math.random()>>>0);function ed(e){return"function"===typeof e?e:(e[Zh]||(e[Zh]=function(t){return e.handleEvent(t)}),e[Zh])}function td(){Jf.call(this),this.i=new zh(this),this.P=this,this.I=null}function nd(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Nh(t,e);else if(t instanceof Nh)t.target=t.target||e;else{var i=t;ph(t=new Nh(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=rd(o,r,!0,t)&&i}if(i=rd(o=t.g=e,r,!0,t)&&i,i=rd(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=rd(o=t.g=n[a],r,!1,t)&&i}function rd(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&Vh(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Xf(td,Jf),td.prototype[Mh]=!0,td.prototype.removeEventListener=function(e,t,n,r){Qh(this,e,t,n,r)},td.prototype.M=function(){if(td.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Uh(n[r]);delete t.g[e],t.h--}}this.I=null},td.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},td.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var id=Vf.JSON.stringify;function ad(){var e=dd,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var od,sd=function(){function e(){Rn(this,e),this.h=this.g=null}return Nn(e,[{key:"add",value:function(e,t){var n=ud.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),ud=new(function(){function e(t,n){Rn(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Nn(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new cd}),(function(e){return e.reset()})),cd=function(){function e(){Rn(this,e),this.next=this.g=this.h=null}return Nn(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function ld(e){Vf.setTimeout((function(){throw e}),0)}function fd(e,t){od||function(){var e=Vf.Promise.resolve(void 0);od=function(){e.then(pd)}}(),hd||(od(),hd=!0),dd.add(e,t)}var hd=!1,dd=new sd;function pd(){for(var e;e=ad();){try{e.h.call(e.g)}catch(n){ld(n)}var t=ud;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}hd=!1}function vd(e,t){td.call(this),this.h=e||1,this.g=t||Vf,this.j=$f(this.kb,this),this.l=Date.now()}function yd(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function md(e,t,n){if("function"===typeof e)n&&(e=$f(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=$f(e.handleEvent,e)}return 2147483647<Number(t)?-1:Vf.setTimeout(e,t||0)}function gd(e){e.g=md((function(){e.g=null,e.i&&(e.i=!1,gd(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Xf(vd,td),(jf=vd.prototype).da=!1,jf.S=null,jf.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),nd(this,"tick"),this.da&&(yd(this),this.start()))}},jf.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},jf.M=function(){vd.Z.M.call(this),yd(this),delete this.g};var kd=function(e){Vn(n,e);var t=Kn(n);function n(e,r){var i;return Rn(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Nn(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:gd(this)}},{key:"M",value:function(){xi(qn(n.prototype),"M",this).call(this),this.g&&(Vf.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Jf);function bd(e){Jf.call(this),this.h=e,this.g={}}Xf(bd,Jf);var wd=[];function xd(e,t,n,r){Array.isArray(n)||(n&&(wd[0]=n.toString()),n=wd);for(var i=0;i<n.length;i++){var a=Wh(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function _d(e){fh(e.g,(function(e,t){this.g.hasOwnProperty(t)&&$h(e)}),e),e.g={}}function Sd(){this.g=!0}function Ed(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return id(n)}catch(hO){return t}}(e,n)+(r?" "+r:"")}))}bd.prototype.M=function(){bd.Z.M.call(this),_d(this)},bd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Sd.prototype.Aa=function(){this.g=!1},Sd.prototype.info=function(){};var Td={},Id=null;function Cd(){return Id=Id||new td}function Od(e){Nh.call(this,Td.Ma,e)}function Ad(e){var t=Cd();nd(t,new Od(t,e))}function Rd(e,t){Nh.call(this,Td.STAT_EVENT,e),this.stat=t}function Pd(e){var t=Cd();nd(t,new Rd(t,e))}function Nd(e,t){Nh.call(this,Td.Na,e),this.size=t}function Dd(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Vf.setTimeout((function(){e()}),t)}Td.Ma="serverreachability",Xf(Od,Nh),Td.STAT_EVENT="statevent",Xf(Rd,Nh),Td.Na="timingevent",Xf(Nd,Nh);var Ld={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Md={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function jd(){}function Fd(e){return e.h||(e.h=e.i())}function Ud(){}jd.prototype.h=null;var zd,Vd={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function qd(){Nh.call(this,"d")}function Bd(){Nh.call(this,"c")}function Hd(){}function Wd(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new bd(this),this.P=Gd,e=bh?125:void 0,this.W=new vd(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Kd}function Kd(){this.i=null,this.g="",this.h=!1}Xf(qd,Nh),Xf(Bd,Nh),Xf(Hd,jd),Hd.prototype.g=function(){return new XMLHttpRequest},Hd.prototype.i=function(){return{}},zd=new Hd;var Gd=45e3,Qd={},$d={};function Yd(e,t,n){e.K=1,e.v=kp(dp(t)),e.s=n,e.U=!0,Xd(e,null)}function Xd(e,t){e.F=Date.now(),tp(e),e.A=dp(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Pp(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Kd,e.g=Nv(e.l,n?t:null,!e.s),0<e.O&&(e.L=new kd($f(e.Ia,e,e.g),e.O)),xd(e.V,e.g,"readystatechange",e.gb),t=e.H?hh(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ad(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Jd(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Zd(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=ep(e,n))==$d){4==t&&(e.o=4,Pd(14),i=!1),Ed(e.j,e.m,null,"[Incomplete Response]");break}if(r==Qd){e.o=4,Pd(15),Ed(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ed(e.j,e.m,r,null),op(e,r)}Jd(e)&&r!=$d&&r!=Qd&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Pd(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ev(t),t.L=!0,Pd(11))):(Ed(e.j,e.m,n,"[Invalid Chunked Response]"),ap(e),ip(e))}function ep(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?$d:(n=Number(t.substring(n,r)),isNaN(n)?Qd:(r+=1)+n>t.length?$d:(t=t.substr(r,n),e.C=r+n,t))}function tp(e){e.Y=Date.now()+e.P,np(e,e.P)}function np(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Dd($f(e.eb,e),t)}function rp(e){e.B&&(Vf.clearTimeout(e.B),e.B=null)}function ip(e){0==e.l.G||e.I||Cv(e.l,e)}function ap(e){rp(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,yd(e.W),_d(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function op(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Up(n.i,e)))if(n.I=e.N,!e.J&&Up(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Iv(n),yv(n)}Sv(n),Pd(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Dd($f(n.ab,n),6e3));if(1>=Fp(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Av(n,11)}else if((e.J||n.g==e)&&Iv(n),!ih(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(sh(l,"spdy")||sh(l,"quic")||sh(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(zp(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,gp(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Pv(r,r.H?r.la:null,r.W),d.J){Vp(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(rp(p),tp(p)),r.g=d}else _v(r);0<n.l.length&&kv(n)}else"stop"!=a[0]&&"close"!=a[0]||Av(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Av(n,7):vv(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Ad(4)}catch(a){}}function sp(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Bf(e)||"string"===typeof e)th(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Bf(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Bf(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function up(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof up)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function cp(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];lp(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)lp(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function lp(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(jf=Wd.prototype).setTimeout=function(e){this.P=e},jf.gb=function(e){e=e.target;var t=this.L;t&&3==lv(e)?t.l():this.Ia(e)},jf.Ia=function(e){try{if(e==this.g)e:{var t=lv(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||bh||this.g&&(this.h.h||this.g.ga()||fv(this.g)))){this.I||4!=t||7==n||Ad(8==n||0>=r?3:2),rp(this);var i=this.g.ba();this.N=i;t:if(Jd(this)){var a=fv(this.g);e="";var o=a.length,s=4==lv(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ap(this),ip(this);var u="";break t}this.h.i=new Vf.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ih(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Pd(12),ap(this),ip(this);break e}Ed(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,op(this,i)}this.U?(Zd(this,t,u),bh&&this.i&&3==t&&(xd(this.V,this.W,"tick",this.fb),this.W.start())):(Ed(this.j,this.m,u,null),op(this,u)),4==t&&ap(this),this.i&&!this.I&&(4==t?Cv(this.l,this):(this.i=!1,tp(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Pd(12)):(this.o=0,Pd(13)),ap(this),ip(this)}}}catch(t){}},jf.fb=function(){if(this.g){var e=lv(this.g),t=this.g.ga();this.C<t.length&&(rp(this),Zd(this,e,t),this.i&&4!=e&&tp(this))}},jf.cancel=function(){this.I=!0,ap(this)},jf.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Ad(3),Pd(17)),ap(this),this.o=2,ip(this)):np(this,this.Y-e)},(jf=up.prototype).R=function(){cp(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},jf.T=function(){return cp(this),this.g.concat()},jf.get=function(e,t){return lp(this.h,e)?this.h[e]:t},jf.set=function(e,t){lp(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},jf.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var fp=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function hp(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof hp){this.g=void 0!==t?t:e.g,pp(this,e.j),this.s=e.s,vp(this,e.i),yp(this,e.m),this.l=e.l,t=e.h;var n=new Cp;n.i=t.i,t.g&&(n.g=new up(t.g),n.h=t.h),mp(this,n),this.o=e.o}else e&&(n=String(e).match(fp))?(this.g=!!t,pp(this,n[1]||"",!0),this.s=bp(n[2]||""),vp(this,n[3]||"",!0),yp(this,n[4]),this.l=bp(n[5]||"",!0),mp(this,n[6]||"",!0),this.o=bp(n[7]||"")):(this.g=!!t,this.h=new Cp(null,this.g))}function dp(e){return new hp(e)}function pp(e,t,n){e.j=n?bp(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function vp(e,t,n){e.i=n?bp(t,!0):t}function yp(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function mp(e,t,n){t instanceof Cp?(e.h=t,function(e,t){t&&!e.j&&(Op(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ap(this,t),Pp(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=wp(t,Tp)),e.h=new Cp(t,e.g))}function gp(e,t,n){e.h.set(t,n)}function kp(e){return gp(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function bp(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function wp(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,xp),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function xp(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}hp.prototype.toString=function(){var e=[],t=this.j;t&&e.push(wp(t,_p,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(wp(t,_p,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(wp(n,"/"==n.charAt(0)?Ep:Sp,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",wp(n,Ip)),e.join("")};var _p=/[#\/\?@]/g,Sp=/[#\?:]/g,Ep=/[#\?]/g,Tp=/[#\?@]/g,Ip=/#/g;function Cp(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Op(e){e.g||(e.g=new up,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ap(e,t){Op(e),t=Np(e,t),lp(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,lp((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&cp(e)))}function Rp(e,t){return Op(e),t=Np(e,t),lp(e.g.h,t)}function Pp(e,t,n){Ap(e,t),0<n.length&&(e.i=null,e.g.set(Np(e,t),rh(n)),e.h+=n.length)}function Np(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(jf=Cp.prototype).add=function(e,t){Op(this),this.i=null,e=Np(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},jf.forEach=function(e,t){Op(this),this.g.forEach((function(n,r){th(n,(function(n){e.call(t,n,r,this)}),this)}),this)},jf.T=function(){Op(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},jf.R=function(e){Op(this);var t=[];if("string"===typeof e)Rp(this,e)&&(t=nh(t,this.g.get(Np(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=nh(t,e[n])}return t},jf.set=function(e,t){return Op(this),this.i=null,Rp(this,e=Np(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},jf.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},jf.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Dp=Nn((function e(t,n){Rn(this,e),this.h=t,this.g=n}));function Lp(e){this.l=e||Mp,Vf.PerformanceNavigationTiming?e=0<(e=Vf.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Vf.g&&Vf.g.Ea&&Vf.g.Ea()&&Vf.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Mp=10;function jp(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Fp(e){return e.h?1:e.g?e.g.size:0}function Up(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function zp(e,t){e.g?e.g.add(t):e.h=t}function Vp(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function qp(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Mn(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return rh(e.i)}function Bp(){}function Hp(){this.g=new Bp}function Wp(e,t,n){var r=n||"";try{sp(e,(function(e,n){var i=e;Hf(e)&&(i=id(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Kp(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(kO){}}function Gp(e){this.l=e.$b||null,this.j=e.ib||!1}function Qp(e,t){td.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=$p,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Lp.prototype.cancel=function(){if(this.i=qp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Mn(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Bp.prototype.stringify=function(e){return Vf.JSON.stringify(e,void 0)},Bp.prototype.parse=function(e){return Vf.JSON.parse(e,void 0)},Xf(Gp,jd),Gp.prototype.g=function(){return new Qp(this.l,this.j)},Gp.prototype.i=function(e){return function(){return e}}({}),Xf(Qp,td);var $p=0;function Yp(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Xp(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Jp(e)}function Jp(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(jf=Qp.prototype).open=function(e,t){if(this.readyState!=$p)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Jp(this)},jf.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Vf).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},jf.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Xp(this)),this.readyState=$p},jf.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Jp(this)),this.g&&(this.readyState=3,Jp(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Vf.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Yp(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},jf.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Xp(this):Jp(this),3==this.readyState&&Yp(this)}},jf.Ua=function(e){this.g&&(this.response=this.responseText=e,Xp(this))},jf.Ta=function(e){this.g&&(this.response=e,Xp(this))},jf.ha=function(){this.g&&Xp(this)},jf.setRequestHeader=function(e,t){this.v.append(e,t)},jf.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},jf.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Qp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Zp=Vf.JSON.parse;function ev(e){td.call(this),this.headers=new up,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=tv,this.K=this.L=!1}Xf(ev,td);var tv="",nv=/^https?$/i,rv=["POST","PUT"];function iv(e){return"content-type"==e.toLowerCase()}function av(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ov(e),uv(e)}function ov(e){e.D||(e.D=!0,nd(e,"complete"),nd(e,"error"))}function sv(e){if(e.h&&"undefined"!=typeof zf&&(!e.C[1]||4!=lv(e)||2!=e.ba()))if(e.v&&4==lv(e))md(e.Fa,0,e);else if(nd(e,"readystatechange"),4==lv(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(fp)[1]||null;if(!a&&Vf.self&&Vf.self.location){var o=Vf.self.location.protocol;a=o.substr(0,o.length-1)}i=!nv.test(a?a.toLowerCase():"")}t=i}if(t)nd(e,"complete"),nd(e,"success");else{e.m=6;try{var s=2<lv(e)?e.g.statusText:""}catch(mO){s=""}e.j=s+" ["+e.ba()+"]",ov(e)}}finally{uv(e)}}}function uv(e,t){if(e.g){cv(e);var n=e.g,r=e.C[0]?qf:null;e.g=null,e.C=null,t||nd(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function cv(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Vf.clearTimeout(e.A),e.A=null)}function lv(e){return e.g?e.g.readyState:0}function fv(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case tv:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Ae){return null}}function hv(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return fh(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):gp(e,t,n))}function dv(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function pv(e){this.za=0,this.l=[],this.h=new Sd,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=dv("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=dv("baseRetryDelayMs",5e3,e),this.$a=dv("retryDelaySeedMs",1e4,e),this.Ya=dv("forwardChannelMaxRetries",2,e),this.ra=dv("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Lp(e&&e.concurrentRequestLimit),this.Ca=new Hp,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function vv(e){if(mv(e),3==e.G){var t=e.V++,n=dp(e.F);gp(n,"SID",e.J),gp(n,"RID",t),gp(n,"TYPE","terminate"),wv(e,n),(t=new Wd(e,e.h,t,void 0)).K=2,t.v=kp(dp(n)),n=!1,Vf.navigator&&Vf.navigator.sendBeacon&&(n=Vf.navigator.sendBeacon(t.v.toString(),"")),!n&&Vf.Image&&((new Image).src=t.v,n=!0),n||(t.g=Nv(t.l,null),t.g.ea(t.v)),t.F=Date.now(),tp(t)}Rv(e)}function yv(e){e.g&&(Ev(e),e.g.cancel(),e.g=null)}function mv(e){yv(e),e.u&&(Vf.clearTimeout(e.u),e.u=null),Iv(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Vf.clearTimeout(e.m),e.m=null)}function gv(e,t){e.l.push(new Dp(e.Za++,t)),3==e.G&&kv(e)}function kv(e){jp(e.i)||e.m||(e.m=!0,fd(e.Ha,e),e.C=0)}function bv(e,t){var n;n=t?t.m:e.V++;var r=dp(e.F);gp(r,"SID",e.J),gp(r,"RID",n),gp(r,"AID",e.U),wv(e,r),e.o&&e.s&&hv(r,e.o,e.s),n=new Wd(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=xv(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),zp(e.i,n),Yd(n,r,t)}function wv(e,t){e.j&&sp({},(function(e,n){gp(t,n,e)}))}function xv(e,t,n){n=Math.min(e.l.length,n);var r=e.j?$f(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Wp(l,o,"req"+c+"_")}catch(He){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function _v(e){e.g||e.u||(e.Y=1,fd(e.Ga,e),e.A=0)}function Sv(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Dd($f(e.Ga,e),Ov(e,e.A)),e.A++,!0)}function Ev(e){null!=e.B&&(Vf.clearTimeout(e.B),e.B=null)}function Tv(e){e.g=new Wd(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=dp(e.oa);gp(t,"RID","rpc"),gp(t,"SID",e.J),gp(t,"CI",e.N?"0":"1"),gp(t,"AID",e.U),wv(e,t),gp(t,"TYPE","xmlhttp"),e.o&&e.s&&hv(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=kp(dp(t)),n.s=null,n.U=!0,Xd(n,e)}function Iv(e){null!=e.v&&(Vf.clearTimeout(e.v),e.v=null)}function Cv(e,t){var n=null;if(e.g==t){Iv(e),Ev(e),e.g=null;var r=2}else{if(!Up(e.i,t))return;n=t.D,Vp(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;nd(r=Cd(),new Nd(r,n,t,i)),kv(e)}else _v(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Fp(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Dd($f(e.Ha,e,t),Ov(e,e.C)),e.C++,!0))}(e,t)||2==r&&Sv(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Av(e,5);break;case 4:Av(e,10);break;case 3:Av(e,6);break;default:Av(e,2)}}function Ov(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Av(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=$f(e.jb,e);n||(n=new hp("//www.google.com/images/cleardot.gif"),Vf.location&&"http"==Vf.location.protocol||pp(n,"https"),kp(n)),function(e,t){var n=new Sd;if(Vf.Image){var r=new Image;r.onload=Yf(Kp,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Yf(Kp,n,r,"TestLoadImage: error",!1,t),r.onabort=Yf(Kp,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Yf(Kp,n,r,"TestLoadImage: timeout",!1,t),Vf.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Pd(2);e.G=0,e.j&&e.j.va(t),Rv(e),mv(e)}function Rv(e){e.G=0,e.I=-1,e.j&&(0==qp(e.i).length&&0==e.l.length||(e.i.i.length=0,rh(e.l),e.l.length=0),e.j.ua())}function Pv(e,t,n){var r=function(e){return e instanceof hp?dp(e):new hp(e,void 0)}(n);if(""!=r.i)t&&vp(r,t+"."+r.i),yp(r,r.m);else{var i=Vf.location;r=function(e,t,n,r){var i=new hp(null,void 0);return e&&pp(i,e),t&&vp(i,t),n&&yp(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&fh(e.aa,(function(e,t){gp(r,t,e)})),t=e.D,n=e.sa,t&&n&&gp(r,t,n),gp(r,"VER",e.ma),wv(e,r),r}function Nv(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new ev(new Gp({ib:!0})):new ev(e.qa)).L=e.H,t}function Dv(){}function Lv(){if(gh&&!(10<=Number(Rh)))throw Error("Environmental error: no available transport.")}function Mv(e,t){td.call(this),this.g=new pv(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!ih(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ih(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Uv(this)}function jv(e){qd.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Fv(){Bd.call(this),this.status=1}function Uv(e){this.g=e}(jf=ev.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():zd.g(),this.C=this.u?Fd(this.u):Fd(zd),this.g.onreadystatechange=$f(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(kO){return void av(this,kO)}e=n||"";var i=new up(this.headers);r&&sp(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=iv,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Vf.FormData&&e instanceof Vf.FormData,!(0<=eh(rv,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{cv(this),0<this.B&&((this.K=function(e){return gh&&Oh()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=$f(this.pa,this)):this.A=md(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(kO){av(this,kO)}},jf.pa=function(){"undefined"!=typeof zf&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,nd(this,"timeout"),this.abort(8))},jf.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,nd(this,"complete"),nd(this,"abort"),uv(this))},jf.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),uv(this,!0)),ev.Z.M.call(this)},jf.Fa=function(){this.s||(this.F||this.v||this.l?sv(this):this.cb())},jf.cb=function(){sv(this)},jf.ba=function(){try{return 2<lv(this)?this.g.status:-1}catch(gO){return-1}},jf.ga=function(){try{return this.g?this.g.responseText:""}catch(gO){return""}},jf.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Zp(t)}},jf.Da=function(){return this.m},jf.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(jf=pv.prototype).ma=8,jf.G=1,jf.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(Ae){}},jf.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Wd(this,this.h,e,void 0),n=this.s;if(this.P&&(n?ph(n=hh(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=xv(this,t,r),gp(i=dp(this.F),"RID",e),gp(i,"CVER",22),this.D&&gp(i,"X-HTTP-Session-Id",this.D),wv(this,i),this.o&&n&&hv(i,this.o,n),zp(this.i,t),this.Ra&&gp(i,"TYPE","init"),this.ja?(gp(i,"$req",r),gp(i,"SID","null"),t.$=!0,Yd(t,i,null)):Yd(t,i,r),this.G=2}}else 3==this.G&&(e?bv(this,e):0==this.l.length||jp(this.i)||bv(this))},jf.Ga=function(){if(this.u=null,Tv(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Dd($f(this.bb,this),e)}},jf.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Pd(10),yv(this),Tv(this))},jf.ab=function(){null!=this.v&&(this.v=null,yv(this),Sv(this),Pd(19))},jf.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Pd(2)):(this.h.info("Failed to ping google.com"),Pd(1))},(jf=Dv.prototype).xa=function(){},jf.wa=function(){},jf.va=function(){},jf.ua=function(){},jf.Oa=function(){},Lv.prototype.g=function(e,t){return new Mv(e,t)},Xf(Mv,td),Mv.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),fd($f(e.hb,e,t))),Pd(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Pv(e,null,e.W),kv(e)},Mv.prototype.close=function(){vv(this.g)},Mv.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,gv(this.g,t)}else this.v?((t={}).__data__=id(e),gv(this.g,t)):gv(this.g,e)},Mv.prototype.M=function(){this.g.j=null,delete this.j,vv(this.g),delete this.g,Mv.Z.M.call(this)},Xf(jv,qd),Xf(Fv,Bd),Xf(Uv,Dv),Uv.prototype.xa=function(){nd(this.g,"a")},Uv.prototype.wa=function(e){nd(this.g,new jv(e))},Uv.prototype.va=function(e){nd(this.g,new Fv(e))},Uv.prototype.ua=function(){nd(this.g,"b")},Lv.prototype.createWebChannel=Lv.prototype.g,Mv.prototype.send=Mv.prototype.u,Mv.prototype.open=Mv.prototype.m,Mv.prototype.close=Mv.prototype.close,Ld.NO_ERROR=0,Ld.TIMEOUT=8,Ld.HTTP_ERROR=6,Md.COMPLETE="complete",Ud.EventType=Vd,Vd.OPEN="a",Vd.CLOSE="b",Vd.ERROR="c",Vd.MESSAGE="d",td.prototype.listen=td.prototype.N,ev.prototype.listenOnce=ev.prototype.O,ev.prototype.getLastError=ev.prototype.La,ev.prototype.getLastErrorCode=ev.prototype.Da,ev.prototype.getStatus=ev.prototype.ba,ev.prototype.getResponseJson=ev.prototype.Qa,ev.prototype.getResponseText=ev.prototype.ga,ev.prototype.send=ev.prototype.ea;var zv=Uf.createWebChannelTransport=function(){return new Lv},Vv=Uf.getStatEventTarget=function(){return Cd()},qv=Uf.ErrorCode=Ld,Bv=Uf.EventType=Md,Hv=Uf.Event=Td,Wv=Uf.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Kv=Uf.FetchXmlHttpFactory=Gp,Gv=Uf.WebChannel=Ud,Qv=Uf.XhrIo=ev,$v="@firebase/firestore",Yv=function(){function e(t){Rn(this,e),this.uid=t}return Nn(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Yv.UNAUTHENTICATED=new Yv(null),Yv.GOOGLE_CREDENTIALS=new Yv("google-credentials-uid"),Yv.FIRST_PARTY=new Yv("first-party-uid"),Yv.MOCK_USER=new Yv("mock-user");var Xv="9.6.2",Jv=new Ur("@firebase/firestore");function Zv(){return Jv.logLevel}function ey(e){if(Jv.logLevel<=Ar.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ry);Jv.debug.apply(Jv,["Firestore (".concat(Xv,"): ").concat(e)].concat(Er(i)))}}function ty(e){if(Jv.logLevel<=Ar.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ry);Jv.error.apply(Jv,["Firestore (".concat(Xv,"): ").concat(e)].concat(Er(i)))}}function ny(e){if(Jv.logLevel<=Ar.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ry);Jv.warn.apply(Jv,["Firestore (".concat(Xv,"): ").concat(e)].concat(Er(i)))}}function ry(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function iy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Xv,") INTERNAL ASSERTION FAILED: ")+e;throw ty(t),new Error(t)}function ay(e,t){e||iy()}function oy(e,t){return e}var sy={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},uy=function(e){Vn(n,e);var t=Kn(n);function n(e,r){var i;return Rn(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Nn(n)}(lr),cy=Nn((function e(){var t=this;Rn(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),ly=Nn((function e(t,n){Rn(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),fy=function(){function e(){Rn(this,e)}return Nn(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Yv.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),hy=function(){function e(t){Rn(this,e),this.token=t,this.changeListener=null}return Nn(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),dy=function(){function e(t){Rn(this,e),this.t=t,this.currentUser=Yv.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Nn(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new cy;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new cy,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(fn(dn().mark((function e(){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){ey("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(ey("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new cy)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(ey("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(ay("string"==typeof n.accessToken),new ly(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return ay(null===e||"string"==typeof e),new Yv(e)}}]),e}(),py=Nn((function e(t,n,r){Rn(this,e),this.type="FirstParty",this.user=Yv.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),vy=function(){function e(t,n,r){Rn(this,e),this.h=t,this.l=n,this.m=r}return Nn(e,[{key:"getToken",value:function(){return Promise.resolve(new py(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Yv.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),yy=Nn((function e(t){Rn(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),my=function(){function e(t){Rn(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null}return Nn(e,[{key:"start",value:function(e,t){var n=this;this.o=function(n){e.enqueueRetryable((function(){return function(e){return null!=e.error&&ey("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message)),t(e.token)}(n)}))};var r=function(e){ey("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return r(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?r(e):ey("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((function(e){return e?(ay("string"==typeof e.token),new yy(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),gy=function(){function e(t,n){var r=this;Rn(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.p(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return Nn(e,[{key:"p",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function ky(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}gy.I=-1;var by=function(){function e(){Rn(this,e)}return Nn(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=ky(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function wy(e,t){return e<t?-1:e>t?1:0}function xy(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function _y(e){return e+"\0"}var Sy=function(){function e(t,n){if(Rn(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new uy(sy.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new uy(sy.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new uy(sy.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new uy(sy.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Nn(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?wy(this.nanoseconds,e.nanoseconds):wy(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Ey=function(){function e(t){Rn(this,e),this.timestamp=t}return Nn(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Sy(0,0))}}]),e}();function Ty(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Iy(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Cy(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Oy=function(){function e(t,n,r){Rn(this,e),void 0===n?n=0:n>t.length&&iy(),void 0===r?r=t.length-n:r>t.length-n&&iy(),this.segments=t,this.offset=n,this.len=r}return Nn(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Ay=function(e){Vn(n,e);var t=Kn(n);function n(){return Rn(this,n),t.apply(this,arguments)}return Nn(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new uy(sy.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,Er(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Oy),Ry=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Py=function(e){Vn(n,e);var t=Kn(n);function n(){return Rn(this,n),t.apply(this,arguments)}return Nn(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Ry.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new uy(sy.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new uy(sy.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new uy(sy.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new uy(sy.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Oy),Ny=function(){function e(t){Rn(this,e),this.fields=t,t.sort(Py.comparator)}return Nn(e,[{key:"covers",value:function(e){var t,n=Mn(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return xy(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Dy=function(e){function t(e){Rn(this,t),this.binaryString=e}return Nn(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return wy(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Dy.EMPTY_BYTE_STRING=new Dy("");var Ly=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function My(e){if(ay(!!e),"string"==typeof e){var t=0,n=Ly.exec(e);if(ay(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:jy(e.seconds),nanos:jy(e.nanos)}}function jy(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Fy(e){return"string"==typeof e?Dy.fromBase64String(e):Dy.fromUint8Array(e)}function Uy(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function zy(e){var t=e.mapValue.fields.__previous_value__;return Uy(t)?zy(t):t}function Vy(e){var t=My(e.mapValue.fields.__local_write_time__.timestampValue);return new Sy(t.seconds,t.nanos)}function qy(e){return null==e}function By(e){return 0===e&&1/e==-1/0}function Hy(e){return"number"==typeof e&&Number.isInteger(e)&&!By(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Wy=function(){function e(t){Rn(this,e),this.path=t}return Nn(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===Ay.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Ay.fromString(t))}},{key:"fromName",value:function(t){return new e(Ay.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return Ay.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Ay(t.slice()))}}]),e}();function Ky(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Uy(e)?4:10:iy()}function Gy(e,t){if(e===t)return!0;var n=Ky(e);if(n!==Ky(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Vy(e).isEqual(Vy(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=My(e.timestampValue),r=My(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Fy(e.bytesValue).isEqual(Fy(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return jy(e.geoPointValue.latitude)===jy(t.geoPointValue.latitude)&&jy(e.geoPointValue.longitude)===jy(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return jy(e.integerValue)===jy(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=jy(e.doubleValue),r=jy(t.doubleValue);return n===r?By(n)===By(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return xy(e.arrayValue.values||[],t.arrayValue.values||[],Gy);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ty(n)!==Ty(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Gy(n[i],r[i])))return!1;return!0}(e,t);default:return iy()}}function Qy(e,t){return void 0!==(e.values||[]).find((function(e){return Gy(e,t)}))}function $y(e,t){if(e===t)return 0;var n=Ky(e),r=Ky(t);if(n!==r)return wy(n,r);switch(n){case 0:return 0;case 1:return wy(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=jy(e.integerValue||e.doubleValue),r=jy(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Yy(e.timestampValue,t.timestampValue);case 4:return Yy(Vy(e),Vy(t));case 5:return wy(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Fy(e),r=Fy(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=wy(n[i],r[i]);if(0!==a)return a}return wy(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=wy(jy(e.latitude),jy(t.latitude));return 0!==n?n:wy(jy(e.longitude),jy(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=$y(n[i],r[i]);if(a)return a}return wy(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=wy(r[o],a[o]);if(0!==s)return s;var u=$y(n[r[o]],i[a[o]]);if(0!==u)return u}return wy(r.length,a.length)}(e.mapValue,t.mapValue);default:throw iy()}}function Yy(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return wy(e,t);var n=My(e),r=My(t),i=wy(n.seconds,r.seconds);return 0!==i?i:wy(n.nanos,r.nanos)}function Xy(e){return Jy(e)}function Jy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=My(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Fy(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Wy.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Mn(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Jy(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Mn(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Jy(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):iy();var t,n}function Zy(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function em(e){return!!e&&"integerValue"in e}function tm(e){return!!e&&"arrayValue"in e}function nm(e){return!!e&&"nullValue"in e}function rm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function im(e){return!!e&&"mapValue"in e}function am(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Iy(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=am(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=am(e.arrayValue.values[r]);return n}return Object.assign({},e)}var om=function(){function e(t){Rn(this,e),this.value=t}return Nn(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!im(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=am(t)}},{key:"setAll",value:function(e){var t=this,n=Py.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=am(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());im(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Gy(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];im(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Iy(t,(function(t,n){return e[t]=n}));var r,i=Mn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(am(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function sm(e){var t=[];return Iy(e.fields,(function(e,n){var r=new Py([e]);if(im(n)){var i=sm(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Mn(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Ny(t)}var um=function(){function e(t,n,r,i,a){Rn(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return Nn(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=om.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=om.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Ey.min(),om.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,om.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,om.empty(),2)}}]),e}(),cm=Nn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Rn(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.R=null}));function lm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new cm(e,t,n,r,i,a,o)}function fm(e){var t=oy(e);if(null===t.R){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Xy(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),qy(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Sm(t.startAt)),t.endAt&&(n+="|ub:",n+=Sm(t.endAt)),t.R=n}return t.R}function hm(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Tm(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Gy(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Cm(e.startAt,t.startAt)&&Cm(e.endAt,t.endAt)}function dm(e){return Wy.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var pm=function(e){Vn(n,e);var t=Kn(n);function n(e,r,i){var a;return Rn(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Nn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v($y(t,this.value)):null!==t&&Ky(this.value)===Ky(t)&&this.v($y(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return iy()}}},{key:"V",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new vm(e,t,r):"array-contains"===t?new km(e,r):"in"===t?new bm(e,r):"not-in"===t?new wm(e,r):"array-contains-any"===t?new xm(e,r):new n(e,t,r)}},{key:"P",value:function(e,t,n){return"in"===t?new ym(e,n):new mm(e,n)}}]),n}(function(){return Nn((function e(){Rn(this,e)}))}());var vm=function(e){Vn(n,e);var t=Kn(n);function n(e,r,i){var a;return Rn(this,n),(a=t.call(this,e,r,i)).key=Wy.fromName(i.referenceValue),a}return Nn(n,[{key:"matches",value:function(e){var t=Wy.comparator(e.key,this.key);return this.v(t)}}]),n}(pm),ym=function(e){Vn(n,e);var t=Kn(n);function n(e,r){var i;return Rn(this,n),(i=t.call(this,e,"in",r)).keys=gm("in",r),i}return Nn(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(pm),mm=function(e){Vn(n,e);var t=Kn(n);function n(e,r){var i;return Rn(this,n),(i=t.call(this,e,"not-in",r)).keys=gm("not-in",r),i}return Nn(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(pm);function gm(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Wy.fromName(e.referenceValue)}))}var km=function(e){Vn(n,e);var t=Kn(n);function n(e,r){return Rn(this,n),t.call(this,e,"array-contains",r)}return Nn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return tm(t)&&Qy(t.arrayValue,this.value)}}]),n}(pm),bm=function(e){Vn(n,e);var t=Kn(n);function n(e,r){return Rn(this,n),t.call(this,e,"in",r)}return Nn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Qy(this.value.arrayValue,t)}}]),n}(pm),wm=function(e){Vn(n,e);var t=Kn(n);function n(e,r){return Rn(this,n),t.call(this,e,"not-in",r)}return Nn(n,[{key:"matches",value:function(e){if(Qy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Qy(this.value.arrayValue,t)}}]),n}(pm),xm=function(e){Vn(n,e);var t=Kn(n);function n(e,r){return Rn(this,n),t.call(this,e,"array-contains-any",r)}return Nn(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!tm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Qy(t.value.arrayValue,e)}))}}]),n}(pm),_m=Nn((function e(t,n){Rn(this,e),this.position=t,this.before=n}));function Sm(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return Xy(e)})).join(","))}var Em=Nn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Rn(this,e),this.field=t,this.dir=n}));function Tm(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Im(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Wy.comparator(Wy.fromName(o.referenceValue),n.key):$y(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Cm(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Gy(e.position[n],t.position[n]))return!1;return!0}var Om=Nn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Rn(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.S=null,this.D=null,this.startAt,this.endAt}));function Am(e,t,n,r,i,a,o,s){return new Om(e,t,n,r,i,a,o,s)}function Rm(e){return new Om(e)}function Pm(e){return!qy(e.limit)&&"F"===e.limitType}function Nm(e){return!qy(e.limit)&&"L"===e.limitType}function Dm(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Lm(e){var t,n=Mn(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.V())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Mm(e){return null!==e.collectionGroup}function jm(e){var t=oy(e);if(null===t.S){t.S=[];var n=Lm(t),r=Dm(t);if(null!==n&&null===r)n.isKeyField()||t.S.push(new Em(n)),t.S.push(new Em(Py.keyField(),"asc"));else{var i,a=!1,o=Mn(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.S.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new Em(Py.keyField(),u))}}}return t.S}function Fm(e){var t=oy(e);if(!t.D)if("F"===t.limitType)t.D=lm(t.path,t.collectionGroup,jm(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Mn(jm(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Em(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new _m(t.endAt.position,!t.endAt.before):null,u=t.startAt?new _m(t.startAt.position,!t.startAt.before):null;t.D=lm(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.D}function Um(e,t,n){return new Om(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function zm(e,t){return hm(Fm(e),Fm(t))&&e.limitType===t.limitType}function Vm(e){return"".concat(fm(Fm(e)),"|lt:").concat(e.limitType)}function qm(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Xy(t.value));var t})).join(", "),"]")),qy(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+Sm(e.startAt)),e.endAt&&(t+=", endAt: "+Sm(e.endAt)),"Target(".concat(t,")")}(Fm(e)),"; limitType=").concat(e.limitType,")")}function Bm(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Wy.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Mn(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Mn(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!Im(e.startAt,jm(e),t))&&(!e.endAt||!Im(e.endAt,jm(e),t))}(e,t)}function Hm(e){return function(t,n){var r,i=!1,a=Mn(jm(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Wm(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Wm(e,t,n){var r=e.field.isKeyField()?Wy.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?$y(r,i):iy()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return iy()}}function Km(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:By(t)?"-0":t}}function Gm(e){return{integerValue:""+e}}function Qm(e,t){return Hy(t)?Gm(t):Km(e,t)}var $m=Nn((function e(){Rn(this,e),this._=void 0}));function Ym(e,t,n){return e instanceof Zm?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof eg?tg(e,t):e instanceof ng?rg(e,t):function(e,t){var n=Jm(e,t),r=ag(n)+ag(e.N);return em(n)&&em(e.N)?Gm(r):Km(e.k,r)}(e,t)}function Xm(e,t,n){return e instanceof eg?tg(e,t):e instanceof ng?rg(e,t):n}function Jm(e,t){return e instanceof ig?em(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Zm=function(e){Vn(n,e);var t=Kn(n);function n(){return Rn(this,n),t.apply(this,arguments)}return Nn(n)}($m),eg=function(e){Vn(n,e);var t=Kn(n);function n(e){var r;return Rn(this,n),(r=t.call(this)).elements=e,r}return Nn(n)}($m);function tg(e,t){var n,r=og(t),i=Mn(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Gy(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var ng=function(e){Vn(n,e);var t=Kn(n);function n(e){var r;return Rn(this,n),(r=t.call(this)).elements=e,r}return Nn(n)}($m);function rg(e,t){var n,r=og(t),i=Mn(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Gy(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var ig=function(e){Vn(n,e);var t=Kn(n);function n(e,r){var i;return Rn(this,n),(i=t.call(this)).k=e,i.N=r,i}return Nn(n)}($m);function ag(e){return jy(e.integerValue||e.doubleValue)}function og(e){return tm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var sg=Nn((function e(t,n){Rn(this,e),this.field=t,this.transform=n}));var ug=Nn((function e(t,n){Rn(this,e),this.version=t,this.transformResults=n})),cg=function(){function e(t,n){Rn(this,e),this.updateTime=t,this.exists=n}return Nn(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function lg(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var fg=Nn((function e(){Rn(this,e)}));function hg(e,t,n){e instanceof mg?function(e,t,n){var r=e.value.clone(),i=bg(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof gg?function(e,t,n){if(lg(e.precondition,t)){var r=bg(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(kg(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function dg(e,t,n){e instanceof mg?function(e,t,n){if(lg(e.precondition,t)){var r=e.value.clone(),i=wg(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(yg(t),r).setHasLocalMutations()}}(e,t,n):e instanceof gg?function(e,t,n){if(lg(e.precondition,t)){var r=wg(e.fieldTransforms,n,t),i=t.data;i.setAll(kg(e)),i.setAll(r),t.convertToFoundDocument(yg(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){lg(e.precondition,t)&&t.convertToNoDocument(Ey.min())}(e,t)}function pg(e,t){var n,r=null,i=Mn(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Jm(a.transform,o||null);null!=s&&(null==r&&(r=om.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function vg(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&xy(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof eg&&t instanceof eg||e instanceof ng&&t instanceof ng?xy(e.elements,t.elements,Gy):e instanceof ig&&t instanceof ig?Gy(e.N,t.N):e instanceof Zm&&t instanceof Zm}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function yg(e){return e.isFoundDocument()?e.version:Ey.min()}var mg=function(e){Vn(n,e);var t=Kn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Rn(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Nn(n)}(fg),gg=function(e){Vn(n,e);var t=Kn(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Rn(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return Nn(n)}(fg);function kg(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function bg(e,t,n){var r=new Map;ay(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Xm(o,s,n[i]))}return r}function wg(e,t,n){var r,i=new Map,a=Mn(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Ym(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var xg,_g,Sg=function(e){Vn(n,e);var t=Kn(n);function n(e,r){var i;return Rn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Nn(n)}(fg),Eg=function(e){Vn(n,e);var t=Kn(n);function n(e,r){var i;return Rn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Nn(n)}(fg),Tg=Nn((function e(t){Rn(this,e),this.count=t}));function Ig(e){switch(e){default:return iy();case sy.CANCELLED:case sy.UNKNOWN:case sy.DEADLINE_EXCEEDED:case sy.RESOURCE_EXHAUSTED:case sy.INTERNAL:case sy.UNAVAILABLE:case sy.UNAUTHENTICATED:return!1;case sy.INVALID_ARGUMENT:case sy.NOT_FOUND:case sy.ALREADY_EXISTS:case sy.PERMISSION_DENIED:case sy.FAILED_PRECONDITION:case sy.ABORTED:case sy.OUT_OF_RANGE:case sy.UNIMPLEMENTED:case sy.DATA_LOSS:return!0}}function Cg(e){if(void 0===e)return ty("GRPC error has no .code"),sy.UNKNOWN;switch(e){case xg.OK:return sy.OK;case xg.CANCELLED:return sy.CANCELLED;case xg.UNKNOWN:return sy.UNKNOWN;case xg.DEADLINE_EXCEEDED:return sy.DEADLINE_EXCEEDED;case xg.RESOURCE_EXHAUSTED:return sy.RESOURCE_EXHAUSTED;case xg.INTERNAL:return sy.INTERNAL;case xg.UNAVAILABLE:return sy.UNAVAILABLE;case xg.UNAUTHENTICATED:return sy.UNAUTHENTICATED;case xg.INVALID_ARGUMENT:return sy.INVALID_ARGUMENT;case xg.NOT_FOUND:return sy.NOT_FOUND;case xg.ALREADY_EXISTS:return sy.ALREADY_EXISTS;case xg.PERMISSION_DENIED:return sy.PERMISSION_DENIED;case xg.FAILED_PRECONDITION:return sy.FAILED_PRECONDITION;case xg.ABORTED:return sy.ABORTED;case xg.OUT_OF_RANGE:return sy.OUT_OF_RANGE;case xg.UNIMPLEMENTED:return sy.UNIMPLEMENTED;case xg.DATA_LOSS:return sy.DATA_LOSS;default:return iy()}}(_g=xg||(xg={}))[_g.OK=0]="OK",_g[_g.CANCELLED=1]="CANCELLED",_g[_g.UNKNOWN=2]="UNKNOWN",_g[_g.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_g[_g.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_g[_g.NOT_FOUND=5]="NOT_FOUND",_g[_g.ALREADY_EXISTS=6]="ALREADY_EXISTS",_g[_g.PERMISSION_DENIED=7]="PERMISSION_DENIED",_g[_g.UNAUTHENTICATED=16]="UNAUTHENTICATED",_g[_g.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_g[_g.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_g[_g.ABORTED=10]="ABORTED",_g[_g.OUT_OF_RANGE=11]="OUT_OF_RANGE",_g[_g.UNIMPLEMENTED=12]="UNIMPLEMENTED",_g[_g.INTERNAL=13]="INTERNAL",_g[_g.UNAVAILABLE=14]="UNAVAILABLE",_g[_g.DATA_LOSS=15]="DATA_LOSS";var Og=function(){function e(t,n){Rn(this,e),this.comparator=t,this.root=n||Rg.EMPTY}return Nn(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Rg.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Rg.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Ag(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Ag(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Ag(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Ag(this.root,e,this.comparator,!0)}}]),e}(),Ag=function(){function e(t,n,r,i){Rn(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Nn(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Rg=function(){function e(t,n,r,i,a){Rn(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Nn(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw iy();if(this.right.isRed())throw iy();var e=this.left.check();if(e!==this.right.check())throw iy();return e+(this.isRed()?0:1)}}]),e}();Rg.EMPTY=null,Rg.RED=!0,Rg.BLACK=!1,Rg.EMPTY=new(function(){function e(){Rn(this,e),this.size=0}return Nn(e,[{key:"key",get:function(){throw iy()}},{key:"value",get:function(){throw iy()}},{key:"color",get:function(){throw iy()}},{key:"left",get:function(){throw iy()}},{key:"right",get:function(){throw iy()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Rg(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Pg=function(){function e(t){Rn(this,e),this.comparator=t,this.data=new Og(this.comparator)}return Nn(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Ng(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Ng(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Ng=function(){function e(t){Rn(this,e),this.iter=t}return Nn(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),Dg=new Og(Wy.comparator);function Lg(){return Dg}var Mg=new Og(Wy.comparator);function jg(){return Mg}var Fg=new Og(Wy.comparator);function Ug(){return Fg}var zg=new Pg(Wy.comparator);function Vg(){for(var e=zg,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var qg=new Pg(wy);function Bg(){return qg}var Hg=function(){function e(t,n,r,i,a){Rn(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Nn(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Wg.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Ey.min(),r,Bg(),Lg(),Vg())}}]),e}(),Wg=function(){function e(t,n,r,i,a){Rn(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Nn(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Dy.EMPTY_BYTE_STRING,n,Vg(),Vg(),Vg())}}]),e}(),Kg=Nn((function e(t,n,r,i){Rn(this,e),this.$=t,this.removedTargetIds=n,this.key=r,this.O=i})),Gg=Nn((function e(t,n){Rn(this,e),this.targetId=t,this.F=n})),Qg=Nn((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dy.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Rn(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),$g=function(){function e(){Rn(this,e),this.M=0,this.L=Jg(),this.B=Dy.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}return Nn(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.B}},{key:"K",get:function(){return 0!==this.M}},{key:"j",get:function(){return this.q}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}},{key:"G",value:function(){var e=Vg(),t=Vg(),n=Vg();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:iy()}})),new Wg(this.B,this.U,e,t,n)}},{key:"H",value:function(){this.q=!1,this.L=Jg()}},{key:"J",value:function(e,t){this.q=!0,this.L=this.L.insert(e,t)}},{key:"Y",value:function(e){this.q=!0,this.L=this.L.remove(e)}},{key:"X",value:function(){this.M+=1}},{key:"Z",value:function(){this.M-=1}},{key:"tt",value:function(){this.q=!0,this.U=!0}}]),e}(),Yg=function(){function e(t){Rn(this,e),this.et=t,this.nt=new Map,this.st=Lg(),this.it=Xg(),this.rt=new Pg(wy)}return Nn(e,[{key:"ot",value:function(e){var t,n=Mn(e.$);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.O&&e.O.isFoundDocument()?this.at(r,e.O):this.ct(r,e.key,e.O)}}catch(s){n.e(s)}finally{n.f()}var i,a=Mn(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.O)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ut",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ht(n);switch(e.state){case 0:t.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||t.removeTarget(n);break;case 3:t.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:t.lt(n)&&(t.ft(n),r.W(e.resumeToken));break;default:iy()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((function(e,r){n.lt(r)&&t(r)}))}},{key:"dt",value:function(e){var t=e.targetId,n=e.F.count,r=this.wt(t);if(r){var i=r.target;if(dm(i))if(0===n){var a=new Wy(i.path);this.ct(t,a,um.newNoDocument(a,Ey.min()))}else ay(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}},{key:"gt",value:function(e){var t=this,n=new Map;this.nt.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&dm(a.target)){var o=new Wy(a.target.path);null!==t.st.get(o)||t.yt(i,o)||t.ct(i,o,um.newNoDocument(o,e))}r.j&&(n.set(i,r.G()),r.H())}}));var r=Vg();this.it.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Hg(e,n,this.rt,this.st,r);return this.st=Lg(),this.it=Xg(),this.rt=new Pg(wy),i}},{key:"at",value:function(e,t){if(this.lt(e)){var n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.lt(e)){var r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}}},{key:"removeTarget",value:function(e){this.nt.delete(e)}},{key:"_t",value:function(e){var t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"X",value:function(e){this.ht(e).X()}},{key:"ht",value:function(e){var t=this.nt.get(e);return t||(t=new $g,this.nt.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.it.get(e);return t||(t=new Pg(wy),this.it=this.it.insert(e,t)),t}},{key:"lt",value:function(e){var t=null!==this.wt(e);return t||ey("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}},{key:"ft",value:function(e){var t=this;this.nt.set(e,new $g),this.et.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"yt",value:function(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}]),e}();function Xg(){return new Og(Wy.comparator)}function Jg(){return new Og(Wy.comparator)}var Zg={asc:"ASCENDING",desc:"DESCENDING"},ek={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tk=Nn((function e(t,n){Rn(this,e),this.databaseId=t,this.C=n}));function nk(e,t){return e.C?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function rk(e,t){return e.C?t.toBase64():t.toUint8Array()}function ik(e,t){return nk(e,t.toTimestamp())}function ak(e){return ay(!!e),Ey.fromTimestamp(function(e){var t=My(e);return new Sy(t.seconds,t.nanos)}(e))}function ok(e,t){return function(e){return new Ay(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function sk(e){var t=Ay.fromString(e);return ay(Pk(t)),t}function uk(e,t){return ok(e.databaseId,t.path)}function ck(e,t){var n=sk(t);if(n.get(1)!==e.databaseId.projectId)throw new uy(sy.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new uy(sy.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Wy(dk(n))}function lk(e,t){return ok(e.databaseId,t)}function fk(e){var t=sk(e);return 4===t.length?Ay.emptyPath():dk(t)}function hk(e){return new Ay(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function dk(e){return ay(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function pk(e,t,n){return{name:uk(e,t),fields:n.value.mapValue.fields}}function vk(e,t,n){var r=ck(e,t.name),i=ak(t.updateTime),a=new om({mapValue:{fields:t.fields}}),o=um.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function yk(e,t){return"found"in t?function(e,t){ay(!!t.found),t.found.name,t.found.updateTime;var n=ck(e,t.found.name),r=ak(t.found.updateTime),i=new om({mapValue:{fields:t.found.fields}});return um.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){ay(!!t.missing),ay(!!t.readTime);var n=ck(e,t.missing),r=ak(t.readTime);return um.newNoDocument(n,r)}(e,t):iy()}function mk(e,t){var n;if(t instanceof mg)n={update:pk(e,t.key,t.value)};else if(t instanceof Sg)n={delete:uk(e,t.key)};else if(t instanceof gg)n={update:pk(e,t.key,t.data),updateMask:Rk(t.fieldMask)};else{if(!(t instanceof Eg))return iy();n={verify:uk(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Zm)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof eg)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ng)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ig)return{fieldPath:t.field.canonicalString(),increment:n.N};throw iy()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ik(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:iy()}(e,t.precondition)),n}function gk(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?cg.updateTime(ak(e.updateTime)):void 0!==e.exists?cg.exists(e.exists):cg.none()}(t.currentDocument):cg.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)ay("REQUEST_TIME"===t.setToServerValue),n=new Zm;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new eg(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new ng(i)}else"increment"in t?n=new ig(e,t.increment):iy();var a=Py.fromServerFormat(t.fieldPath);return new sg(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=ck(e,t.update.name),a=new om({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Ny(t.map((function(e){return Py.fromServerFormat(e)})))}(t.updateMask);return new gg(i,a,o,n,r)}return new mg(i,a,n,r)}if(t.delete){var s=ck(e,t.delete);return new Sg(s,n)}if(t.verify){var u=ck(e,t.verify);return new Eg(u,n)}return iy()}function kk(e,t){return{documents:[lk(e,t.path)]}}function bk(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=lk(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=lk(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(rm(e.value))return{unaryFilter:{field:Ik(e.field),op:"IS_NAN"}};if(nm(e.value))return{unaryFilter:{field:Ik(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(rm(e.value))return{unaryFilter:{field:Ik(e.field),op:"IS_NOT_NAN"}};if(nm(e.value))return{unaryFilter:{field:Ik(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ik(e.field),op:Tk(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Ik(e.field),direction:Ek(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=function(e,t){return e.C||qy(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=_k(t.startAt)),t.endAt&&(n.structuredQuery.endAt=_k(t.endAt)),n}function wk(e){var t=fk(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ay(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=xk(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Em(Ck(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return qy(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Sk(n.startAt));var l=null;return n.endAt&&(l=Sk(n.endAt)),Am(t,i,s,o,u,"F",c,l)}function xk(e){return e?void 0!==e.unaryFilter?[Ak(e)]:void 0!==e.fieldFilter?[Ok(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return xk(e)})).reduce((function(e,t){return e.concat(t)})):iy():[]}function _k(e){return{before:e.before,values:e.position}}function Sk(e){var t=!!e.before,n=e.values||[];return new _m(n,t)}function Ek(e){return Zg[e]}function Tk(e){return ek[e]}function Ik(e){return{fieldPath:e.canonicalString()}}function Ck(e){return Py.fromServerFormat(e.fieldPath)}function Ok(e){return pm.create(Ck(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return iy()}}(e.fieldFilter.op),e.fieldFilter.value)}function Ak(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ck(e.unaryFilter.field);return pm.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Ck(e.unaryFilter.field);return pm.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ck(e.unaryFilter.field);return pm.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ck(e.unaryFilter.field);return pm.create(i,"!=",{nullValue:"NULL_VALUE"});default:return iy()}}function Rk(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Pk(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Nk(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Lk(t)),t=Dk(e.get(n),t);return Lk(t)}function Dk(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Lk(e){return e+"\x01\x01"}function Mk(e){var t=e.length;if(ay(t>=2),2===t)return ay("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Ay.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&iy(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:iy()}a=o+2}return new Ay(r)}var jk=Nn((function e(t,n){Rn(this,e),this.seconds=t,this.nanoseconds=n})),Fk=Nn((function e(t,n,r){Rn(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));Fk.store="owner",Fk.key="owner";var Uk=Nn((function e(t,n,r){Rn(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));Uk.store="mutationQueues",Uk.keyPath="userId";var zk=Nn((function e(t,n,r,i,a){Rn(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));zk.store="mutations",zk.keyPath="batchId",zk.userMutationsIndex="userMutationsIndex",zk.userMutationsKeyPath=["userId","batchId"];var Vk=function(){function e(){Rn(this,e)}return Nn(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,Nk(t)]}},{key:"key",value:function(e,t,n){return[e,Nk(t),n]}}]),e}();Vk.store="documentMutations",Vk.PLACEHOLDER=new Vk;var qk=Nn((function e(t,n){Rn(this,e),this.path=t,this.readTime=n})),Bk=Nn((function e(t,n){Rn(this,e),this.path=t,this.version=n})),Hk=Nn((function e(t,n,r,i,a,o){Rn(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));Hk.store="remoteDocuments",Hk.readTimeIndex="readTimeIndex",Hk.readTimeIndexPath="readTime",Hk.collectionReadTimeIndex="collectionReadTimeIndex",Hk.collectionReadTimeIndexPath=["parentPath","readTime"];var Wk=Nn((function e(t){Rn(this,e),this.byteSize=t}));Wk.store="remoteDocumentGlobal",Wk.key="remoteDocumentGlobalKey";var Kk=Nn((function e(t,n,r,i,a,o,s){Rn(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=s}));Kk.store="targets",Kk.keyPath="targetId",Kk.queryTargetsIndexName="queryTargetsIndex",Kk.queryTargetsKeyPath=["canonicalId","targetId"];var Gk=Nn((function e(t,n,r){Rn(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));Gk.store="targetDocuments",Gk.keyPath=["targetId","path"],Gk.documentTargetsIndex="documentTargetsIndex",Gk.documentTargetsKeyPath=["path","targetId"];var Qk=Nn((function e(t,n,r,i){Rn(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));Qk.key="targetGlobalKey",Qk.store="targetGlobal";var $k=Nn((function e(t,n){Rn(this,e),this.collectionId=t,this.parent=n}));$k.store="collectionParents",$k.keyPath=["collectionId","parent"];var Yk=Nn((function e(t,n,r,i){Rn(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));Yk.store="clientMetadata",Yk.keyPath="clientId";var Xk=Nn((function e(t,n,r){Rn(this,e),this.bundleId=t,this.createTime=n,this.version=r}));Xk.store="bundles",Xk.keyPath="bundleId";var Jk=Nn((function e(t,n,r){Rn(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));Jk.store="namedQueries",Jk.keyPath="name";var Zk=[Uk.store,zk.store,Vk.store,Hk.store,Kk.store,Fk.store,Qk.store,Gk.store].concat([Yk.store]).concat([Wk.store]).concat([$k.store]).concat([Xk.store,Jk.store]),eb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",tb=function(){function e(){Rn(this,e),this.onCommittedListeners=[]}return Nn(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),nb=function(){function e(t){var n=this;Rn(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Nn(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&iy(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Mn(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),rb=function(){function e(t,n){var r=this;Rn(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.It=new cy,this.transaction.oncomplete=function(){r.It.resolve()},this.transaction.onabort=function(){n.error?r.It.reject(new ob(t,n.error)):r.It.resolve()},this.transaction.onerror=function(e){var n=fb(e.target.error);r.It.reject(new ob(t,n))}}return Nn(e,[{key:"At",get:function(){return this.It.promise}},{key:"abort",value:function(e){e&&this.It.reject(e),this.aborted||(ey("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new ub(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new ob(n,t)}}}]),e}(),ib=function(){function e(t,n,r){Rn(this,e),this.name=t,this.version=n,this.Rt=r,12.2===e.bt(rr())&&ty("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Nn(e,[{key:"Ct",value:function(){var e=fn(dn().mark((function e(t){var n=this;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return ey("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new ob(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new uy(sy.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new uy(sy.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new ob(t,n))},i.onupgradeneeded=function(e){ey("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Rt.Nt(t,i.transaction,e.oldVersion,n.version).next((function(){ey("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.kt&&(this.db.onversionchange=function(e){return n.kt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xt",value:function(e){this.kt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=fn(dn().mark((function e(t,n,r,i){var a,o,s,u,c=this;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(dn().mark((function e(){var n,o;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Ct(t);case 2:return c.db=e.sent,n=rb.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).catch((function(e){return n.abort(e),nb.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.At;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u="FirebaseError"!==e.t1.name&&o<3,ey("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",u),this.close(),u){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return ey("SimpleDb","Removing database:",e),cb(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"Pt",value:function(){if(!cr())return!1;if(e.vt())return!0;var t=rr(),n=e.bt(t),r=0<n&&n<10,i=e.Vt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"vt",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/relativepath",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.St)}},{key:"Dt",value:function(e,t){return e.store(t)}},{key:"bt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Vt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),ab=function(){function e(t){Rn(this,e),this.$t=t,this.Ot=!1,this.Ft=null}return Nn(e,[{key:"isDone",get:function(){return this.Ot}},{key:"Mt",get:function(){return this.Ft}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ot=!0}},{key:"Lt",value:function(e){this.Ft=e}},{key:"delete",value:function(){return cb(this.$t.delete())}}]),e}(),ob=function(e){Vn(n,e);var t=Kn(n);function n(e,r){var i;return Rn(this,n),(i=t.call(this,sy.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Nn(n)}(uy);function sb(e){return"IndexedDbTransactionError"===e.name}var ub=function(){function e(t){Rn(this,e),this.store=t}return Nn(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(ey("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(ey("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),cb(n)}},{key:"add",value:function(e){return ey("SimpleDb","ADD",this.store.name,e,e),cb(this.store.add(e))}},{key:"get",value:function(e){var t=this;return cb(this.store.get(e)).next((function(n){return void 0===n&&(n=null),ey("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return ey("SimpleDb","DELETE",this.store.name,e),cb(this.store.delete(e))}},{key:"count",value:function(){return ey("SimpleDb","COUNT",this.store.name),cb(this.store.count())}},{key:"Bt",value:function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,(function(e,t){r.push(t)})).next((function(){return r}))}},{key:"qt",value:function(e,t){ey("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Kt=!1;var r=this.cursor(n);return this.Ut(r,(function(e,t,n){return n.delete()}))}},{key:"jt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Ut(r,t)}},{key:"Qt",value:function(e){var t=this.cursor({});return new nb((function(n,r){t.onerror=function(e){var t=fb(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Ut",value:function(e,t){var n=[];return new nb((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new ab(i),o=t(i.primaryKey,i.value,a);if(o instanceof nb){var s=o.catch((function(e){return a.done(),nb.reject(e)}));n.push(s)}a.isDone?r():null===a.Mt?i.continue():i.continue(a.Mt)}else r()}})).next((function(){return nb.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function cb(e){return new nb((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=fb(e.target.error);n(t)}}))}var lb=!1;function fb(e){var t=ib.bt(rr());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new uy("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return lb||(lb=!0,setTimeout((function(){throw r}),0)),r}}return e}var hb=function(e){Vn(n,e);var t=Kn(n);function n(e,r){var i;return Rn(this,n),(i=t.call(this)).Wt=e,i.currentSequenceNumber=r,i}return Nn(n)}(tb);function db(e,t){var n=oy(e);return ib.Dt(n.Wt,t)}var pb=function(){function e(t,n,r,i){Rn(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Nn(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&hg(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=Mn(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&dg(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=Mn(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&dg(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Ey.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Vg())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&xy(this.mutations,e.mutations,(function(e,t){return vg(e,t)}))&&xy(this.baseMutations,e.baseMutations,(function(e,t){return vg(e,t)}))}}]),e}(),vb=function(){function e(t,n,r,i){Rn(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Nn(e,null,[{key:"from",value:function(t,n,r){ay(t.mutations.length===r.length);for(var i=Ug(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),yb=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ey.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ey.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Dy.EMPTY_BYTE_STRING;Rn(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return Nn(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),mb=Nn((function e(t){Rn(this,e),this.Gt=t}));function gb(e,t){if(t.document)return vk(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Wy.fromSegments(t.noDocument.path),r=_b(t.noDocument.readTime),i=um.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var a=Wy.fromSegments(t.unknownDocument.path),o=_b(t.unknownDocument.version);return um.newUnknownDocument(a,o)}return iy()}function kb(e,t,n){var r=bb(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var a=function(e,t){return{name:uk(e,t.key),fields:t.data.value.mapValue.fields,updateTime:nk(e,t.version.toTimestamp())}}(e.Gt,t),o=t.hasCommittedMutations;return new Hk(null,null,a,o,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=xb(t.version),c=t.hasCommittedMutations;return new Hk(null,new qk(s,u),null,c,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),f=xb(t.version);return new Hk(new Bk(l,f),null,null,!0,r,i)}return iy()}function bb(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function wb(e){var t=new Sy(e[0],e[1]);return Ey.fromTimestamp(t)}function xb(e){var t=e.toTimestamp();return new jk(t.seconds,t.nanoseconds)}function _b(e){var t=new Sy(e.seconds,e.nanoseconds);return Ey.fromTimestamp(t)}function Sb(e,t){for(var n=(t.baseMutations||[]).map((function(t){return gk(e.Gt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return gk(e.Gt,t)})),s=Sy.fromMillis(t.localWriteTimeMs);return new pb(t.batchId,s,n,o)}function Eb(e){var t,n,r=_b(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?_b(e.lastLimboFreeSnapshotVersion):Ey.min();return void 0!==e.query.documents?(ay(1===(n=e.query).documents.length),t=Fm(Rm(fk(n.documents[0])))):t=function(e){return Fm(wk(e))}(e.query),new yb(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Dy.fromBase64String(e.resumeToken))}function Tb(e,t){var n,r=xb(t.snapshotVersion),i=xb(t.lastLimboFreeSnapshotVersion);n=dm(t.target)?kk(e.Gt,t.target):bk(e.Gt,t.target);var a=t.resumeToken.toBase64();return new Kk(t.targetId,fm(t.target),r,a,t.sequenceNumber,i,n)}function Ib(e){var t=wk({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Um(t,t.limit,"L"):t}var Cb=function(){function e(){Rn(this,e)}return Nn(e,[{key:"getBundleMetadata",value:function(e,t){return Ob(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:_b(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Ob(e).put({bundleId:(n=t).id,createTime:xb(ak(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Ab(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Ib(t.bundledQuery),readTime:_b(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Ab(e).put(function(e){return{name:e.name,readTime:xb(ak(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Ob(e){return db(e,Xk.store)}function Ab(e){return db(e,Jk.store)}var Rb=function(){function e(){Rn(this,e),this.zt=new Pb}return Nn(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.zt.add(t),nb.resolve()}},{key:"getCollectionParents",value:function(e,t){return nb.resolve(this.zt.getEntries(t))}}]),e}(),Pb=function(){function e(){Rn(this,e),this.index={}}return Nn(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Pg(Ay.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Pg(Ay.comparator)).toArray()}}]),e}(),Nb=function(){function e(){Rn(this,e),this.Ht=new Pb}return Nn(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ht.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ht.add(t)}));var a={collectionId:r,parent:Nk(i)};return Db(e).put(a)}return nb.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[_y(t),""],!1,!0);return Db(e).Bt(r).next((function(e){var r,i=Mn(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Mk(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}}]),e}();function Db(e){return db(e,$k.store)}var Lb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Mb=function(){function e(t,n,r){Rn(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Nn(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function jb(e,t,n){var r=e.store(zk.store),i=e.store(Vk.store),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.jt({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){ay(1===s)})));var c,l=[],f=Mn(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Vk.key(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return nb.waitFor(a).next((function(){return l}))}function Fb(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw iy();t=e.noDocument}return JSON.stringify(t).length}Mb.DEFAULT_COLLECTION_PERCENTILE=10,Mb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mb.DEFAULT=new Mb(41943040,Mb.DEFAULT_COLLECTION_PERCENTILE,Mb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mb.DISABLED=new Mb(-1,0,0);var Ub=function(){function e(t,n,r,i){Rn(this,e),this.userId=t,this.k=n,this.Jt=r,this.referenceDelegate=i,this.Yt={}}return Nn(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vb(e).jt({index:zk.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=qb(e),o=Vb(e);return o.add({}).next((function(s){ay("number"==typeof s);var u,c=new pb(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return mk(e.Gt,t)})),i=n.mutations.map((function(t){return mk(e.Gt,t)}));return new zk(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.k,i.userId,c),f=[],h=new Pg((function(e,t){return wy(e.canonicalString(),t.canonicalString())})),d=Mn(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=Vk.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Vk.PLACEHOLDER))}}catch(y){d.e(y)}finally{d.f()}return h.forEach((function(t){f.push(i.Jt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Yt[s]=c.keys()})),nb.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Vb(e).get(t).next((function(e){return e?(ay(e.userId===n.userId),Sb(n.k,e)):null}))}},{key:"Zt",value:function(e,t){var n=this;return this.Yt[t]?nb.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Yt[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Vb(e).jt({index:zk.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(ay(t.batchId>=r),a=Sb(n.k,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Vb(e).jt({index:zk.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vb(e).Bt(zk.userMutationsIndex,n).next((function(e){return e.map((function(e){return Sb(t.k,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Vk.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return qb(e).jt({range:i},(function(r,i,o){var s=Un(r,3),u=s[0],c=s[1],l=s[2],f=Mk(c);if(u===n.userId&&t.path.isEqual(f))return Vb(e).get(l).next((function(e){if(!e)throw iy();ay(e.userId===n.userId),a.push(Sb(n.k,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Pg(wy),i=[];return t.forEach((function(t){var a=Vk.prefixForPath(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=qb(e).jt({range:o},(function(e,i,a){var o=Un(e,3),s=o[0],u=o[1],c=o[2],l=Mk(u);s===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(s)})),nb.waitFor(i).next((function(){return n.te(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Vk.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new Pg(wy);return qb(e).jt({range:o},(function(e,t,a){var o=Un(e,3),u=o[0],c=o[1],l=o[2],f=Mk(c);u===n.userId&&r.isPrefixOf(f)?f.length===i&&(s=s.add(l)):a.done()})).next((function(){return n.te(e,s)}))}},{key:"te",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Vb(e).get(t).next((function(e){if(null===e)throw iy();ay(e.userId===n.userId),r.push(Sb(n.k,e))})))})),nb.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return jb(e.Wt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.ee(t.batchId)})),nb.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"ee",value:function(e){delete this.Yt[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return nb.resolve();var r=IDBKeyRange.lowerBound(Vk.prefixForUser(t.userId)),i=[];return qb(e).jt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Mk(e[1]);i.push(a)}else r.done()})).next((function(){ay(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return zb(e,this.userId,t)}},{key:"ne",value:function(e){var t=this;return Bb(e).get(this.userId).next((function(e){return e||new Uk(t.userId,-1,"")}))}}],[{key:"Xt",value:function(t,n,r,i){return ay(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function zb(e,t,n){var r=Vk.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return qb(e).jt({range:a,Kt:!0},(function(e,n,r){var a=Un(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function Vb(e){return db(e,zk.store)}function qb(e){return db(e,Vk.store)}function Bb(e){return db(e,Uk.store)}var Hb=function(){function e(t){Rn(this,e),this.se=t}return Nn(e,[{key:"next",value:function(){return this.se+=2,this.se}}],[{key:"ie",value:function(){return new e(0)}},{key:"re",value:function(){return new e(-1)}}]),e}(),Wb=function(){function e(t,n){Rn(this,e),this.referenceDelegate=t,this.k=n}return Nn(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.oe(e).next((function(n){var r=new Hb(n.highestTargetId);return n.highestTargetId=r.next(),t.ae(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.oe(e).next((function(e){return Ey.fromTimestamp(new Sy(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.oe(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.oe(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.ae(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.ce(e,t).next((function(){return n.oe(e).next((function(r){return r.targetCount+=1,n.ue(t,r),n.ae(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.ce(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Kb(e).delete(t.targetId)})).next((function(){return n.oe(e)})).next((function(t){return ay(t.targetCount>0),t.targetCount-=1,n.ae(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Kb(e).jt((function(o,s){var u=Eb(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return nb.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Kb(e).jt((function(e,n){var r=Eb(n);t(r)}))}},{key:"oe",value:function(e){return Gb(e).get(Qk.key).next((function(e){return ay(null!==e),e}))}},{key:"ae",value:function(e,t){return Gb(e).put(Qk.key,t)}},{key:"ce",value:function(e,t){return Kb(e).put(Tb(this.k,t))}},{key:"ue",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.oe(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=fm(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Kb(e).jt({range:r,index:Kk.queryTargetsIndexName},(function(e,n,r){var a=Eb(n);hm(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Qb(e);return t.forEach((function(t){var o=Nk(t.path);i.push(a.put(new Gk(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),nb.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Qb(e);return nb.forEach(t,(function(t){var a=Nk(t.path);return nb.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Qb(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Qb(e),i=Vg();return r.jt({range:n,Kt:!0},(function(e,t,n){var r=Mk(e[1]),a=new Wy(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Nk(t.path),r=IDBKeyRange.bound([n],[_y(n)],!1,!0),i=0;return Qb(e).jt({index:Gk.documentTargetsIndex,Kt:!0,range:r},(function(e,t,n){var r=Un(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return Kb(e).get(t).next((function(e){return e?Eb(e):null}))}}]),e}();function Kb(e){return db(e,Kk.store)}function Gb(e){return db(e,Qk.store)}function Qb(e){return db(e,Gk.store)}function $b(e){return Yb.apply(this,arguments)}function Yb(){return Yb=fn(dn().mark((function e(t){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===sy.FAILED_PRECONDITION&&t.message===eb){e.next=2;break}throw t;case 2:ey("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Yb.apply(this,arguments)}function Xb(e,t){var n=Un(e,2),r=n[0],i=n[1],a=Un(t,2),o=a[0],s=a[1],u=wy(r,o);return 0===u?wy(i,s):u}var Jb=function(){function e(t){Rn(this,e),this.he=t,this.buffer=new Pg(Xb),this.le=0}return Nn(e,[{key:"fe",value:function(){return++this.le}},{key:"de",value:function(e){var t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Xb(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Zb=function(){function e(t,n){Rn(this,e),this.garbageCollector=t,this.asyncQueue=n,this.we=!1,this._e=null}return Nn(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}},{key:"stop",value:function(){this._e&&(this._e.cancel(),this._e=null)}},{key:"started",get:function(){return null!==this._e}},{key:"me",value:function(e){var t=this,n=this.we?3e5:6e4;ey("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,fn(dn().mark((function n(){return dn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t._e=null,t.we=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!sb(n.t0)){n.next=12;break}ey("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,$b(n.t0);case 14:return n.next=16,t.me(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),ew=function(){function e(t,n){Rn(this,e),this.ge=t,this.params=n}return Nn(e,[{key:"calculateTargetCount",value:function(e,t){return this.ge.ye(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return nb.resolve(gy.I);var r=new Jb(t);return this.ge.forEachTarget(e,(function(e){return r.de(e.sequenceNumber)})).next((function(){return n.ge.pe(e,(function(e){return r.de(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.ge.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.ge.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(ey("LruGarbageCollector","Garbage collection skipped; disabled"),nb.resolve(Lb)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(ey("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Lb):n.Te(e,t)}))}},{key:"getCacheSize",value:function(e){return this.ge.getCacheSize(e)}},{key:"Te",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(ey("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Zv()<=Ar.DEBUG&&ey("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),nb.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),tw=function(){function e(t,n){Rn(this,e),this.db=t,this.garbageCollector=function(e,t){return new ew(e,t)}(this,n)}return Nn(e,[{key:"ye",value:function(e){var t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Ee",value:function(e){var t=0;return this.pe(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"pe",value:function(e,t){return this.Ie(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return nw(e,n)}},{key:"removeReference",value:function(e,t,n){return nw(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return nw(e,t)}},{key:"Ae",value:function(e,t){return function(e,t){var n=!1;return Bb(e).Qt((function(r){return zb(e,r,t).next((function(e){return e&&(n=!0),nb.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ie(e,(function(o,s){if(s<=t){var u=n.Ae(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o),Qb(e).delete([0,Nk(o.path)])}))}));i.push(u)}})).next((function(){return nb.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return nw(e,t)}},{key:"Ie",value:function(e,t){var n,r=Qb(e),i=gy.I;return r.jt({index:Gk.documentTargetsIndex},(function(e,r){var a=Un(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==gy.I&&t(new Wy(Mk(n)),i),i=u,n=s):i=gy.I})).next((function(){i!==gy.I&&t(new Wy(Mk(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function nw(e,t){return Qb(e).put(function(e,t){return new Gk(0,Nk(e.path),t)}(t,e.currentSequenceNumber))}var rw=function(){function e(t,n){Rn(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return Nn(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Mn(n);try{for(i.s();!(r=i.n()).done;){var a=Un(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){Iy(this.inner,(function(t,n){var r,i=Mn(n);try{for(i.s();!(r=i.n()).done;){var a=Un(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Cy(this.inner)}}]),e}(),iw=function(){function e(){Rn(this,e),this.changes=new rw((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Nn(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:Ey.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:um.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?nb.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),aw=function(){function e(t,n){Rn(this,e),this.k=t,this.Jt=n}return Nn(e,[{key:"addEntry",value:function(e,t,n){return uw(e).put(cw(t),n)}},{key:"removeEntry",value:function(e,t){var n=uw(e),r=cw(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Re(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return uw(e).get(cw(t)).next((function(e){return n.be(t,e)}))}},{key:"Pe",value:function(e,t){var n=this;return uw(e).get(cw(t)).next((function(e){return{document:n.be(t,e),size:Fb(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=Lg();return this.ve(e,t,(function(e,t){var i=n.be(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ve",value:function(e,t){var n=this,r=Lg(),i=new Og(Wy.comparator);return this.ve(e,t,(function(e,t){var a=n.be(e,t);r=r.insert(e,a),i=i.insert(e,Fb(t))})).next((function(){return{documents:r,Se:i}}))}},{key:"ve",value:function(e,t,n){if(t.isEmpty())return nb.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return uw(e).jt({range:r},(function(e,t,r){for(var o=Wy.fromSegments(e);a&&Wy.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Lt(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){var r=this,i=Lg(),a=t.path.length+1,o={};if(n.isEqual(Ey.min())){var s=t.path.toArray();o.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=bb(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=Hk.collectionReadTimeIndex}return uw(e).jt(o,(function(e,n,o){if(e.length===a){var s=gb(r.k,n);t.path.isPrefixOf(s.key.path)?Bm(t,s)&&(i=i.insert(s.key,s)):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new ow(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return sw(e).get(Wk.key).next((function(e){return ay(!!e),e}))}},{key:"Re",value:function(e,t){return sw(e).put(Wk.key,t)}},{key:"be",value:function(e,t){if(t){var n=gb(this.k,t);if(!n.isNoDocument()||!n.version.isEqual(Ey.min()))return n}return um.newInvalidDocument(e)}}]),e}(),ow=function(e){Vn(n,e);var t=Kn(n);function n(e,r){var i;return Rn(this,n),(i=t.call(this)).De=e,i.trackRemovals=r,i.Ce=new rw((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Nn(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Pg((function(e,t){return wy(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Ce.get(a);if(o.document.isValidDocument()){var u=kb(t.De.k,o.document,t.getReadTime(a));i=i.add(a.path.popLast());var c=Fb(u);r+=c-s,n.push(t.De.addEntry(e,a,u))}else if(r-=s,t.trackRemovals){var l=kb(t.De.k,um.newNoDocument(a,Ey.min()),t.getReadTime(a));n.push(t.De.addEntry(e,a,l))}else n.push(t.De.removeEntry(e,a))})),i.forEach((function(r){n.push(t.De.Jt.addToCollectionParentIndex(e,r))})),n.push(this.De.updateMetadata(e,r)),nb.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.De.Pe(e,t).next((function(e){return n.Ce.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.De.Ve(e,t).next((function(e){var t=e.documents;return e.Se.forEach((function(e,t){n.Ce.set(e,t)})),t}))}}]),n}(iw);function sw(e){return db(e,Wk.store)}function uw(e){return db(e,Hk.store)}function cw(e){return e.path.toArray()}var lw=function(){function e(t){Rn(this,e),this.k=t}return Nn(e,[{key:"Nt",value:function(e,t,n,r){var i=this;ay(n<r&&n>=0&&r<=11);var a=new rb("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Fk.store)}(e),function(e){e.createObjectStore(Uk.store,{keyPath:Uk.keyPath}),e.createObjectStore(zk.store,{keyPath:zk.keyPath,autoIncrement:!0}).createIndex(zk.userMutationsIndex,zk.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Vk.store)}(e),fw(e),function(e){e.createObjectStore(Hk.store)}(e));var o=nb.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Gk.store),e.deleteObjectStore(Kk.store),e.deleteObjectStore(Qk.store)}(e),fw(e)),o=o.next((function(){return function(e){var t=e.store(Qk.store),n=new Qk(0,0,Ey.min().toTimestamp(),0);return t.put(Qk.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(zk.store).Bt().next((function(n){e.deleteObjectStore(zk.store),e.createObjectStore(zk.store,{keyPath:zk.keyPath,autoIncrement:!0}).createIndex(zk.userMutationsIndex,zk.userMutationsKeyPath,{unique:!0});var r=t.store(zk.store),i=n.map((function(e){return r.put(e)}));return nb.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore(Yk.store,{keyPath:Yk.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ne(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(Wk.store)}(e),i.ke(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.xe(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.$e(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Hk.store);t.createIndex(Hk.readTimeIndex,Hk.readTimeIndexPath,{unique:!1}),t.createIndex(Hk.collectionReadTimeIndex,Hk.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Oe(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(Xk.store,{keyPath:Xk.keyPath})}(e),function(e){e.createObjectStore(Jk.store,{keyPath:Jk.keyPath})}(e)}))),o}},{key:"ke",value:function(e){var t=0;return e.store(Hk.store).jt((function(e,n){t+=Fb(n)})).next((function(){var n=new Wk(t);return e.store(Wk.store).put(Wk.key,n)}))}},{key:"Ne",value:function(e){var t=this,n=e.store(Uk.store),r=e.store(zk.store);return n.Bt().next((function(n){return nb.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Bt(zk.userMutationsIndex,i).next((function(r){return nb.forEach(r,(function(r){ay(r.userId===n.userId);var i=Sb(t.k,r);return jb(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"xe",value:function(e){var t=e.store(Gk.store),n=e.store(Hk.store);return e.store(Qk.store).get(Qk.key).next((function(e){var r=[];return n.jt((function(n,i){var a=new Ay(n),o=function(e){return[0,Nk(e)]}(a);r.push(t.get(o).next((function(n){return n?nb.resolve():function(n){return t.put(new Gk(0,Nk(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return nb.waitFor(r)}))}))}},{key:"$e",value:function(e,t){e.createObjectStore($k.store,{keyPath:$k.keyPath});var n=t.store($k.store),r=new Pb,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Nk(i)})}};return t.store(Hk.store).jt({Kt:!0},(function(e,t){var n=new Ay(e);return i(n.popLast())})).next((function(){return t.store(Vk.store).jt({Kt:!0},(function(e,t){var n=Un(e,3),r=(n[0],n[1]),a=(n[2],Mk(r));return i(a.popLast())}))}))}},{key:"Oe",value:function(e){var t=this,n=e.store(Kk.store);return n.jt((function(e,r){var i=Eb(r),a=Tb(t.k,i);return n.put(a)}))}}]),e}();function fw(e){e.createObjectStore(Gk.store,{keyPath:Gk.keyPath}).createIndex(Gk.documentTargetsIndex,Gk.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Kk.store,{keyPath:Kk.keyPath}).createIndex(Kk.queryTargetsIndexName,Kk.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Qk.store)}var hw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",dw=function(){function e(t,n,r,i,a,o,s,u,c,l){if(Rn(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Fe=a,this.window=o,this.document=s,this.Me=c,this.Le=l,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=function(e){return Promise.resolve()},!e.Pt())throw new uy(sy.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new tw(this,i),this.Ge=n+"main",this.k=new mb(u),this.ze=new ib(this.Ge,11,new lw(this.k)),this.He=new Wb(this.referenceDelegate,this.k),this.Jt=new Nb,this.Je=function(e,t){return new aw(e,t)}(this.k,this.Jt),this.Ye=new Cb,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===l&&ty("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Nn(e,[{key:"start",value:function(){var e=this;return this.Ze().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new uy(sy.FAILED_PRECONDITION,hw);return e.tn(),e.en(),e.nn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.He.getHighestSequenceNumber(t)}))})).then((function(t){e.Be=new gy(t,e.Me)})).then((function(){e.Ue=!0})).catch((function(t){return e.ze&&e.ze.close(),Promise.reject(t)}))}},{key:"sn",value:function(e){var t=this;return this.We=function(){var n=fn(dn().mark((function n(r){return dn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ze.xt(function(){var t=fn(dn().mark((function t(n){return dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Fe.enqueueAndForget(fn(dn().mark((function e(){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ze();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ze",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return vw(t).put(new Yk(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.rn(t).next((function(t){t||(e.isPrimary=!1,e.Fe.enqueueRetryable((function(){return e.We(!1)})))}))})).next((function(){return e.on(t)})).next((function(n){return e.isPrimary&&!n?e.an(t).next((function(){return!1})):!!n&&e.cn(t).next((function(){return!0}))}))})).catch((function(t){if(sb(t))return ey("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return ey("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Fe.enqueueRetryable((function(){return e.We(t)})),e.isPrimary=t}))}},{key:"rn",value:function(e){var t=this;return pw(e).get(Fk.key).next((function(e){return nb.resolve(t.un(e))}))}},{key:"hn",value:function(e){return vw(e).delete(this.clientId)}},{key:"ln",value:function(){var e=fn(dn().mark((function e(){var t,n,r,i,a=this;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.fn(this.Qe,18e5)){e.next=6;break}return this.Qe=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=db(e,Yk.store);return t.Bt().next((function(e){var n=a.dn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return nb.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Xe){n=Mn(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Xe.removeItem(this.wn(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nn",value:function(){var e=this;this.je=this.Fe.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ze().then((function(){return e.ln()})).then((function(){return e.nn()}))}))}},{key:"un",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"on",value:function(e){var t=this;return this.Le?nb.resolve(!0):pw(e).get(Fk.key).next((function(n){if(null!==n&&t.fn(n.leaseTimestampMs,5e3)&&!t._n(n.ownerId)){if(t.un(n)&&t.networkEnabled)return!0;if(!t.un(n)){if(!n.allowTabSynchronization)throw new uy(sy.FAILED_PRECONDITION,hw);return!1}}return!(!t.networkEnabled||!t.inForeground)||vw(e).Bt().next((function(e){return void 0===t.dn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&ey("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=fn(dn().mark((function e(){var t=this;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),e.next=7,this.ze.runTransaction("shutdown","readwrite",[Fk.store,Yk.store],(function(e){var n=new hb(e,gy.I);return t.an(n).next((function(){return t.hn(n)}))}));case 7:this.ze.close(),this.pn();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dn",value:function(e,t){var n=this;return e.filter((function(e){return n.fn(e.updateTimeMs,t)&&!n._n(e.clientId)}))}},{key:"Tn",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return vw(t).Bt().next((function(t){return e.dn(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ue}},{key:"getMutationQueue",value:function(e){return Ub.Xt(e,this.k,this.Jt,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;ey("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite";return this.ze.runTransaction(e,a,Zk,(function(a){return i=new hb(a,r.Be?r.Be.next():gy.I),"readwrite-primary"===t?r.rn(i).next((function(e){return!!e||r.on(i)})).next((function(t){if(!t)throw ty("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Fe.enqueueRetryable((function(){return r.We(!1)})),new uy(sy.FAILED_PRECONDITION,eb);return n(i)})).next((function(e){return r.cn(i).next((function(){return e}))})):r.En(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"En",value:function(e){var t=this;return pw(e).get(Fk.key).next((function(e){if(null!==e&&t.fn(e.leaseTimestampMs,5e3)&&!t._n(e.ownerId)&&!t.un(e)&&!(t.Le||t.allowTabSynchronization&&e.allowTabSynchronization))throw new uy(sy.FAILED_PRECONDITION,hw)}))}},{key:"cn",value:function(e){var t=new Fk(this.clientId,this.allowTabSynchronization,Date.now());return pw(e).put(Fk.key,t)}},{key:"an",value:function(e){var t=this,n=pw(e);return n.get(Fk.key).next((function(e){return t.un(e)?(ey("IndexedDbPersistence","Releasing primary lease."),n.delete(Fk.key)):nb.resolve()}))}},{key:"fn",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(ty("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"tn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=function(){e.Fe.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ze()}))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}},{key:"gn",value:function(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}},{key:"en",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=function(){t.mn(),!ar()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Fe.enterRestrictedMode(!0),t.Fe.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.qe))}},{key:"yn",value:function(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}},{key:"_n",value:function(e){var t;try{var n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return ey("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return ty("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"mn",value:function(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(Xf){ty("Failed to set zombie client id.",Xf)}}},{key:"pn",value:function(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(Xf){}}},{key:"wn",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"Pt",value:function(){return ib.Pt()}}]),e}();function pw(e){return db(e,Fk.store)}function vw(e){return db(e,Yk.store)}function yw(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var mw=Nn((function e(t,n){Rn(this,e),this.progress=t,this.In=n})),gw=function(){function e(t,n,r){Rn(this,e),this.Je=t,this.An=n,this.Jt=r}return Nn(e,[{key:"Rn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.bn(e,t,r)}))}},{key:"bn",value:function(e,t,n){return this.Je.getEntry(e,t).next((function(e){var t,r=Mn(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Pn",value:function(e,t){e.forEach((function(e,n){var r,i=Mn(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"vn",value:function(e,t){var n=this;return this.Je.getEntries(e,t).next((function(t){return n.Vn(e,t).next((function(){return t}))}))}},{key:"Vn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Pn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Wy.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):Mm(t)?this.Dn(e,t,n):this.Cn(e,t,n)}},{key:"Sn",value:function(e,t){return this.Rn(e,new Wy(t)).next((function(e){var t=jg();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Dn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=jg();return this.Jt.getCollectionParents(e,i).next((function(o){return nb.forEach(o,(function(o){var s=function(e,t){return new Om(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Cn(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Cn",value:function(e,t,n){var r,i,a=this;return this.Je.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,a.An.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,a.Nn(e,i,r).next((function(e){r=e;var t,n=Mn(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,s=Mn(o.mutations);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=u.key,l=r.get(c);null==l&&(l=um.newInvalidDocument(c),r=r.insert(c,l)),dg(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}catch(f){s.e(f)}finally{s.f()}}}catch(f){n.e(f)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){Bm(t,n)||(r=r.remove(e))})),r}))}},{key:"Nn",value:function(e,t,n){var r,i=Vg(),a=Mn(t);try{for(a.s();!(r=a.n()).done;){var o,s=Mn(r.value.mutations);try{for(s.s();!(o=s.n()).done;){var u=o.value;u instanceof gg&&null===n.get(u.key)&&(i=i.add(u.key))}}catch(l){s.e(l)}finally{s.f()}}}catch(l){a.e(l)}finally{a.f()}var c=n;return this.Je.getEntries(e,i).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))}}]),e}(),kw=function(){function e(t,n,r,i){Rn(this,e),this.targetId=t,this.fromCache=n,this.kn=r,this.xn=i}return Nn(e,null,[{key:"$n",value:function(t,n){var r,i=Vg(),a=Vg(),o=Mn(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),bw=function(){function e(){Rn(this,e)}return Nn(e,[{key:"On",value:function(e){this.Fn=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Ey.min())?this.Mn(e,t):this.Fn.vn(e,r).next((function(a){var o=i.Ln(t,a);return(Pm(t)||Nm(t))&&i.Bn(t.limitType,o,r,n)?i.Mn(e,t):(Zv()<=Ar.DEBUG&&ey("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),qm(t)),i.Fn.getDocumentsMatchingQuery(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Ln",value:function(e,t){var n=new Pg(Hm(e));return t.forEach((function(t,r){Bm(e,r)&&(n=n.add(r))})),n}},{key:"Bn",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mn",value:function(e,t){return Zv()<=Ar.DEBUG&&ey("QueryEngine","Using full collection scan to execute query:",qm(t)),this.Fn.getDocumentsMatchingQuery(e,t,Ey.min())}}]),e}(),ww=function(){function e(t,n,r,i){Rn(this,e),this.persistence=t,this.Un=n,this.k=i,this.qn=new Og(wy),this.Kn=new rw((function(e){return fm(e)}),hm),this.jn=Ey.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new gw(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.On(this.Wn)}return Nn(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qn)}))}}]),e}();function xw(e,t,n,r){return new ww(e,t,n,r)}function _w(e,t){return Sw.apply(this,arguments)}function Sw(){return Sw=fn(dn().mark((function e(t,n){var r,i,a,o;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=oy(t),i=r.An,a=r.Wn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.An.getAllMutationBatches(e).next((function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new gw(r.Qn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(n){var r,i=[],o=[],s=Vg(),u=Mn(t);try{for(u.s();!(r=u.n()).done;){var c=r.value;i.push(c.batchId);var l,f=Mn(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=Mn(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=Mn(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;s=s.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return a.vn(e,s).next((function(e){return{Gn:e,removedBatchIds:i,addedBatchIds:o}}))}))}));case 4:return o=e.sent,e.abrupt("return",(r.An=i,r.Wn=a,r.Un.On(r.Wn),o));case 6:case"end":return e.stop()}}),e)}))),Sw.apply(this,arguments)}function Ew(e,t){var n=oy(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=nb.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);ay(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((function(){return e.An.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}function Tw(e){var t=oy(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.He.getLastRemoteSnapshotVersion(e)}))}function Iw(e,t){var n=oy(e),r=t.snapshotVersion,i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.He.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.He.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(Dy.EMPTY_BYTE_STRING,Ey.min()).withLastLimboFreeSnapshotVersion(Ey.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.He.updateTargetData(e,c))}}));var s=Lg();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Cw(e,a,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(Ey.min())){var u=n.He.getLastRemoteSnapshotVersion(e).next((function(t){return n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return nb.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Wn.Vn(e,s)})).next((function(){return s}))})).then((function(e){return n.qn=i,e}))}function Cw(e,t,n,r,i){var a=Vg();return n.forEach((function(e){return a=a.add(e)})),t.getEntries(e,a).next((function(e){var a=Lg();return n.forEach((function(n,o){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(Ey.min())?(t.removeEntry(n,u),a=a.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o,u),a=a.insert(n,o)):ey("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),a}))}function Ow(e,t){var n=oy(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)}))}function Aw(e,t){var n=oy(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.He.getTargetData(e,t).next((function(i){return i?(r=i,nb.resolve(r)):n.He.allocateTargetId(e).next((function(i){return r=new yb(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}function Rw(e,t,n){return Pw.apply(this,arguments)}function Pw(){return Pw=fn(dn().mark((function e(t,n,r){var i,a,o;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=oy(t),a=i.qn.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),sb(e.t1)){e.next=12;break}throw e.t1;case 12:ey("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qn=i.qn.remove(n),i.Kn.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Pw.apply(this,arguments)}function Nw(e,t,n){var r=oy(e),i=Ey.min(),a=Vg();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=oy(e),i=r.Kn.get(n);return void 0!==i?nb.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,Fm(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Un.getDocumentsMatchingQuery(e,t,n?i:Ey.min(),n?a:Vg())})).next((function(e){return{documents:e,zn:a}}))}))}function Dw(e,t){var n=oy(e),r=oy(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function Lw(e){var t=oy(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=oy(e),i=Lg(),a=bb(n),o=uw(t),s=IDBKeyRange.lowerBound(a,!0);return o.jt({index:Hk.readTimeIndex,range:s},(function(e,t){var n=gb(r.k,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{In:i,readTime:wb(a)}}))}(t.Qn,e,t.jn)})).then((function(e){var n=e.In,r=e.readTime;return t.jn=r,n}))}function Mw(e){return jw.apply(this,arguments)}function jw(){return jw=fn(dn().mark((function e(t){var n;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=oy(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=uw(e),n=Ey.min();return t.jt({index:Hk.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=wb(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.jn=e})));case 2:case"end":return e.stop()}}),e)}))),jw.apply(this,arguments)}function Fw(e,t,n,r){return Uw.apply(this,arguments)}function Uw(){return Uw=fn(dn().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=oy(t),o=Vg(),s=Lg(),u=Ug(),c=Mn(r);try{for(c.s();!(l=c.n()).done;)f=l.value,h=n.Hn(f.metadata.name),f.document&&(o=o.add(h)),s=s.insert(h,n.Jn(f)),u=u.insert(h,n.Yn(f.metadata.readTime))}catch(v){c.e(v)}finally{c.f()}return d=a.Qn.newChangeBuffer({trackRemovals:!0}),e.next=7,Aw(a,function(e){return Fm(Rm(Ay.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Cw(e,d,s,Ey.min(),u).next((function(t){return d.apply(e),t})).next((function(t){return a.He.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.He.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.Wn.Vn(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),Uw.apply(this,arguments)}function zw(e,t){return Vw.apply(this,arguments)}function Vw(){return Vw=fn(dn().mark((function e(t,n){var r,i,a,o=arguments;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Vg(),e.next=3,Aw(t,Fm(Ib(n.bundledQuery)));case 3:return i=e.sent,a=oy(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=ak(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ye.saveNamedQuery(e,n);var o=i.withResumeToken(Dy.EMPTY_BYTE_STRING,t);return a.qn=a.qn.insert(o.targetId,o),a.He.updateTargetData(e,o).next((function(){return a.He.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.He.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ye.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Vw.apply(this,arguments)}var qw=function(){function e(t){Rn(this,e),this.k=t,this.Xn=new Map,this.Zn=new Map}return Nn(e,[{key:"getBundleMetadata",value:function(e,t){return nb.resolve(this.Xn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:ak(n.createTime)}),nb.resolve()}},{key:"getNamedQuery",value:function(e,t){return nb.resolve(this.Zn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:Ib(e.bundledQuery),readTime:ak(e.readTime)}}(t)),nb.resolve()}}]),e}(),Bw=function(){function e(){Rn(this,e),this.ts=new Pg(Hw.es),this.ns=new Pg(Hw.ss)}return Nn(e,[{key:"isEmpty",value:function(){return this.ts.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Hw(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}},{key:"rs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.os(new Hw(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new Wy(new Ay([])),r=new Hw(n,e),i=new Hw(n,e+1),a=[];return this.ns.forEachInRange([r,i],(function(e){t.os(e),a.push(e.key)})),a}},{key:"hs",value:function(){var e=this;this.ts.forEach((function(t){return e.os(t)}))}},{key:"os",value:function(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}},{key:"ls",value:function(e){var t=new Wy(new Ay([])),n=new Hw(t,e),r=new Hw(t,e+1),i=Vg();return this.ns.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Hw(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Hw=function(){function e(t,n){Rn(this,e),this.key=t,this.fs=n}return Nn(e,null,[{key:"es",value:function(e,t){return Wy.comparator(e.key,t.key)||wy(e.fs,t.fs)}},{key:"ss",value:function(e,t){return wy(e.fs,t.fs)||Wy.comparator(e.key,t.key)}}]),e}(),Ww=function(){function e(t,n){Rn(this,e),this.Jt=t,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new Pg(Hw.es)}return Nn(e,[{key:"checkEmpty",value:function(e){return nb.resolve(0===this.An.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];var a=new pb(i,t,n,r);this.An.push(a);var o,s=Mn(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ws=this.ws.add(new Hw(u.key,i)),this.Jt.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return nb.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return nb.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.gs(n),i=r<0?0:r;return nb.resolve(this.An.length>i?this.An[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return nb.resolve(0===this.An.length?-1:this.ds-1)}},{key:"getAllMutationBatches",value:function(e){return nb.resolve(this.An.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Hw(t,0),i=new Hw(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([r,i],(function(e){var t=n._s(e.fs);a.push(t)})),nb.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Pg(wy);return t.forEach((function(e){var t=new Hw(e,0),i=new Hw(e,Number.POSITIVE_INFINITY);n.ws.forEachInRange([t,i],(function(e){r=r.add(e.fs)}))})),nb.resolve(this.ys(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Wy.isDocumentKey(i)||(i=i.child(""));var a=new Hw(new Wy(i),0),o=new Pg(wy);return this.ws.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)}),a),nb.resolve(this.ys(o))}},{key:"ys",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;ay(0===this.ps(t.batchId,"removed")),this.An.shift();var r=this.ws;return nb.forEach(t.mutations,(function(i){var a=new Hw(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ws=r}))}},{key:"ee",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Hw(t,0),r=this.ws.firstAfterOrEqual(n);return nb.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.An.length,nb.resolve()}},{key:"ps",value:function(e,t){return this.gs(e)}},{key:"gs",value:function(e){return 0===this.An.length?0:e-this.An[0].batchId}},{key:"_s",value:function(e){var t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}]),e}(),Kw=function(){function e(t,n){Rn(this,e),this.Jt=t,this.Ts=n,this.docs=new Og(Wy.comparator),this.size=0}return Nn(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o,readTime:n}),this.size+=o-a,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return nb.resolve(n?n.document.mutableCopy():um.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Lg();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():um.newInvalidDocument(e))})),nb.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=Lg(),i=new Wy(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||Bm(t,c)&&(r=r.insert(c.key,c.mutableCopy()))}return nb.resolve(r)}},{key:"Es",value:function(e,t){return nb.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Gw(this)}},{key:"getSize",value:function(e){return nb.resolve(this.size)}}]),e}(),Gw=function(e){Vn(n,e);var t=Kn(n);function n(e){var r;return Rn(this,n),(r=t.call(this)).De=e,r}return Nn(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.De.addEntry(e,i.document,t.getReadTime(r))):t.De.removeEntry(r)})),nb.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.De.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.De.getEntries(e,t)}}]),n}(iw),Qw=function(){function e(t){Rn(this,e),this.persistence=t,this.Is=new rw((function(e){return fm(e)}),hm),this.lastRemoteSnapshotVersion=Ey.min(),this.highestTargetId=0,this.As=0,this.Rs=new Bw,this.targetCount=0,this.bs=Hb.ie()}return Nn(e,[{key:"forEachTarget",value:function(e,t){return this.Is.forEach((function(e,n){return t(n)})),nb.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return nb.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return nb.resolve(this.As)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.bs.next(),nb.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),nb.resolve()}},{key:"ce",value:function(e){this.Is.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.bs=new Hb(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ce(t),this.targetCount+=1,nb.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ce(t),nb.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,nb.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Is.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Is.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),nb.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return nb.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Is.get(t)||null;return nb.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Rs.rs(t,n),nb.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Rs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),nb.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Rs.us(t),nb.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Rs.ls(t);return nb.resolve(n)}},{key:"containsKey",value:function(e,t){return nb.resolve(this.Rs.containsKey(t))}}]),e}(),$w=function(){function e(t,n){var r=this;Rn(this,e),this.Ps={},this.Be=new gy(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new Qw(this),this.Jt=new Rb,this.Je=function(e,t){return new Kw(e,(function(e){return r.referenceDelegate.vs(e)}))}(this.Jt),this.k=new mb(n),this.Ye=new qw(this.k)}return Nn(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ue=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ue}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getMutationQueue",value:function(e){var t=this.Ps[e.toKey()];return t||(t=new Ww(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;ey("MemoryPersistence","Starting transaction:",e);var i=new Yw(this.Be.next());return this.referenceDelegate.Vs(),n(i).next((function(e){return r.referenceDelegate.Ss(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ds",value:function(e,t){return nb.or(Object.values(this.Ps).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Yw=function(e){Vn(n,e);var t=Kn(n);function n(e){var r;return Rn(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Nn(n)}(tb),Xw=function(){function e(t){Rn(this,e),this.persistence=t,this.Cs=new Bw,this.Ns=null}return Nn(e,[{key:"xs",get:function(){if(this.Ns)return this.Ns;throw iy()}},{key:"addReference",value:function(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),nb.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),nb.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),nb.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Cs.us(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Vs",value:function(){this.Ns=new Set}},{key:"Ss",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nb.forEach(this.xs,(function(r){var i=Wy.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ns=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"vs",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return nb.or([function(){return nb.resolve(n.Cs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ds(e,t)}])}}],[{key:"ks",value:function(t){return new e(t)}}]),e}();function Jw(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Zw(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function ex(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var tx=function(){function e(t,n,r,i){Rn(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Nn(e,[{key:"Fs",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Os",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new uy(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(ty("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),nx=function(){function e(t,n,r){Rn(this,e),this.targetId=t,this.state=n,this.error=r}return Nn(e,[{key:"Fs",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Os",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new uy(i.error.code,i.error.message))),a?new e(t,i.state,r):(ty("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),rx=function(){function e(t,n){Rn(this,e),this.clientId=t,this.activeTargetIds=n}return Nn(e,null,[{key:"Os",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Bg(),o=0;i&&o<r.activeTargetIds.length;++o)i=Hy(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(ty("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),ix=function(){function e(t,n){Rn(this,e),this.clientId=t,this.onlineState=n}return Nn(e,null,[{key:"Os",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(ty("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),ax=function(){function e(){Rn(this,e),this.activeTargetIds=Bg()}return Nn(e,[{key:"Ms",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ls",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Fs",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),ox=function(){function e(t,n,r,i,a){Rn(this,e),this.window=t,this.Fe=n,this.persistenceKey=r,this.Bs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new Og(wy),this.started=!1,this.js=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Qs=Jw(this.persistenceKey,this.Bs),this.Ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Ks=this.Ks.insert(this.Bs,new ax),this.Gs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.zs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Hs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Js=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ys=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}return Nn(e,[{key:"start",value:function(){var e=fn(dn().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Tn();case 2:t=e.sent,n=Mn(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Bs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Jw(this.persistenceKey,i)))&&(o=rx.Os(i,a))&&(this.Ks=this.Ks.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Xs(),(s=this.storage.getItem(this.Js))&&(u=this.Zs(s))&&this.ti(u),c=Mn(this.js);try{for(c.s();!(l=c.n()).done;)f=l.value,this.qs(f)}catch(d){c.e(d)}finally{c.f()}this.js=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ws,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.ei(this.Ks)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.ni(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.ni(e,t,n),this.si(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(ex(this.persistenceKey,e));if(n){var r=nx.Os(e,n);r&&(t=r.state)}}return this.ii.Ms(e),this.Xs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.ii.Ls(e),this.Xs()}},{key:"isLocalQueryTarget",value:function(e){return this.ii.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(ex(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ri(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.si(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.oi(e)}},{key:"notifyBundleLoaded",value:function(){this.ai()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return ey("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){ey("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){ey("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"qs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(ey("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void ty("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Fe.enqueueRetryable(fn(dn().mark((function e(){var r,i,a,o,s,u;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Gs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ci(n.key),e.abrupt("return",t.ui(r,null));case 6:if(!(i=t.hi(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ui(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.zs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.li(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.fi(a));case 16:e.next=39;break;case 18:if(!t.Hs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.di(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.wi(o));case 23:e.next=39;break;case 25:if(n.key!==t.Js){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.Zs(n.newValue))){e.next=30;break}return e.abrupt("return",t.ti(s));case 30:e.next=39;break;case 32:if(n.key!==t.Ws){e.next=37;break}u=function(e){var t=gy.I;if(null!=e)try{var n=JSON.parse(e);ay("number"==typeof n),t=n}catch(e){ty("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==gy.I&&t.sequenceNumberHandler(u),e.next=39;break;case 37:if(n.key!==t.Ys){e.next=39;break}return e.abrupt("return",t.syncEngine._i());case 39:e.next=42;break;case 41:t.js.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"ii",get:function(){return this.Ks.get(this.Bs)}},{key:"Xs",value:function(){this.setItem(this.Qs,this.ii.Fs())}},{key:"ni",value:function(e,t,n){var r=new tx(this.currentUser,e,t,n),i=Zw(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Fs())}},{key:"si",value:function(e){var t=Zw(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"oi",value:function(e){var t={clientId:this.Bs,onlineState:e};this.storage.setItem(this.Js,JSON.stringify(t))}},{key:"ri",value:function(e,t,n){var r=ex(this.persistenceKey,e),i=new nx(e,t,n);this.setItem(r,i.Fs())}},{key:"ai",value:function(){this.setItem(this.Ys,"value-not-used")}},{key:"ci",value:function(e){var t=this.Gs.exec(e);return t?t[1]:null}},{key:"hi",value:function(e,t){var n=this.ci(e);return rx.Os(n,t)}},{key:"li",value:function(e,t){var n=this.zs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return tx.Os(new Yv(i),r,t)}},{key:"di",value:function(e,t){var n=this.Hs.exec(e),r=Number(n[1]);return nx.Os(r,t)}},{key:"Zs",value:function(e){return ix.Os(e)}},{key:"fi",value:function(){var e=fn(dn().mark((function e(t){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.mi(t.batchId,t.state,t.error));case 2:ey("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wi",value:function(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}},{key:"ui",value:function(e,t){var n=this,r=t?this.Ks.insert(e,t):this.Ks.remove(e),i=this.ei(this.Ks),a=this.ei(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.yi(o,s).then((function(){n.Ks=r}))}},{key:"ti",value:function(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"ei",value:function(e){var t=Bg();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"Pt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),sx=function(){function e(){Rn(this,e),this.pi=new ax,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Nn(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ti[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.pi.Ls(e)}},{key:"isLocalQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ti[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.pi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.pi=new ax,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),ux=function(){function e(){Rn(this,e)}return Nn(e,[{key:"Ei",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),cx=function(){function e(){var t=this;Rn(this,e),this.Ii=function(){return t.Ai()},this.Ri=function(){return t.bi()},this.Pi=[],this.vi()}return Nn(e,[{key:"Ei",value:function(e){this.Pi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}},{key:"vi",value:function(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}},{key:"Ai",value:function(){ey("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Mn(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"bi",value:function(){ey("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Mn(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"Pt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),lx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},fx=function(){function e(t){Rn(this,e),this.Vi=t.Vi,this.Si=t.Si}return Nn(e,[{key:"Di",value:function(e){this.Ci=e}},{key:"Ni",value:function(e){this.ki=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Si()}},{key:"send",value:function(e){this.Vi(e)}},{key:"$i",value:function(){this.Ci()}},{key:"Oi",value:function(e){this.ki(e)}},{key:"Fi",value:function(e){this.xi(e)}}]),e}(),hx=function(e){Vn(n,e);var t=Kn(n);function n(e){var r;return Rn(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Nn(n,[{key:"Ki",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Qv;o.listenOnce(Bv.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case qv.NO_ERROR:var t=o.getResponseJson();ey("Connection","XHR received:",JSON.stringify(t)),i(t);break;case qv.TIMEOUT:ey("Connection",'RPC "'+e+'" timed out'),a(new uy(sy.DEADLINE_EXCEEDED,"Request time out"));break;case qv.HTTP_ERROR:var n=o.getStatus();if(ey("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(sy).indexOf(t)>=0?t:sy.UNKNOWN}(r.status);a(new uy(s,r.message))}else a(new uy(sy.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new uy(sy.UNAVAILABLE,"Connection failed."));break;default:iy()}}finally{ey("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"Qi",value:function(e,t,n){var r=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=zv(),a=Vv(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Kv({})),this.qi(o.initMessageHeaders,t,n),ir()||sr()||rr().indexOf("Electron/")>=0||ur()||rr().indexOf("MSAppHost/")>=0||or()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");ey("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new fx({Vi:function(e){l?ey("Connection","Not sending because WebChannel is closed:",e):(c||(ey("Connection","Opening WebChannel transport."),u.open(),c=!0),ey("Connection","WebChannel sending:",e),u.send(e))},Si:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,Gv.EventType.OPEN,(function(){l||ey("Connection","WebChannel transport opened.")})),h(u,Gv.EventType.CLOSE,(function(){l||(l=!0,ey("Connection","WebChannel transport closed"),f.Oi())})),h(u,Gv.EventType.ERROR,(function(e){l||(l=!0,ny("Connection","WebChannel transport errored:",e),f.Oi(new uy(sy.UNAVAILABLE,"The operation could not be completed")))})),h(u,Gv.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];ay(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){ey("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=xg[e];if(void 0!==t)return Cg(t)}(a),s=i.message;void 0===o&&(o=sy.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.Oi(new uy(o,s)),u.close()}else ey("Connection","WebChannel received:",n),f.Fi(n)}})),h(a,Hv.STAT_EVENT,(function(e){e.stat===Wv.PROXY?ey("Connection","Detected buffering proxy"):e.stat===Wv.NOPROXY&&ey("Connection","Detected no buffering proxy")})),setTimeout((function(){f.$i()}),0),f}}]),n}(function(){function e(t){Rn(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Mi=n+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Nn(e,[{key:"Bi",value:function(e,t,n,r,i){var a=this.Ui(e,t);ey("RestConnection","Sending: ",a,n);var o={};return this.qi(o,r,i),this.Ki(e,a,o,n).then((function(e){return ey("RestConnection","Received: ",e),e}),(function(t){throw ny("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ji",value:function(e,t,n,r,i){return this.Bi(e,t,n,r,i)}},{key:"qi",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Xv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Ui",value:function(e,t){var n=lx[e];return"".concat(this.Mi,"/v1/").concat(t,":").concat(n)}}]),e}());function dx(){return"undefined"!=typeof window?window:null}function px(){return"undefined"!=typeof document?document:null}function vx(e){return new tk(e,!0)}var yx=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Rn(this,e),this.Fe=t,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}return Nn(e,[{key:"reset",value:function(){this.Hi=0}},{key:"Xi",value:function(){this.Hi=this.zi}},{key:"Zi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&ey("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ji=this.Fe.enqueueAfterDelay(this.timerId,i,(function(){return t.Yi=Date.now(),e()})),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}},{key:"er",value:function(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}},{key:"cancel",value:function(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}},{key:"tr",value:function(){return(Math.random()-.5)*this.Hi}}]),e}(),mx=function(){function e(t,n,r,i,a,o,s,u){Rn(this,e),this.Fe=t,this.nr=r,this.sr=i,this.ir=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new yx(t,n)}return Nn(e,[{key:"hr",value:function(){return 1===this.state||5===this.state||this.lr()}},{key:"lr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.dr()}},{key:"stop",value:function(){var e=fn(dn().mark((function e(){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.hr(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wr",value:function(){this.state=0,this.ur.reset()}},{key:"_r",value:function(){var e=this;this.lr()&&null===this.ar&&(this.ar=this.Fe.enqueueAfterDelay(this.nr,6e4,(function(){return e.mr()})))}},{key:"gr",value:function(e){this.yr(),this.stream.send(e)}},{key:"mr",value:function(){var e=fn(dn().mark((function e(){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yr",value:function(){this.ar&&(this.ar.cancel(),this.ar=null)}},{key:"pr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"close",value:function(){var e=fn(dn().mark((function e(t,n){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==t?this.ur.reset():n&&n.code===sy.RESOURCE_EXHAUSTED?(ty(n.toString()),ty("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):n&&n.code===sy.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Ni(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Tr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=Un(t,2),i=r[0],a=r[1];e.rr===n&&e.Ir(i,a)}),(function(n){t((function(){var t=new uy(sy.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ar(t)}))}))}},{key:"Ir",value:function(e,t){var n=this,r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((function(){r((function(){return n.state=2,n.cr=n.Fe.enqueueAfterDelay(n.sr,1e4,(function(){return n.lr()&&(n.state=3),Promise.resolve()})),n.listener.Di()}))})),this.stream.Ni((function(e){r((function(){return n.Ar(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"dr",value:function(){var e=this;this.state=5,this.ur.Zi(fn(dn().mark((function t(){return dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ar",value:function(e){return ey("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Er",value:function(e){var t=this;return function(n){t.Fe.enqueueAndForget((function(){return t.rr===e?n():(ey("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),gx=function(e){Vn(n,e);var t=Kn(n);function n(e,r,i,a,o,s){var u;return Rn(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).k=o,u}return Nn(n,[{key:"Rr",value:function(e,t){return this.ir.Qi("Listen",e,t)}},{key:"onMessage",value:function(e){this.ur.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:iy()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.C?(ay(void 0===t||"string"==typeof t),Dy.fromBase64String(t||"")):(ay(void 0===t||t instanceof Uint8Array),Dy.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?sy.UNKNOWN:Cg(e.code);return new uy(t,e.message||"")}(o);n=new Qg(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=ck(e,u.document.name),l=ak(u.document.updateTime),f=new om({mapValue:{fields:u.document.fields}}),h=um.newFoundDocument(c,l,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new Kg(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=ck(e,v.document),m=v.readTime?ak(v.readTime):Ey.min(),g=um.newNoDocument(y,m),k=v.removedTargetIds||[];n=new Kg([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=ck(e,b.document),x=b.removedTargetIds||[];n=new Kg([],x,w,null)}else{if(!("filter"in t))return iy();t.filter;var _=t.filter;_.targetId;var S=_.count||0,E=new Tg(S),T=_.targetId;n=new Gg(T,E)}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return Ey.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Ey.min():t.readTime?ak(t.readTime):Ey.min()}(e);return this.listener.br(t,n)}},{key:"Pr",value:function(e){var t={};t.database=hk(this.k),t.addTarget=function(e,t){var n,r=t.target;return(n=dm(r)?{documents:kk(e,r)}:{query:bk(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=rk(e,t.resumeToken):t.snapshotVersion.compareTo(Ey.min())>0&&(n.readTime=nk(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return iy()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}},{key:"vr",value:function(e){var t={};t.database=hk(this.k),t.removeTarget=e,this.gr(t)}}]),n}(mx),kx=function(e){Vn(n,e);var t=Kn(n);function n(e,r,i,a,o,s){var u;return Rn(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).k=o,u.Vr=!1,u}return Nn(n,[{key:"Sr",get:function(){return this.Vr}},{key:"start",value:function(){this.Vr=!1,this.lastStreamToken=void 0,xi(qn(n.prototype),"start",this).call(this)}},{key:"Tr",value:function(){this.Vr&&this.Dr([])}},{key:"Rr",value:function(e,t){return this.ir.Qi("Write",e,t)}},{key:"onMessage",value:function(e){if(ay(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();var t=function(e,t){return e&&e.length>0?(ay(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?ak(e.updateTime):ak(t);return n.isEqual(Ey.min())&&(n=ak(t)),new ug(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=ak(e.commitTime);return this.listener.Cr(n,t)}return ay(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}},{key:"kr",value:function(){var e={};e.database=hk(this.k),this.gr(e)}},{key:"Dr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return mk(t.k,e)}))};this.gr(n)}}]),n}(mx),bx=function(e){Vn(n,e);var t=Kn(n);function n(e,r,i,a){var o;return Rn(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.ir=i,o.k=a,o.$r=!1,o}return Nn(n,[{key:"Or",value:function(){if(this.$r)throw new uy(sy.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Bi",value:function(e,t,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=Un(i,2),o=a[0],s=a[1];return r.ir.Bi(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===sy.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new uy(sy.UNKNOWN,e.toString())}))}},{key:"ji",value:function(e,t,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=Un(i,2),o=a[0],s=a[1];return r.ir.ji(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===sy.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new uy(sy.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.$r=!0}}]),n}(function(){return Nn((function e(){Rn(this,e)}))}()),wx=function(){function e(t,n){Rn(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Fr=0,this.Mr=null,this.Lr=!0}return Nn(e,[{key:"Br",value:function(){var e=this;0===this.Fr&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Mr=null,e.qr("Backend didn't respond within 10 seconds."),e.Ur("Offline"),Promise.resolve()})))}},{key:"Kr",value:function(e){"Online"===this.state?this.Ur("Unknown"):(this.Fr++,this.Fr>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Ur("Offline")))}},{key:"set",value:function(e){this.jr(),this.Fr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}},{key:"Ur",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"qr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(ty(t),this.Lr=!1):ey("OnlineStateTracker",t)}},{key:"jr",value:function(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}]),e}(),xx=Nn((function e(t,n,r,i,a){var o=this;Rn(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=a,this.Hr.Ei((function(e){r.enqueueAndForget(fn(dn().mark((function e(){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Nx(o),!e.t0){e.next=5;break}return ey("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=fn(dn().mark((function e(t){var n;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=oy(t)).Gr.add(4),e.next=4,Ex(n);case 4:return n.Jr.set("Unknown"),n.Gr.delete(4),e.next=8,_x(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Jr=new wx(r,i)}));function _x(e){return Sx.apply(this,arguments)}function Sx(){return Sx=fn(dn().mark((function e(t){var n,r,i;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Nx(t)){e.next=18;break}n=Mn(t.zr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Sx.apply(this,arguments)}function Ex(e){return Tx.apply(this,arguments)}function Tx(){return Tx=fn(dn().mark((function e(t){var n,r,i;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Mn(t.zr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Tx.apply(this,arguments)}function Ix(e,t){var n=oy(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),Px(n)?Rx(n):o_(n).lr()&&Ox(n,t))}function Cx(e,t){var n=oy(e),r=o_(n);n.Wr.delete(t),r.lr()&&Ax(n,t),0===n.Wr.size&&(r.lr()?r._r():Nx(n)&&n.Jr.set("Unknown"))}function Ox(e,t){e.Yr.X(t.targetId),o_(e).Pr(t)}function Ax(e,t){e.Yr.X(t),o_(e).vr(t)}function Rx(e){e.Yr=new Yg({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.Wr.get(t)||null}}),o_(e).start(),e.Jr.Br()}function Px(e){return Nx(e)&&!o_(e).hr()&&e.Wr.size>0}function Nx(e){return 0===oy(e).Gr.size}function Dx(e){e.Yr=void 0}function Lx(e){return Mx.apply(this,arguments)}function Mx(){return Mx=fn(dn().mark((function e(t){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Wr.forEach((function(e,n){Ox(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Mx.apply(this,arguments)}function jx(e,t){return Fx.apply(this,arguments)}function Fx(){return Fx=fn(dn().mark((function e(t,n){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Dx(t),Px(t)?(t.Jr.Kr(n),Rx(t)):t.Jr.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Fx.apply(this,arguments)}function Ux(e,t,n){return zx.apply(this,arguments)}function zx(){return zx=fn(dn().mark((function e(t,n,r){var i;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Jr.set("Online"),!(n instanceof Qg&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=fn(dn().mark((function e(t,n){var r,i,a,o;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Mn(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Wr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Wr.delete(o),t.Yr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),ey("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Vx(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Kg?t.Yr.ot(n):n instanceof Gg?t.Yr.dt(n):t.Yr.ut(n),r.isEqual(Ey.min())){e.next=29;break}return e.prev=14,e.next=17,Tw(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Yr.gt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Wr.get(t);if(n){e.Wr.set(t,n.withResumeToken(Dy.EMPTY_BYTE_STRING,n.snapshotVersion)),Ax(e,t);var r=new yb(n.target,t,1,n.sequenceNumber);Ox(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),ey("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Vx(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),zx.apply(this,arguments)}function Vx(e,t,n){return qx.apply(this,arguments)}function qx(){return qx=fn(dn().mark((function e(t,n,r){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(sb(n)){e.next=2;break}throw n;case 2:return t.Gr.add(1),e.next=5,Ex(t);case 5:t.Jr.set("Offline"),r||(r=function(){return Tw(t.localStore)}),t.asyncQueue.enqueueRetryable(fn(dn().mark((function e(){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ey("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Gr.delete(1),e.next=6,_x(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),qx.apply(this,arguments)}function Bx(e,t){return t().catch((function(n){return Vx(e,n,t)}))}function Hx(e){return Wx.apply(this,arguments)}function Wx(){return Wx=fn(dn().mark((function e(t){var n,r,i,a;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=oy(t),r=s_(n),i=n.Qr.length>0?n.Qr[n.Qr.length-1].batchId:-1;case 2:if(!Kx(n)){e.next=19;break}return e.prev=3,e.next=6,Ow(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Qr.length&&r._r(),e.abrupt("break",19);case 10:i=a.batchId,Gx(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Vx(n,e.t0);case 17:e.next=2;break;case 19:Qx(n)&&$x(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Wx.apply(this,arguments)}function Kx(e){return Nx(e)&&e.Qr.length<10}function Gx(e,t){e.Qr.push(t);var n=s_(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function Qx(e){return Nx(e)&&!s_(e).hr()&&e.Qr.length>0}function $x(e){s_(e).start()}function Yx(e){return Xx.apply(this,arguments)}function Xx(){return Xx=fn(dn().mark((function e(t){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s_(t).kr();case 1:case"end":return e.stop()}}),e)}))),Xx.apply(this,arguments)}function Jx(e){return Zx.apply(this,arguments)}function Zx(){return Zx=fn(dn().mark((function e(t){var n,r,i,a;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=s_(t),r=Mn(t.Qr);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Dr(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Zx.apply(this,arguments)}function e_(e,t,n){return t_.apply(this,arguments)}function t_(){return t_=fn(dn().mark((function e(t,n,r){var i,a;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Qr.shift(),a=vb.from(i,n,r),e.next=3,Bx(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Hx(t);case 5:case"end":return e.stop()}}),e)}))),t_.apply(this,arguments)}function n_(e,t){return r_.apply(this,arguments)}function r_(){return r_=fn(dn().mark((function e(t,n){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&s_(t).Sr,!e.t0){e.next=4;break}return e.next=4,function(){var e=fn(dn().mark((function e(t,n){var r,i;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ig(i=n.code)||i===sy.ABORTED){e.next=7;break}return r=t.Qr.shift(),s_(t).wr(),e.next=5,Bx(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Hx(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Qx(t)&&$x(t);case 5:case"end":return e.stop()}}),e)}))),r_.apply(this,arguments)}function i_(e,t){return a_.apply(this,arguments)}function a_(){return a_=fn(dn().mark((function e(t,n){var r;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=oy(t),!n){e.next=7;break}return r.Gr.delete(2),e.next=5,_x(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Gr.add(2),e.next=12,Ex(r);case 12:r.Jr.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),a_.apply(this,arguments)}function o_(e){return e.Xr||(e.Xr=function(e,t,n){var r=oy(e);return r.Or(),new gx(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:Lx.bind(null,e),Ni:jx.bind(null,e),br:Ux.bind(null,e)}),e.zr.push(function(){var t=fn(dn().mark((function t(n){return dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Xr.wr(),Px(e)?Rx(e):e.Jr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Xr.stop();case 6:Dx(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Xr}function s_(e){return e.Zr||(e.Zr=function(e,t,n){var r=oy(e);return r.Or(),new kx(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:Yx.bind(null,e),Ni:n_.bind(null,e),Nr:Jx.bind(null,e),Cr:e_.bind(null,e)}),e.zr.push(function(){var t=fn(dn().mark((function t(n){return dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Zr.wr(),t.next=4,Hx(e);case 4:t.next=9;break;case 6:return t.next=8,e.Zr.stop();case 8:e.Qr.length>0&&(ey("RemoteStore","Stopping write stream with ".concat(e.Qr.length," pending writes")),e.Qr=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Zr}var u_=function(){function e(t,n,r,i,a){Rn(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new cy,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Nn(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new uy(sy.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function c_(e,t){if(ty("AsyncQueue","".concat(t,": ").concat(e)),sb(e))return new uy(sy.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var l_=function(){function e(t){Rn(this,e),this.comparator=t?function(e,n){return t(e,n)||Wy.comparator(e.key,n.key)}:function(e,t){return Wy.comparator(e.key,t.key)},this.keyedMap=jg(),this.sortedSet=new Og(this.comparator)}return Nn(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),f_=function(){function e(){Rn(this,e),this.eo=new Og(Wy.comparator)}return Nn(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):iy():this.eo=this.eo.insert(t,e)}},{key:"no",value:function(){var e=[];return this.eo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),h_=function(){function e(t,n,r,i,a,o,s,u){Rn(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return Nn(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,l_.emptySet(n),a,r,i,!0,!1)}}]),e}(),d_=Nn((function e(){Rn(this,e),this.so=void 0,this.listeners=[]})),p_=Nn((function e(){Rn(this,e),this.queries=new rw((function(e){return Vm(e)}),zm),this.onlineState="Unknown",this.io=new Set}));function v_(e,t){return y_.apply(this,arguments)}function y_(){return y_=fn(dn().mark((function e(t,n){var r,i,a,o,s;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=oy(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new d_),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.so=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=c_(e.t0,"Initialization of query '".concat(qm(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.ro(r.onlineState),o.so&&n.oo(o.so)&&w_(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),y_.apply(this,arguments)}function m_(e,t){return g_.apply(this,arguments)}function g_(){return g_=fn(dn().mark((function e(t,n){var r,i,a,o,s;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=oy(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),g_.apply(this,arguments)}function k_(e,t){var n,r=oy(e),i=!1,a=Mn(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=Mn(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.oo(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.so=o}}}catch(f){a.e(f)}finally{a.f()}i&&w_(r)}function b_(e,t,n){var r=oy(e),i=r.queries.get(t);if(i){var a,o=Mn(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function w_(e){e.io.forEach((function(e){e.next()}))}var x_=function(){function e(t,n,r){Rn(this,e),this.query=t,this.ao=n,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}return Nn(e,[{key:"oo",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Mn(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new h_(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.co?this.ho(e)&&(this.ao.next(e),a=!0):this.lo(e,this.onlineState)&&(this.fo(e),a=!0),this.uo=e,a}},{key:"onError",value:function(e){this.ao.error(e)}},{key:"ro",value:function(e){this.onlineState=e;var t=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}},{key:"lo",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.wo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"ho",value:function(e){if(e.docChanges.length>0)return!0;var t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"fo",value:function(e){e=h_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}]),e}(),__=function(){function e(t,n){Rn(this,e),this.payload=t,this.byteLength=n}return Nn(e,[{key:"_o",value:function(){return"metadata"in this.payload}}]),e}(),S_=function(){function e(t){Rn(this,e),this.k=t}return Nn(e,[{key:"Hn",value:function(e){return ck(this.k,e)}},{key:"Jn",value:function(e){return e.metadata.exists?vk(this.k,e.document,!1):um.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}},{key:"Yn",value:function(e){return ak(e)}}]),e}(),E_=function(){function e(t,n,r){Rn(this,e),this.mo=t,this.localStore=n,this.k=r,this.queries=[],this.documents=[],this.progress=T_(t)}return Nn(e,[{key:"yo",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"po",value:function(e){var t,n=new Map,r=new S_(this.k),i=Mn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Hn(a.metadata.name),u=Mn(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||Vg()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=fn(dn().mark((function e(){var t,n,r,i,a;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fw(this.localStore,new S_(this.k),this.documents,this.mo.id);case 2:t=e.sent,n=this.po(this.documents),r=Mn(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,zw(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new mw(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function T_(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var I_=Nn((function e(t){Rn(this,e),this.key=t})),C_=Nn((function e(t){Rn(this,e),this.key=t})),O_=function(){function e(t,n){Rn(this,e),this.query=t,this.To=n,this.Eo=null,this.current=!1,this.Io=Vg(),this.mutatedKeys=Vg(),this.Ao=Hm(t),this.Ro=new l_(this.Ao)}return Nn(e,[{key:"bo",get:function(){return this.To}},{key:"Po",value:function(e,t){var n=this,r=t?t.vo:new f_,i=t?t.Ro:this.Ro,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u=Pm(this.query)&&i.size===this.query.limit?i.last():null,c=Nm(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Bm(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Vo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Ao(f,u)>0||c&&n.Ao(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Pm(this.query)||Nm(this.query))for(;o.size>this.query.limit;){var l=Pm(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:s,mutatedKeys:a}}},{key:"Vo",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;var a=e.vo.no();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return iy()}};return n(e)-n(t)}(e.type,t.type)||r.Ao(e.doc,t.doc)})),this.So(n);var o=t?this.Do():[],s=0===this.Io.size&&this.current?1:0,u=s!==this.Eo;return this.Eo=s,0!==a.length||u?{snapshot:new h_(this.query,e.Ro,i,a,e.mutatedKeys,0===s,u,!1),Co:o}:{Co:o}}},{key:"ro",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new f_,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}},{key:"No",value:function(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}},{key:"So",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.To=t.To.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.To=t.To.delete(e)})),this.current=e.current)}},{key:"Do",value:function(){var e=this;if(!this.current)return[];var t=this.Io;this.Io=Vg(),this.Ro.forEach((function(t){e.No(t.key)&&(e.Io=e.Io.add(t.key))}));var n=[];return t.forEach((function(t){e.Io.has(t)||n.push(new C_(t))})),this.Io.forEach((function(e){t.has(e)||n.push(new I_(e))})),n}},{key:"ko",value:function(e){this.To=e.zn,this.Io=Vg();var t=this.Po(e.documents);return this.applyChanges(t,!0)}},{key:"xo",value:function(){return h_.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}]),e}(),A_=Nn((function e(t,n,r){Rn(this,e),this.query=t,this.targetId=n,this.view=r})),R_=Nn((function e(t){Rn(this,e),this.key=t,this.$o=!1})),P_=function(){function e(t,n,r,i,a,o){Rn(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Oo={},this.Fo=new rw((function(e){return Vm(e)}),zm),this.Mo=new Map,this.Lo=new Set,this.Bo=new Og(Wy.comparator),this.Uo=new Map,this.qo=new Bw,this.Ko={},this.jo=new Map,this.Qo=Hb.re(),this.onlineState="Unknown",this.Wo=void 0}return Nn(e,[{key:"isPrimaryClient",get:function(){return!0===this.Wo}}]),e}();function N_(e,t){return D_.apply(this,arguments)}function D_(){return D_=fn(dn().mark((function e(t,n){var r,i,a,o,s,u;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=TS(t),!(o=r.Fo.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.xo(),e.next=15;break;case 6:return e.next=8,Aw(r.localStore,Fm(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,L_(r,n,i,"current"===u);case 13:a=e.sent,r.isPrimaryClient&&Ix(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),D_.apply(this,arguments)}function L_(e,t,n,r){return M_.apply(this,arguments)}function M_(){return M_=fn(dn().mark((function e(t,n,r,i){var a,o,s,u,c,l;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Go=function(e,n,r){return function(){var e=fn(dn().mark((function e(t,n,r,i){var a,o,s;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Po(r),e.t0=a.Bn,!e.t0){e.next=6;break}return e.next=5,Nw(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Po(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(nS(t,n.targetId,s.Co),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Nw(t.localStore,n,!0);case 3:return a=e.sent,o=new O_(n,a.zn),s=o.Po(a.documents),u=Wg.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),nS(t,r,c.Co),l=new A_(n,r,o),e.abrupt("return",(t.Fo.set(n,l),t.Mo.has(r)?t.Mo.get(r).push(n):t.Mo.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),M_.apply(this,arguments)}function j_(e,t){return F_.apply(this,arguments)}function F_(){return F_=fn(dn().mark((function e(t,n){var r,i,a;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=oy(t),i=r.Fo.get(n),!((a=r.Mo.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Mo.set(i.targetId,a.filter((function(e){return!zm(e,n)}))),void r.Fo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Rw(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Cx(r.remoteStore,i.targetId),eS(r,i.targetId)})).catch($b);case 9:e.next=14;break;case 11:return eS(r,i.targetId),e.next=14,Rw(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),F_.apply(this,arguments)}function U_(e,t,n){return z_.apply(this,arguments)}function z_(){return z_=fn(dn().mark((function e(t,n,r){var i,a,o;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=IS(t),e.prev=1,e.next=4,function(e,t){var n,r=oy(e),i=Sy.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Vg());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Wn.vn(e,a).next((function(a){n=a;var o,s=[],u=Mn(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=pg(c,n.get(c.key));null!=l&&s.push(new gg(c.key,l,sm(l.value.mapValue),cg.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return r.An.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ko[e.currentUser.toKey()];r||(r=new Og(wy)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,aS(i,a.changes);case 9:return e.next=11,Hx(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=c_(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),z_.apply(this,arguments)}function V_(e,t){return q_.apply(this,arguments)}function q_(){return q_=fn(dn().mark((function e(t,n){var r,i;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=oy(t),e.prev=1,e.next=4,Iw(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Uo.get(t);n&&(ay(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.$o=!0:e.modifiedDocuments.size>0?ay(n.$o):e.removedDocuments.size>0&&(ay(n.$o),n.$o=!1))})),e.next=8,aS(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,$b(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),q_.apply(this,arguments)}function B_(e,t,n){var r=oy(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Fo.forEach((function(e,n){var r=n.view.ro(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=oy(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Mn(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ro(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&w_(n)}(r.eventManager,t),i.length&&r.Oo.br(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function H_(e,t,n){return W_.apply(this,arguments)}function W_(){return W_=fn(dn().mark((function e(t,n,r){var i,a,o,s,u,c;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=oy(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Uo.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Og(Wy.comparator)).insert(o,um.newNoDocument(o,Ey.min())),u=Vg().add(o),c=new Hg(Ey.min(),new Map,new Pg(wy),s,u),e.next=9,V_(i,c);case 9:i.Bo=i.Bo.remove(o),i.Uo.delete(n),iS(i),e.next=16;break;case 14:return e.next=16,Rw(i.localStore,n,!1).then((function(){return eS(i,n,r)})).catch($b);case 16:case"end":return e.stop()}}),e)}))),W_.apply(this,arguments)}function K_(e,t){return G_.apply(this,arguments)}function G_(){return G_=fn(dn().mark((function e(t,n){var r,i,a;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=oy(t),i=n.batch.batchId,e.prev=1,e.next=4,Ew(r.localStore,n);case 4:return a=e.sent,Z_(r,i,null),J_(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,aS(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,$b(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),G_.apply(this,arguments)}function Q_(e,t,n){return $_.apply(this,arguments)}function $_(){return $_=fn(dn().mark((function e(t,n,r){var i,a;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=oy(t),e.prev=1,e.next=4,function(e,t){var n=oy(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.An.lookupMutationBatch(e,t).next((function(t){return ay(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Z_(i,n,r),J_(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,aS(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,$b(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),$_.apply(this,arguments)}function Y_(e,t){return X_.apply(this,arguments)}function X_(){return X_=fn(dn().mark((function e(t,n){var r,i,a,o;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nx((r=oy(t)).remoteStore)||ey("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=oy(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.An.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.jo.get(i)||[]).push(n),r.jo.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=c_(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),X_.apply(this,arguments)}function J_(e,t){(e.jo.get(t)||[]).forEach((function(e){e.resolve()})),e.jo.delete(t)}function Z_(e,t,n){var r=oy(e),i=r.Ko[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function eS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Mn(e.Mo.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Fo.delete(a),n&&e.Oo.zo(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Mo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((function(t){e.qo.containsKey(t)||tS(e,t)}))}function tS(e,t){e.Lo.delete(t.path.canonicalString());var n=e.Bo.get(t);null!==n&&(Cx(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),iS(e))}function nS(e,t,n){var r,i=Mn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof I_?(e.qo.addReference(a.key,t),rS(e,a)):a instanceof C_?(ey("SyncEngine","Document no longer in limbo: "+a.key),e.qo.removeReference(a.key,t),e.qo.containsKey(a.key)||tS(e,a.key)):iy()}}catch(o){i.e(o)}finally{i.f()}}function rS(e,t){var n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(ey("SyncEngine","New document in limbo: "+n),e.Lo.add(r),iS(e))}function iS(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){var t=e.Lo.values().next().value;e.Lo.delete(t);var n=new Wy(Ay.fromString(t)),r=e.Qo.next();e.Uo.set(r,new R_(n)),e.Bo=e.Bo.insert(n,r),Ix(e.remoteStore,new yb(Fm(Rm(n.path)),r,2,gy.I))}}function aS(e,t,n){return oS.apply(this,arguments)}function oS(){return oS=fn(dn().mark((function e(t,n,r){var i,a,o,s;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=oy(t),a=[],o=[],s=[],e.t0=i.Fo.isEmpty(),e.t0){e.next=9;break}return i.Fo.forEach((function(e,t){s.push(i.Go(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=kw.$n(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Oo.br(a),e.next=9,function(){var e=fn(dn().mark((function e(t,n){var r,i,a,o,s,u,c,l;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=oy(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return nb.forEach(n,(function(t){return nb.forEach(t.kn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return nb.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),sb(e.t0)){e.next=10;break}throw e.t0;case 10:ey("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Mn(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.qn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.qn=r.qn.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),oS.apply(this,arguments)}function sS(e,t){return uS.apply(this,arguments)}function uS(){return uS=fn(dn().mark((function e(t,n){var r,i;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=oy(t)).currentUser.isEqual(n)){e.next=11;break}return ey("SyncEngine","User change. New user:",n.toKey()),e.next=5,_w(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.jo.forEach((function(e){e.forEach((function(e){e.reject(new uy(sy.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,aS(r,i.Gn);case 11:case"end":return e.stop()}}),e)}))),uS.apply(this,arguments)}function cS(e,t){var n=oy(e),r=n.Uo.get(t);if(r&&r.$o)return Vg().add(r.key);var i=Vg(),a=n.Mo.get(t);if(!a)return i;var o,s=Mn(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.Fo.get(u);i=i.unionWith(c.view.bo)}}catch(l){s.e(l)}finally{s.f()}return i}function lS(e,t){return fS.apply(this,arguments)}function fS(){return fS=fn(dn().mark((function e(t,n){var r,i,a;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=oy(t),e.next=3,Nw(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ko(i),e.abrupt("return",(r.isPrimaryClient&&nS(r,n.targetId,a.Co),a));case 6:case"end":return e.stop()}}),e)}))),fS.apply(this,arguments)}function hS(e){return dS.apply(this,arguments)}function dS(){return dS=fn(dn().mark((function e(t){var n;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=oy(t),e.abrupt("return",Lw(n.localStore).then((function(e){return aS(n,e)})));case 2:case"end":return e.stop()}}),e)}))),dS.apply(this,arguments)}function pS(e,t,n,r){return vS.apply(this,arguments)}function vS(){return vS=fn(dn().mark((function e(t,n,r,i){var a,o;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=oy(t),e.next=3,function(e,t){var n=oy(e),r=oy(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Zt(e,t).next((function(t){return t?n.Wn.vn(e,t):nb.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Hx(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Z_(a,n,i||null),J_(a,n),function(e,t){oy(oy(e).An).ee(t)}(a.localStore,n)):iy();case 11:return e.next=13,aS(a,o);case 13:e.next=16;break;case 15:ey("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),vS.apply(this,arguments)}function yS(e,t){return mS.apply(this,arguments)}function mS(){return mS=fn(dn().mark((function e(t,n){var r,i,a,o,s,u,c,l;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(TS(r=oy(t)),IS(r),!0!==n||!0===r.Wo){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,gS(r,i.toArray());case 5:return a=e.sent,r.Wo=!0,e.next=9,i_(r.remoteStore,!0);case 9:o=Mn(a);try{for(o.s();!(s=o.n()).done;)u=s.value,Ix(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Wo){e.next=25;break}return c=[],l=Promise.resolve(),r.Mo.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return eS(r,t),Rw(r.localStore,t,!0)})),Cx(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,gS(r,c);case 21:return function(e){var t=oy(e);t.Uo.forEach((function(e,n){Cx(t.remoteStore,n)})),t.qo.hs(),t.Uo=new Map,t.Bo=new Og(Wy.comparator)}(r),r.Wo=!1,e.next=25,i_(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),mS.apply(this,arguments)}function gS(e,t,n){return kS.apply(this,arguments)}function kS(){return kS=fn(dn().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,y,m;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=oy(t),a=[],o=[],s=Mn(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.Mo.get(c))||0===f.length){e.next=34;break}return e.next=11,Aw(i.localStore,Fm(f[0]));case 11:l=e.sent,h=Mn(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Fo.get(p),e.next=20,lS(i,v);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Dw(i.localStore,c);case 36:return m=e.sent,e.next=39,Aw(i.localStore,m);case 39:return l=e.sent,e.next=42,L_(i,bS(m),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.Oo.br(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),kS.apply(this,arguments)}function bS(e){return Am(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function wS(e){var t=oy(e);return oy(oy(t.localStore).persistence).Tn()}function xS(e,t,n,r){return _S.apply(this,arguments)}function _S(){return _S=fn(dn().mark((function e(t,n,r,i){var a,o,s;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=oy(t)).Wo){e.next=5;break}ey("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Mo.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,Lw(a.localStore);case 11:return o=e.sent,s=Hg.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,aS(a,o,s);case 15:return e.abrupt("break",21);case 16:return e.next=18,Rw(a.localStore,n,!0);case 18:return eS(a,n,i),e.abrupt("break",21);case 20:iy();case 21:case"end":return e.stop()}}),e)}))),_S.apply(this,arguments)}function SS(e,t,n){return ES.apply(this,arguments)}function ES(){return ES=fn(dn().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=TS(t)).Wo){e.next=45;break}a=Mn(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.Mo.has(s)){e.next=10;break}return ey("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,Dw(i.localStore,s);case 12:return u=e.sent,e.next=15,Aw(i.localStore,u);case 15:return c=e.sent,e.next=18,L_(i,bS(u),c.targetId,!1);case 18:Ix(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Mn(r),e.prev=30,h=dn().mark((function e(){var t;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Mo.has(t),!e.t0){e.next=5;break}return e.next=5,Rw(i.localStore,t,!1).then((function(){Cx(i.remoteStore,t),eS(i,t)})).catch($b);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),ES.apply(this,arguments)}function TS(e){var t=oy(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=V_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cS.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=H_.bind(null,t),t.Oo.br=k_.bind(null,t.eventManager),t.Oo.zo=b_.bind(null,t.eventManager),t}function IS(e){var t=oy(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=K_.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Q_.bind(null,t),t}function CS(e,t,n){var r=oy(e);(function(){var e=fn(dn().mark((function e(t,n,r){var i,a,o,s,u;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=oy(e),r=ak(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ye.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(T_(i)),a=new E_(i,t.localStore,n.k),e.next=14,n.Ho();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.yo(o);case 18:return(s=e.sent)&&r._updateProgress(s),e.next=22,n.Ho();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return u=e.sent,e.next=30,aS(t,u.In,void 0);case 30:return e.next=32,function(e,t){var n=oy(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ye.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(u.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),ny("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var OS=function(){function e(){Rn(this,e),this.synchronizeTabs=!1}return Nn(e,[{key:"initialize",value:function(){var e=fn(dn().mark((function e(t){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.k=vx(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Xo",value:function(e){return null}},{key:"Zo",value:function(e){return xw(this.persistence,new bw,e.initialUser,this.k)}},{key:"Yo",value:function(e){return new $w(Xw.ks,this.k)}},{key:"Jo",value:function(e){return new sx}},{key:"terminate",value:function(){var e=fn(dn().mark((function e(){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),AS=function(e){Vn(n,e);var t=Kn(n);function n(e,r,i){var a;return Rn(this,n),(a=t.call(this)).ta=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Nn(n,[{key:"initialize",value:function(){var e=fn(dn().mark((function e(t){var r=this;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xi(qn(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,Mw(this.localStore);case 4:return e.next=6,this.ta.initialize(this,t);case 6:return e.next=8,IS(this.ta.syncEngine);case 8:return e.next=10,Hx(this.ta.remoteStore);case 10:return e.next=12,this.persistence.sn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Zo",value:function(e){return xw(this.persistence,new bw,e.initialUser,this.k)}},{key:"Xo",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Zb(t,e.asyncQueue)}},{key:"Yo",value:function(e){var t=yw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Mb.withCacheSize(this.cacheSizeBytes):Mb.DEFAULT;return new dw(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,dx(),px(),this.k,this.sharedClientState,!!this.forceOwnership)}},{key:"Jo",value:function(e){return new sx}}]),n}(OS),RS=function(e){Vn(n,e);var t=Kn(n);function n(e,r){var i;return Rn(this,n),(i=t.call(this,e,r,!1)).ta=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Nn(n,[{key:"initialize",value:function(){var e=fn(dn().mark((function e(t){var r,i=this;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xi(qn(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ta.syncEngine,e.t0=this.sharedClientState instanceof ox,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={mi:pS.bind(null,r),gi:xS.bind(null,r),yi:SS.bind(null,r),Tn:wS.bind(null,r),_i:hS.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.sn(function(){var e=fn(dn().mark((function e(t){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yS(i.ta.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Jo",value:function(e){var t=dx();if(!ox.Pt(t))throw new uy(sy.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=yw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ox(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(AS),PS=function(){function e(){Rn(this,e)}return Nn(e,[{key:"initialize",value:function(){var e=fn(dn().mark((function e(t,n){var r=this;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return B_(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=sS.bind(null,this.syncEngine),e.next=12,i_(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new p_}},{key:"createDatastore",value:function(e){var t,n=vx(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new hx(t));return function(e,t,n,r){return new bx(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return B_(o.syncEngine,e,0)},a=cx.Pt()?new cx:new ux,new xx(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new P_(e,t,n,r,i,a);return o&&(s.Wo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=fn(dn().mark((function e(t){var n;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=oy(t),ey("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),e.next=5,Ex(n);case 5:n.Hr.shutdown(),n.Jr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function NS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return fn(dn().mark((function r(){var i;return dn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return fn(dn().mark((function e(){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var DS=function(){function e(t){Rn(this,e),this.observer=t,this.muted=!1}return Nn(e,[{key:"next",value:function(e){this.observer.next&&this.ea(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"na",value:function(){this.muted=!0}},{key:"ea",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),LS=function(){function e(t,n){var r=this;Rn(this,e),this.sa=t,this.k=n,this.metadata=new cy,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then((function(e){e&&e._o()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Nn(e,[{key:"close",value:function(){return this.sa.cancel()}},{key:"getMetadata",value:function(){var e=fn(dn().mark((function e(){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){var e=fn(dn().mark((function e(){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.ra());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ra",value:function(){var e=fn(dn().mark((function e(){var t,n,r,i;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.oa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ia.decode(t),r=Number(n),isNaN(r)&&this.aa("length string (".concat(n,") is not valid number")),e.next=9,this.ca(r);case 9:return i=e.sent,e.abrupt("return",new __(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ua",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"oa",value:function(){var e=fn(dn().mark((function e(){var t,n;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.ua()<0)){e.next=7;break}return e.next=3,this.ha();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.ua())<0&&this.aa("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ca",value:function(){var e=fn(dn().mark((function e(t){var n;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.ha();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.aa("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ia.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"aa",value:function(e){throw this.sa.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"ha",value:function(){var e=fn(dn().mark((function e(){var t,n;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sa.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),MS=function(){function e(t){Rn(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Nn(e,[{key:"lookup",value:function(){var e=fn(dn().mark((function e(t){var n,r=this;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new uy(sy.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=fn(dn().mark((function e(t,n){var r,i,a,o,s,u;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=oy(t),i=hk(r.k)+"/documents",a={documents:n.map((function(e){return uk(r.k,e)}))},e.next=5,r.ji("BatchGetDocuments",i,a);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=yk(r.k,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());ay(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Sg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=fn(dn().mark((function e(){var t,n=this;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Wy.fromPath(t);n.mutations.push(new Eg(r,n.precondition(r)))})),e.next=7,function(){var e=fn(dn().mark((function e(t,n){var r,i,a;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=oy(t),i=hk(r.k)+"/documents",a={writes:n.map((function(e){return mk(r.k,e)}))},e.next=3,r.Bi("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw iy();t=Ey.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new uy(sy.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?cg.updateTime(t):cg.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ey.min()))throw new uy(sy.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cg.updateTime(t)}return cg.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),jS=function(){function e(t,n,r,i){Rn(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.la=5,this.ur=new yx(this.asyncQueue,"transaction_retry")}return Nn(e,[{key:"run",value:function(){this.la-=1,this.fa()}},{key:"fa",value:function(){var e=this;this.ur.Zi(fn(dn().mark((function t(){var n,r;return dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new MS(e.datastore),(r=e.da(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.wa(t)}))}))})).catch((function(t){e.wa(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"da",value:function(e){try{var t=this.updateFunction(e);return!qy(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"wa",value:function(e){var t=this;this.la>0&&this._a(e)?(this.la-=1,this.asyncQueue.enqueueAndForget((function(){return t.fa(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"_a",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Ig(t)}return!1}}]),e}(),FS=function(){function e(t,n,r,i){var a=this;Rn(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Yv.UNAUTHENTICATED,this.clientId=by.A(),this.authCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=fn(dn().mark((function e(t){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ey("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(){return Promise.resolve()}))}return Nn(e,[{key:"getConfiguration",value:function(){var e=fn(dn().mark((function e(){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new uy(sy.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new cy;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(fn(dn().mark((function n(){var r;return dn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=c_(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function US(e,t){return zS.apply(this,arguments)}function zS(){return zS=fn(dn().mark((function e(t,n){var r,i;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),ey("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=fn(dn().mark((function e(t){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,_w(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),zS.apply(this,arguments)}function VS(e,t){return qS.apply(this,arguments)}function qS(){return qS=fn(dn().mark((function e(t,n){var r,i;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,BS(t);case 3:return r=e.sent,ey("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return function(){var e=fn(dn().mark((function e(t,n){var r,i;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=oy(t)).asyncQueue.verifyOperationInProgress(),ey("RemoteStore","RemoteStore received new credentials"),i=Nx(r),r.Gr.add(3),e.next=6,Ex(r);case 6:return i&&r.Jr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Gr.delete(3),e.next=12,_x(r);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(n.remoteStore,e)})),t.onlineComponents=n;case 12:case"end":return e.stop()}}),e)}))),qS.apply(this,arguments)}function BS(e){return HS.apply(this,arguments)}function HS(){return HS=fn(dn().mark((function e(t){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return ey("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,US(t,new OS);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),HS.apply(this,arguments)}function WS(e){return KS.apply(this,arguments)}function KS(){return KS=fn(dn().mark((function e(t){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return ey("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,VS(t,new PS);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),KS.apply(this,arguments)}function GS(e){return BS(e).then((function(e){return e.persistence}))}function QS(e){return BS(e).then((function(e){return e.localStore}))}function $S(e){return WS(e).then((function(e){return e.remoteStore}))}function YS(e){return WS(e).then((function(e){return e.syncEngine}))}function XS(e){return JS.apply(this,arguments)}function JS(){return JS=fn(dn().mark((function e(t){var n,r;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,WS(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=N_.bind(null,n.syncEngine),r.onUnlisten=j_.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),JS.apply(this,arguments)}function ZS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new cy;return e.asyncQueue.enqueueAndForget(fn(dn().mark((function i(){return dn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new DS({next:function(a){t.enqueueAndForget((function(){return m_(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new uy(sy.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new uy(sy.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new x_(Rm(n.path),a,{includeMetadataChanges:!0,wo:!0});return v_(e,o)},i.next=3,XS(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function eE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new cy;return e.asyncQueue.enqueueAndForget(fn(dn().mark((function i(){return dn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new DS({next:function(n){t.enqueueAndForget((function(){return m_(e,o)})),n.fromCache&&"server"===r.source?i.reject(new uy(sy.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new x_(n,a,{includeMetadataChanges:!0,wo:!0});return v_(e,o)},i.next=3,XS(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var tE=Nn((function e(t,n,r,i,a,o,s,u){Rn(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),nE=function(){function e(t,n){Rn(this,e),this.projectId=t,this.database=n||"(default)"}return Nn(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),rE=new Map;function iE(e,t,n){if(!n)throw new uy(sy.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function aE(e,t,n,r){if(!0===t&&!0===r)throw new uy(sy.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function oE(e){if(!Wy.isDocumentKey(e))throw new uy(sy.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function sE(e){if(Wy.isDocumentKey(e))throw new uy(sy.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function uE(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":iy()}function cE(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new uy(sy.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=uE(e);throw new uy(sy.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function lE(e,t){if(t<=0)throw new uy(sy.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var fE=function(){function e(t){var n;if(Rn(this,e),void 0===t.host){if(void 0!==t.ssl)throw new uy(sy.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new uy(sy.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,aE("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Nn(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),hE=function(){function e(t,n,r){Rn(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fE({}),this._settingsFrozen=!1,t instanceof nE?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new uy(sy.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nE(e.options.projectId)}(t))}return Nn(e,[{key:"app",get:function(){if(!this._app)throw new uy(sy.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new uy(sy.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fE(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new fy;switch(e.type){case"gapi":var t=e.client;return ay(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new vy(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new uy(sy.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=rE.get(e);t&&(ey("ComponentProvider","Removing Datastore"),rE.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function dE(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=cE(e,hE))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&ny("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=Yv.MOCK_USER;else{o=nr(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new uy(sy.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Yv(u)}e._authCredentials=new hy(new ly(o,s))}}var pE=function(){function e(t,n,r){Rn(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Nn(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new yE(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),vE=function(){function e(t,n,r){Rn(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Nn(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),yE=function(e){Vn(n,e);var t=Kn(n);function n(e,r,i){var a;return Rn(this,n),(a=t.call(this,e,r,Rm(i)))._path=i,a.type="collection",a}return Nn(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new pE(this.firestore,null,new Wy(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(vE);function mE(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=_r(e),iE("collection","path",t),e instanceof hE){var a=Ay.fromString.apply(Ay,[t].concat(r));return sE(a),new yE(e,null,a)}if(!(e instanceof pE||e instanceof yE))throw new uy(sy.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Ay.fromString.apply(Ay,[t].concat(r)));return sE(o),new yE(e.firestore,null,o)}function gE(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=_r(e),1===arguments.length&&(t=by.A()),iE("doc","path",t),e instanceof hE){var a=Ay.fromString.apply(Ay,[t].concat(r));return oE(a),new pE(e,null,new Wy(a))}if(!(e instanceof pE||e instanceof yE))throw new uy(sy.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Ay.fromString.apply(Ay,[t].concat(r)));return oE(o),new pE(e.firestore,e instanceof yE?e.converter:null,new Wy(o))}function kE(e,t){return e=_r(e),t=_r(t),(e instanceof pE||e instanceof yE)&&(t instanceof pE||t instanceof yE)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function bE(e,t){return e=_r(e),t=_r(t),e instanceof vE&&t instanceof vE&&e.firestore===t.firestore&&zm(e._query,t._query)&&e.converter===t.converter}var wE=function(){function e(){var t=this;Rn(this,e),this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new yx(this,"async_queue_retry"),this.Ra=function(){var e=px();e&&ey("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ur.er()};var n=px();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ra)}return Nn(e,[{key:"isShuttingDown",get:function(){return this.ya}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.ba(),this.Pa(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;var t=px();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}},{key:"enqueue",value:function(e){var t=this;if(this.ba(),this.ya)return new Promise((function(){}));var n=new cy;return this.Pa((function(){return t.ya&&t.Ia?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ga.push(e),t.va()}))}},{key:"va",value:function(){var e=fn(dn().mark((function e(){var t=this;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ga.length){e.next=14;break}return e.prev=1,e.next=4,this.ga[0]();case 4:this.ga.shift(),this.ur.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),sb(e.t0)){e.next=12;break}throw e.t0;case 12:ey("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ga.length>0&&this.ur.Zi((function(){return t.va()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Pa",value:function(e){var t=this,n=this.ma.then((function(){return t.Ea=!0,e().catch((function(e){t.Ta=e,t.Ea=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ty("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ea=!1,e}))}));return this.ma=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.ba(),this.Aa.indexOf(e)>-1&&(t=0);var i=u_.createAndSchedule(this,e,t,n,(function(e){return r.Va(e)}));return this.pa.push(i),i}},{key:"ba",value:function(){this.Ta&&iy()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Sa",value:function(){var e=fn(dn().mark((function e(){var t;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.ma,e.next=3,t;case 3:if(t!==this.ma){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Da",value:function(e){var t,n=Mn(this.pa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Ca",value:function(e){var t=this;return this.Sa().then((function(){t.pa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Mn(t.pa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Sa()}))}},{key:"Na",value:function(e){this.Aa.push(e)}},{key:"Va",value:function(e){var t=this.pa.indexOf(e);this.pa.splice(t,1)}}]),e}();function xE(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Mn(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var _E=function(){function e(){Rn(this,e),this._progressObserver={},this._taskCompletionResolver=new cy,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Nn(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),SE=function(e){Vn(n,e);var t=Kn(n);function n(e,r,i){var a;return Rn(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new wE,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Nn(n,[{key:"_terminate",value:function(){return this._firestoreClient||TE(this),this._firestoreClient.terminate()}}]),n}(hE);function EE(e){return e._firestoreClient||TE(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function TE(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new tE(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new FS(e._authCredentials,e._appCheckCredentials,e._queue,r)}function IE(e,t,n){var r=new cy;return e.asyncQueue.enqueue(fn(dn().mark((function i(){return dn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,US(e,n);case 3:return i.next=5,VS(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===sy.FAILED_PRECONDITION||e.code===sy.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function CE(e){return function(e){return e.asyncQueue.enqueue(fn(dn().mark((function t(){var n,r;return dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,GS(e);case 2:return n=t.sent,t.next=5,$S(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=oy(e);return t.Gr.delete(0),_x(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(EE(e=cE(e,SE)))}function OE(e){return function(e){return e.asyncQueue.enqueue(fn(dn().mark((function t(){var n,r;return dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,GS(e);case 2:return n=t.sent,t.next=5,$S(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=fn(dn().mark((function e(t){var n;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=oy(t)).Gr.add(0),e.next=4,Ex(n);case 4:n.Jr.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(EE(e=cE(e,SE)))}function AE(e,t){var n=EE(e=cE(e,SE)),r=new _E;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new LS(e,t)}(function(e,t){if(e instanceof Uint8Array)return NS(e,t);if(e instanceof ArrayBuffer)return NS(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,vx(t));e.asyncQueue.enqueueAndForget(fn(dn().mark((function t(){return dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=CS,t.next=3,YS(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function RE(e,t){return function(e,t){return e.asyncQueue.enqueue(fn(dn().mark((function n(){return dn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=oy(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ye.getNamedQuery(e,t)}))},n.next=3,QS(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(EE(e=cE(e,SE)),t).then((function(t){return t?new vE(e,null,t.query):null}))}function PE(e){if(e._initialized||e._terminated)throw new uy(sy.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var NE=function(){function e(){Rn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new uy(sy.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Py(n)}return Nn(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var DE=function(){function e(t){Rn(this,e),this._byteString=t}return Nn(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Dy.fromBase64String(t))}catch(t){throw new uy(sy.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Dy.fromUint8Array(t))}}]),e}(),LE=Nn((function e(t){Rn(this,e),this._methodName=t})),ME=function(){function e(t,n){if(Rn(this,e),!isFinite(t)||t<-90||t>90)throw new uy(sy.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new uy(sy.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Nn(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return wy(this._lat,e._lat)||wy(this._long,e._long)}}]),e}(),jE=/^__.*__$/,FE=function(){function e(t,n,r){Rn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Nn(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new gg(e,this.data,this.fieldMask,t,this.fieldTransforms):new mg(e,this.data,t,this.fieldTransforms)}}]),e}(),UE=function(){function e(t,n,r){Rn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Nn(e,[{key:"toMutation",value:function(e,t){return new gg(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function zE(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw iy()}}var VE=function(){function e(t,n,r,i,a,o){Rn(this,e),this.settings=t,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ka(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Nn(e,[{key:"path",get:function(){return this.settings.path}},{key:"xa",get:function(){return this.settings.xa}},{key:"$a",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Oa",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Fa:!1});return r.Ma(e),r}},{key:"La",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Fa:!1});return r.ka(),r}},{key:"Ba",value:function(e){return this.$a({path:void 0,Fa:!0})}},{key:"Ua",value:function(e){return sT(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ka",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}},{key:"Ma",value:function(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(zE(this.xa)&&jE.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}]),e}(),qE=function(){function e(t,n,r){Rn(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.k=r||vx(t)}return Nn(e,[{key:"ja",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new VE({xa:e,methodName:t,Ka:n,path:Py.emptyPath(),Fa:!1,qa:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}]),e}();function BE(e){var t=e._freezeSettings(),n=vx(e._databaseId);return new qE(e._databaseId,!!t.ignoreUndefinedProperties,n)}function HE(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ja(a.merge||a.mergeFields?2:0,t,n,i);rT("Data must be an object, but it was:",o,r);var s,u,c=tT(r,o);if(a.merge)s=new Ny(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Mn(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=iT(t,d,n);if(!o.contains(p))throw new uy(sy.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));uT(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new Ny(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new FE(new om(c),s,u)}var WE=function(e){Vn(n,e);var t=Kn(n);function n(){return Rn(this,n),t.apply(this,arguments)}return Nn(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.xa)throw 1===e.xa?e.Ua("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Ua("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(LE);function KE(e,t,n){return new VE({xa:3,Ka:t.settings.Ka,methodName:e._methodName,Fa:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}var GE=function(e){Vn(n,e);var t=Kn(n);function n(){return Rn(this,n),t.apply(this,arguments)}return Nn(n,[{key:"_toFieldTransform",value:function(e){return new sg(e.path,new Zm)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(LE),QE=function(e){Vn(n,e);var t=Kn(n);function n(e,r){var i;return Rn(this,n),(i=t.call(this,e)).Qa=r,i}return Nn(n,[{key:"_toFieldTransform",value:function(e){var t=KE(this,e,!0),n=this.Qa.map((function(e){return eT(e,t)})),r=new eg(n);return new sg(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(LE),$E=function(e){Vn(n,e);var t=Kn(n);function n(e,r){var i;return Rn(this,n),(i=t.call(this,e)).Qa=r,i}return Nn(n,[{key:"_toFieldTransform",value:function(e){var t=KE(this,e,!0),n=this.Qa.map((function(e){return eT(e,t)})),r=new ng(n);return new sg(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(LE),YE=function(e){Vn(n,e);var t=Kn(n);function n(e,r){var i;return Rn(this,n),(i=t.call(this,e)).Wa=r,i}return Nn(n,[{key:"_toFieldTransform",value:function(e){var t=new ig(e.k,Qm(e.k,this.Wa));return new sg(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(LE);function XE(e,t,n,r){var i=e.ja(1,t,n);rT("Data must be an object, but it was:",i,r);var a=[],o=om.empty();Iy(r,(function(e,r){var s=oT(t,e,n);r=_r(r);var u=i.La(s);if(r instanceof WE)a.push(s);else{var c=eT(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new Ny(a);return new UE(o,s,i.fieldTransforms)}function JE(e,t,n,r,i,a){var o=e.ja(1,t,n),s=[iT(t,r,n)],u=[i];if(a.length%2!=0)throw new uy(sy.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(iT(t,a[c])),u.push(a[c+1]);for(var l=[],f=om.empty(),h=s.length-1;h>=0;--h)if(!uT(l,s[h])){var d=s[h],p=u[h];p=_r(p);var v=o.La(d);if(p instanceof WE)l.push(d);else{var y=eT(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new Ny(l);return new UE(f,m,o.fieldTransforms)}function ZE(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return eT(n,e.ja(r?4:3,t))}function eT(e,t){if(nT(e=_r(e)))return rT("Unsupported field value:",t,e),tT(e,t);if(e instanceof LE)return function(e,t){if(!zE(t.xa))throw t.Ua("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Ua("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fa&&4!==t.xa)throw t.Ua("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Mn(e);try{for(a.s();!(n=a.n()).done;){var o=eT(n.value,t.Ba(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=_r(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Qm(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Sy.fromDate(e);return{timestampValue:nk(t.k,n)}}if(e instanceof Sy){var r=new Sy(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:nk(t.k,r)}}if(e instanceof ME)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof DE)return{bytesValue:rk(t.k,e._byteString)};if(e instanceof pE){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Ua("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:ok(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ua("Unsupported field value: ".concat(uE(e)))}(e,t)}function tT(e,t){var n={};return Cy(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Iy(e,(function(e,r){var i=eT(r,t.Oa(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function nT(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Sy||e instanceof ME||e instanceof DE||e instanceof pE||e instanceof LE)}function rT(e,t,n){if(!nT(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=uE(n);throw"an object"===r?t.Ua(e+" a custom object"):t.Ua(e+" "+r)}}function iT(e,t,n){if((t=_r(t))instanceof NE)return t._internalPath;if("string"==typeof t)return oT(e,t);throw sT("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var aT=new RegExp("[~\\*/\\[\\]]");function oT(e,t,n){if(t.search(aT)>=0)throw sT("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Gn(NE,Er(t.split(".")))._internalPath}catch(r){throw sT("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function sT(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new uy(sy.INVALID_ARGUMENT,s+e+u)}function uT(e,t){return e.some((function(e){return e.isEqual(t)}))}var cT=function(){function e(t,n,r,i,a){Rn(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Nn(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new pE(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new lT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(fT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),lT=function(e){Vn(n,e);var t=Kn(n);function n(){return Rn(this,n),t.apply(this,arguments)}return Nn(n,[{key:"data",value:function(){return xi(qn(n.prototype),"data",this).call(this)}}]),n}(cT);function fT(e,t){return"string"==typeof t?oT(e,t):t instanceof NE?t._internalPath:t._delegate._internalPath}var hT=function(){function e(t,n){Rn(this,e),this.hasPendingWrites=t,this.fromCache=n}return Nn(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),dT=function(e){Vn(n,e);var t=Kn(n);function n(e,r,i,a,o,s){var u;return Rn(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return Nn(n,[{key:"exists",value:function(){return xi(qn(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new pT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(fT("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(cT),pT=function(e){Vn(n,e);var t=Kn(n);function n(){return Rn(this,n),t.apply(this,arguments)}return Nn(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return xi(qn(n.prototype),"data",this).call(this,e)}}]),n}(dT),vT=function(){function e(t,n,r,i){Rn(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new hT(i.hasPendingWrites,i.fromCache),this.query=r}return Nn(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new pT(n._firestore,n._userDataWriter,r.key,r,new hT(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new uy(sy.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new pT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new hT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new pT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new hT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:yT(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function yT(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return iy()}}function mT(e,t){return e instanceof dT&&t instanceof dT?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof vT&&t instanceof vT&&e._firestore===t._firestore&&bE(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function gT(e){if(Nm(e)&&0===e.explicitOrderBy.length)throw new uy(sy.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var kT=Nn((function e(){Rn(this,e)}));function bT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var wT=function(e){Vn(n,e);var t=Kn(n);function n(e,r,i){var a;return Rn(this,n),(a=t.call(this)).Ga=e,a.za=r,a.Ha=i,a.type="where",a}return Nn(n,[{key:"_apply",value:function(e){var t=BE(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new uy(sy.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on FieldPath.documentId()."));if("in"===a||"not-in"===a){PT(o,a);var u,c=[],l=Mn(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(RT(r,e,f))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=RT(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||PT(o,a),s=ZE(n,"where",o,"in"===a||"not-in"===a);var h=pm.create(i,a,s);return function(e,t){if(t.V()){var n=Lm(e);if(null!==n&&!n.isEqual(t.field))throw new uy(sy.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Dm(e);null!==r&&NT(e,t.field,r)}var i=function(e,t){var n,r=Mn(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new uy(sy.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new uy(sy.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new vE(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Om(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(kT);var xT=function(e){Vn(n,e);var t=Kn(n);function n(e,r){var i;return Rn(this,n),(i=t.call(this)).Ga=e,i.Ja=r,i.type="orderBy",i}return Nn(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new uy(sy.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new uy(sy.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Em(t,n);return function(e,t){if(null===Dm(e)){var n=Lm(e);null!==n&&NT(e,n,t.field)}}(e,r),r}(e._query,this.Ga,this.Ja);return new vE(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Om(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(kT);var _T=function(e){Vn(n,e);var t=Kn(n);function n(e,r,i){var a;return Rn(this,n),(a=t.call(this)).type=e,a.Ya=r,a.Xa=i,a}return Nn(n,[{key:"_apply",value:function(e){return new vE(e.firestore,e.converter,Um(e._query,this.Ya,this.Xa))}}]),n}(kT);var ST=function(e){Vn(n,e);var t=Kn(n);function n(e,r,i){var a;return Rn(this,n),(a=t.call(this)).type=e,a.Za=r,a.tc=i,a}return Nn(n,[{key:"_apply",value:function(e){var t=AT(e,this.type,this.Za,this.tc);return new vE(e.firestore,e.converter,function(e,t){return new Om(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(kT);function ET(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ST("startAt",t,!0)}function TT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ST("startAfter",t,!1)}var IT=function(e){Vn(n,e);var t=Kn(n);function n(e,r,i){var a;return Rn(this,n),(a=t.call(this)).type=e,a.Za=r,a.tc=i,a}return Nn(n,[{key:"_apply",value:function(e){var t=AT(e,this.type,this.Za,this.tc);return new vE(e.firestore,e.converter,function(e,t){return new Om(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(kT);function CT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new IT("endBefore",t,!0)}function OT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new IT("endAt",t,!1)}function AT(e,t,n,r){if(n[0]=_r(n[0]),n[0]instanceof cT)return function(e,t,n,r,i){if(!r)throw new uy(sy.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=Mn(jm(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(Zy(t,r.key));else{var c=r.data.field(u.field);if(Uy(c))throw new uy(sy.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new uy(sy.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new _m(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=BE(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new uy(sy.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new uy(sy.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Mm(e)&&-1!==c.indexOf("/"))throw new uy(sy.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Ay.fromString(c));if(!Wy.isDocumentKey(l))throw new uy(sy.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Wy(l);s.push(Zy(t,f))}else{var h=ZE(n,r,c);s.push(h)}}return new _m(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function RT(e,t,n){if("string"==typeof(n=_r(n))){if(""===n)throw new uy(sy.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mm(t)&&-1!==n.indexOf("/"))throw new uy(sy.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Ay.fromString(n));if(!Wy.isDocumentKey(r))throw new uy(sy.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Zy(e,new Wy(r))}if(n instanceof pE)return Zy(e,n._key);throw new uy(sy.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(uE(n),"."))}function PT(e,t){if(!Array.isArray(e)||0===e.length)throw new uy(sy.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new uy(sy.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function NT(e,t,n){if(!n.isEqual(t))throw new uy(sy.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var DT=function(){function e(){Rn(this,e)}return Nn(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ky(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jy(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Fy(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw iy()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Iy(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new ME(jy(e.latitude),jy(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=zy(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Vy(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=My(e);return new Sy(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Ay.fromString(e);ay(Pk(n));var r=new nE(n.get(1),n.get(3)),i=new Wy(n.popFirst(5));return r.isEqual(t)||ty("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function LT(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var MT=function(e){Vn(n,e);var t=Kn(n);function n(e){var r;return Rn(this,n),(r=t.call(this)).firestore=e,r}return Nn(n,[{key:"convertBytes",value:function(e){return new DE(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new pE(this.firestore,null,t)}}]),n}(DT),jT=function(){function e(t,n){Rn(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=BE(t)}return Nn(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=FT(e,this._firestore),i=LT(r.converter,t,n),a=HE(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,cg.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=FT(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=_r(t))||t instanceof NE?JE(this._dataReader,"WriteBatch.update",i._key,t,n,o):XE(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,cg.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=FT(e,this._firestore);return this._mutations=this._mutations.concat(new Sg(t._key,cg.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new uy(sy.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function FT(e,t){if((e=_r(e)).firestore!==t)throw new uy(sy.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var UT=function(e){Vn(n,e);var t=Kn(n);function n(e){var r;return Rn(this,n),(r=t.call(this)).firestore=e,r}return Nn(n,[{key:"convertBytes",value:function(e){return new DE(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new pE(this.firestore,null,t)}}]),n}(DT);function zT(e){e=cE(e,pE);var t=cE(e.firestore,SE),n=EE(t),r=new UT(t);return function(e,t){var n=new cy;return e.asyncQueue.enqueueAndForget(fn(dn().mark((function r(){return dn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=fn(dn().mark((function e(t,n,r){var i,a;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=oy(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Wn.Rn(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new uy(sy.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=c_(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,QS(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new dT(t,r,e._key,n,new hT(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function VT(e){e=cE(e,vE);var t=cE(e.firestore,SE),n=EE(t),r=new UT(t);return function(e,t){var n=new cy;return e.asyncQueue.enqueueAndForget(fn(dn().mark((function r(){return dn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=fn(dn().mark((function e(t,n,r){var i,a,o,s,u;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Nw(t,n,!0);case 3:i=e.sent,a=new O_(n,i.zn),o=a.Po(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=c_(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,QS(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new vT(t,r,e,n)}))}function qT(e,t,n){e=cE(e,pE);var r=cE(e.firestore,SE),i=LT(e.converter,t,n);return KT(r,[HE(BE(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,cg.none())])}function BT(e,t,n){e=cE(e,pE);for(var r=cE(e.firestore,SE),i=BE(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return KT(r,[("string"==typeof(t=_r(t))||t instanceof NE?JE(i,"updateDoc",e._key,t,n,o):XE(i,"updateDoc",e._key,t)).toMutation(e._key,cg.exists(!0))])}function HT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=_r(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||xE(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(xE(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof pE)l=cE(e.firestore,SE),f=Rm(e._key.path),c={next:function(t){n[u]&&n[u](GT(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=cE(e,vE);l=cE(p.firestore,SE),f=p._query;var v=new UT(l);c={next:function(e){n[u]&&n[u](new vT(l,v,p,e))},error:n[u+1],complete:n[u+2]},gT(e._query)}return function(e,t,n,r){var i=new DS(r),a=new x_(t,i,n);return e.asyncQueue.enqueueAndForget(fn(dn().mark((function t(){return dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=v_,t.next=3,XS(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.na(),e.asyncQueue.enqueueAndForget(fn(dn().mark((function t(){return dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=m_,t.next=3,XS(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(EE(l),f,h,c)}function WT(e,t){return function(e,t){var n=new DS(t);return e.asyncQueue.enqueueAndForget(fn(dn().mark((function t(){return dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){oy(e).io.add(t),t.next()},t.next=3,XS(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.na(),e.asyncQueue.enqueueAndForget(fn(dn().mark((function t(){return dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){oy(e).io.delete(t)},t.next=3,XS(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(EE(e=cE(e,SE)),xE(t)?t:{next:t})}function KT(e,t){return function(e,t){var n=new cy;return e.asyncQueue.enqueueAndForget(fn(dn().mark((function r(){return dn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=U_,r.next=3,YS(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(EE(e),t)}function GT(e,t,n){var r=n.docs.get(t._key),i=new UT(e);return new dT(e,i,t._key,r,new hT(n.hasPendingWrites,n.fromCache),t.converter)}var QT=function(e){Vn(n,e);var t=Kn(n);function n(e,r){var i;return Rn(this,n),(i=t.call(this,e,r))._firestore=e,i}return Nn(n,[{key:"get",value:function(e){var t=this,r=FT(e,this._firestore),i=new UT(this._firestore);return xi(qn(n.prototype),"get",this).call(this,e).then((function(e){return new dT(t._firestore,i,r._key,e._document,new hT(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Rn(this,e),this._firestore=t,this._transaction=n,this._dataReader=BE(t)}return Nn(e,[{key:"get",value:function(e){var t=this,n=FT(e,this._firestore),r=new MT(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return iy();var i=e[0];if(i.isFoundDocument())return new cT(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new cT(t._firestore,r,n._key,null,n.converter);throw iy()}))}},{key:"set",value:function(e,t,n){var r=FT(e,this._firestore),i=LT(r.converter,t,n),a=HE(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=FT(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=_r(t))||t instanceof NE?JE(this._dataReader,"Transaction.update",i._key,t,n,o):XE(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=FT(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function $T(e,t){return function(e,t){var n=new cy;return e.asyncQueue.enqueueAndForget(fn(dn().mark((function r(){var i;return dn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return WS(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new jS(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(EE(e=cE(e,SE)),(function(n){return t(new QT(e,n))}))}function YT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new QE("arrayUnion",t)}function XT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new $E("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Xv=e}(ai),Yr(new Tr("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new SE(i,new dy(e.getProvider("auth-internal")),new my(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),fi($v,"3.4.2",e),fi($v,"3.4.2","esm2017")}();function JT(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new uy("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function ZT(){if("undefined"===typeof Uint8Array)throw new uy("unimplemented","Uint8Arrays are not available in this environment.")}function eI(){if("undefined"==typeof atob)throw new uy("unimplemented","Blobs are unavailable in Firestore in this environment.")}var tI=function(){function e(t){Rn(this,e),this._delegate=t}return Nn(e,[{key:"toBase64",value:function(){return eI(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return ZT(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return eI(),new e(DE.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return ZT(),new e(DE.fromUint8Array(t))}}]),e}();function nI(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Mn(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var rI=function(){function e(){Rn(this,e)}return Nn(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){PE(e=cE(e,SE));var n=EE(e),r=e._freezeSettings(),i=new PS;return IE(n,i,new AS(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){PE(e=cE(e,SE));var t=EE(e),n=e._freezeSettings(),r=new PS;return IE(t,r,new RS(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new uy(sy.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new cy;return e._queue.enqueueAndForgetEvenWhileRestricted(fn(dn().mark((function n(){return dn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=fn(dn().mark((function e(t){var n;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ib.Pt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,ib.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(yw(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),iI=function(){function e(t,n,r){var i=this;Rn(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof nE||(this._appCompat=t)}return Nn(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||ny("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};dE(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return CE(this._delegate)}},{key:"disableNetwork",value:function(){return OE(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&aE("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new cy;return e.asyncQueue.enqueueAndForget(fn(dn().mark((function n(){return dn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Y_,n.next=3,YS(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(EE(e=cE(e,SE)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return WT(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new uy("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new gI(this,mE(this._delegate,e))}catch(t){throw lI(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new cI(this,gE(this._delegate,e))}catch(t){throw lI(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new vI(this,function(e,t){if(e=cE(e,hE),iE("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new uy(sy.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new vE(e,null,function(e){return new Om(Ay.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw lI(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return $T(this._delegate,(function(n){return e(new oI(t,n))}))}},{key:"batch",value:function(){var e=this;return EE(this._delegate),new sI(new jT(this._delegate,(function(t){return KT(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return AE(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return RE(this._delegate,e).then((function(e){return e?new vI(t,e):null}))}}]),e}(),aI=function(e){Vn(n,e);var t=Kn(n);function n(e){var r;return Rn(this,n),(r=t.call(this)).firestore=e,r}return Nn(n,[{key:"convertBytes",value:function(e){return new tI(new DE(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return cI.forKey(t,this.firestore,null)}}]),n}(DT);var oI=function(){function e(t,n){Rn(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new aI(t)}return Nn(e,[{key:"get",value:function(e){var t=this,n=kI(e);return this._delegate.get(n).then((function(e){return new dI(t._firestore,new dT(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=kI(e);return n?(JT("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=kI(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=kI(e);return this._delegate.delete(t),this}}]),e}(),sI=function(){function e(t){Rn(this,e),this._delegate=t}return Nn(e,[{key:"set",value:function(e,t,n){var r=kI(e);return n?(JT("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=kI(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=kI(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),uI=function(){function e(t,n,r){Rn(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Nn(e,[{key:"fromFirestore",value:function(e,t){var n=new pT(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new pI(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new aI(t),n),i.set(n,a)),a}}]),e}();uI.INSTANCES=new WeakMap;var cI=function(){function e(t,n){Rn(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new aI(t)}return Nn(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new gI(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new gI(this.firestore,mE(this._delegate,e))}catch(t){throw lI(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=_r(e))instanceof pE&&kE(this._delegate,e)}},{key:"set",value:function(e,t){t=JT("DocumentReference.set",t);try{return t?qT(this._delegate,e,t):qT(this._delegate,e)}catch(n){throw lI(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?BT(this._delegate,e):BT.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw lI(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return KT(cE(e.firestore,SE),[new Sg(e._key,cg.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=fI(n),a=hI(n,(function(t){return new dI(e.firestore,new dT(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return HT(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?zT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=cE(e,pE);var t=cE(e.firestore,SE);return ZS(EE(t),e._key,{source:"server"}).then((function(n){return GT(t,e,n)}))}(this._delegate):function(e){e=cE(e,pE);var t=cE(e.firestore,SE);return ZS(EE(t),e._key).then((function(n){return GT(t,e,n)}))}(this._delegate),t.then((function(e){return new dI(n.firestore,new dT(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(uI.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new uy("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new pE(n._delegate,r,new Wy(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new pE(n._delegate,r,t))}}]),e}();function lI(e,t,n){return e.message=e.message.replace(t,n),e}function fI(e){var t,n=Mn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!nI(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function hI(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=nI(e[0])?e[0]:nI(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var dI=function(){function e(t,n){Rn(this,e),this._firestore=t,this._delegate=n}return Nn(e,[{key:"ref",get:function(){return new cI(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return mT(this._delegate,e._delegate)}}]),e}(),pI=function(e){Vn(n,e);var t=Kn(n);function n(){return Rn(this,n),t.apply(this,arguments)}return Nn(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||iy()}(void 0!==t),t}}]),n}(dI),vI=function(){function e(t,n){Rn(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new aI(t)}return Nn(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,bT(this._delegate,function(e,t,n){var r=t,i=fT("where",e);return new wT(i,r,n)}(t,n,r)))}catch(i){throw lI(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,bT(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=fT("orderBy",e);return new xT(n,t)}(t,n)))}catch(r){throw lI(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,bT(this._delegate,function(e){return lE("limit",e),new _T("limit",e,"F")}(t)))}catch(n){throw lI(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,bT(this._delegate,function(e){return lE("limitToLast",e),new _T("limitToLast",e,"L")}(t)))}catch(n){throw lI(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,bT(this._delegate,ET.apply(void 0,arguments)))}catch(t){throw lI(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,bT(this._delegate,TT.apply(void 0,arguments)))}catch(t){throw lI(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,bT(this._delegate,CT.apply(void 0,arguments)))}catch(t){throw lI(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,bT(this._delegate,OT.apply(void 0,arguments)))}catch(t){throw lI(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return bE(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?VT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=cE(e,vE);var t=cE(e.firestore,SE),n=EE(t),r=new UT(t);return eE(n,e._query,{source:"server"}).then((function(n){return new vT(t,r,e,n)}))}(this._delegate):function(e){e=cE(e,vE);var t=cE(e.firestore,SE),n=EE(t),r=new UT(t);return gT(e._query),eE(n,e._query).then((function(n){return new vT(t,r,e,n)}))}(this._delegate),t.then((function(e){return new mI(n.firestore,new vT(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=fI(n),a=hI(n,(function(t){return new mI(e.firestore,new vT(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return HT(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(uI.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),yI=function(){function e(t,n){Rn(this,e),this._firestore=t,this._delegate=n}return Nn(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new pI(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),mI=function(){function e(t,n){Rn(this,e),this._firestore=t,this._delegate=n}return Nn(e,[{key:"query",get:function(){return new vI(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new pI(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new yI(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new pI(n._firestore,r))}))}},{key:"isEqual",value:function(e){return mT(this._delegate,e._delegate)}}]),e}(),gI=function(e){Vn(n,e);var t=Kn(n);function n(e,r){var i;return Rn(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Nn(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new cI(this.firestore,e):null}},{key:"doc",value:function(e){try{return new cI(this.firestore,void 0===e?gE(this._delegate):gE(this._delegate,e))}catch(t){throw lI(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=cE(e.firestore,SE),r=gE(e),i=LT(e.converter,t);return KT(n,[HE(BE(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,cg.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new cI(t.firestore,e)}))}},{key:"isEqual",value:function(e){return kE(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(uI.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(vI);function kI(e){return cE(e,pE)}var bI=function(){function e(){Rn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Gn(NE,n)}return Nn(e,[{key:"isEqual",value:function(e){return(e=_r(e))instanceof NE&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Py.keyField().canonicalString())}}]),e}(),wI=function(){function e(t){Rn(this,e),this._delegate=t}return Nn(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new GE("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new WE("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=YT.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=XT.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new YE("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),xI={Firestore:iI,GeoPoint:ME,Timestamp:Sy,Blob:tI,Transaction:oI,WriteBatch:sI,DocumentReference:cI,DocumentSnapshot:dI,Query:vI,QueryDocumentSnapshot:pI,QuerySnapshot:mI,CollectionReference:gI,FieldPath:bI,FieldValue:wI,setLogLevel:function(e){!function(e){Jv.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Tr("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},xI)))}(e,(function(e,t){return new iI(e,t,new rI)})),e.registerVersion("@firebase/firestore-compat","0.1.11")}(bi);var _I="firebasestorage.googleapis.com",SI=function(e){Vn(n,e);var t=Kn(n);function n(e,r){var i;return Rn(this,n),(i=t.call(this,EI(e),"Firebase Storage: ".concat(r," (").concat(EI(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(zn(i),n.prototype),i}return Nn(n,[{key:"_codeEquals",value:function(e){return EI(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(lr);function EI(e){return"storage/"+e}function TI(){return new SI("unknown","An unknown error occurred, please check the error payload for server response.")}function II(){return new SI("canceled","User canceled the upload/download.")}function CI(){return new SI("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function OI(e){return new SI("invalid-argument",e)}function AI(){return new SI("app-deleted","The Firebase app was deleted.")}function RI(e){return new SI("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function PI(e,t){return new SI("invalid-format","String does not match format '"+e+"': "+t)}function NI(e){throw new SI("internal-error","Internal error: "+e)}var DI,LI=function(){function e(t,n){Rn(this,e),this.bucket=t,this.path_=n}return Nn(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new SI("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===_I?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new SI("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),MI=function(){function e(t){Rn(this,e),this.promise_=Promise.reject(t)}return Nn(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function jI(e){return"string"===typeof e||e instanceof String}function FI(e){return UI()&&e instanceof Blob}function UI(){return"undefined"!==typeof Blob}function zI(e,t,n,r){if(r<t)throw OI("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw OI("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function VI(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function qI(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(DI||(DI={}));var BI=function(){function e(t,n,r,i,a,o,s,u,c,l,f){var h=this;Rn(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return Nn(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=TI();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?AI():II());else i(new SI("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new HI(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new HI(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===DI.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new HI(o,r))}else{var s=r.getErrorCode()===DI.ABORT;t(!1,new HI(!1,null,s))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),HI=Nn((function e(t,n,r){Rn(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function WI(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function KI(){for(var e=WI(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(UI())return new Blob(n);throw new SI("unsupported-environment","This browser doesn't seem to support creating Blobs")}var GI={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},QI=Nn((function e(t,n){Rn(this,e),this.data=t,this.contentType=n||null}));function $I(e,t){switch(e){case GI.RAW:return new QI(YI(t));case GI.BASE64:case GI.BASE64URL:return new QI(XI(e,t));case GI.DATA_URL:return new QI(function(e){var t=new JI(e);return t.base64?XI(GI.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw PI(GI.DATA_URL,"Malformed data URL.")}return YI(t)}(t.rest)}(t),new JI(t).contentType)}throw TI()}function YI(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function XI(e,t){switch(e){case GI.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw PI(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case GI.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw PI(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw PI(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var JI=Nn((function e(t){Rn(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw PI(GI.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var ZI=function(){function e(t,n){Rn(this,e);var r=0,i="";FI(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return Nn(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(FI(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(UI()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(KI.apply(null,i))}var a=n.map((function(e){return jI(e)?$I(GI.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function eC(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function tC(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function nC(e,t){return t}var rC=Nn((function e(t,n,r,i){Rn(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||nC})),iC=null;function aC(){if(iC)return iC;var e=[];e.push(new rC("bucket")),e.push(new rC("generation")),e.push(new rC("metageneration")),e.push(new rC("name","fullPath",!0));var t=new rC("name");t.xform=function(e,t){return function(e){return!jI(e)||e.length<2?e:tC(e)}(t)},e.push(t);var n=new rC("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new rC("timeCreated")),e.push(new rC("updated")),e.push(new rC("md5Hash",null,!0)),e.push(new rC("cacheControl",null,!0)),e.push(new rC("contentDisposition",null,!0)),e.push(new rC("contentEncoding",null,!0)),e.push(new rC("contentLanguage",null,!0)),e.push(new rC("contentType",null,!0)),e.push(new rC("metadata","customMetadata",!0)),iC=e}function oC(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new LI(n,r);return t._makeStorageReference(i)}})}(r,e),r}function sC(e,t,n){var r=eC(t);return null===r?null:oC(e,r,n)}function uC(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function cC(e,t,n){var r=eC(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=Mn(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),s=e._makeStorageReference(new LI(t,o));r.prefixes.push(s)}}catch(h){a.e(h)}finally{a.f()}}if(n.items){var u,c=Mn(n.items);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=e._makeStorageReference(new LI(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var lC=Nn((function e(t,n,r,i){Rn(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function fC(e){if(!e)throw TI()}function hC(e,t){return function(n,r){var i=sC(e,r,t);return fC(null!==i),i}}function dC(e,t){return function(n,r){var i=sC(e,r,t);return fC(null!==i),function(e,t,n,r){var i=eC(t);if(null===i)return null;if(!jI(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return VI("/b/"+o(i)+"/o/"+o(a),n,r)+qI({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function pC(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new SI("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new SI("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new SI("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new SI("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function vC(e){var t=pC(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new SI("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function yC(e,t,n){var r=VI(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new lC(r,"GET",hC(e,n),i);return a.errorHandler=vC(t),a}function mC(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=VI(t.bucketOnlyServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,u=new lC(o,"GET",function(e,t){return function(n,r){var i=cC(e,t,r);return fC(null!==i),i}}(e,t.bucket),s);return u.urlParams=a,u.errorHandler=pC(t),u}function gC(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function kC(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=gC(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+uC(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=ZI.getBlob(c,r,l);if(null===f)throw CI();var h={name:u.fullPath},d=VI(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new lC(d,"POST",hC(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=pC(t),v}var bC=Nn((function e(t,n,r,i){Rn(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function wC(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){fC(!1)}return fC(!!n&&-1!==(t||["active"]).indexOf(n)),n}var xC=262144;function _C(e,t,n,r,i,a,o,s){var u=new bC(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new SI("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)},p=r.slice(f,h);if(null===p)throw CI();var v=t.maxUploadRetryTime,y=new lC(n,"POST",(function(e,n){var i,o=wC(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===o?hC(t,a)(e,n):null,new bC(s,c,"final"===o,i)}),v);return y.headers=d,y.body=p.uploadData(),y.progressCallback=s||null,y.errorHandler=pC(e),y}var SC={STATE_CHANGED:"state_changed"},EC={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function TC(e){switch(e){case"running":case"pausing":case"canceling":return EC.RUNNING;case"paused":return EC.PAUSED;case"success":return EC.SUCCESS;case"canceled":return EC.CANCELED;default:return EC.ERROR}}var IC=Nn((function e(t,n,r){Rn(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function CC(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var OC=function(){function e(){var t=this;Rn(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=DI.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=DI.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=DI.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return Nn(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw NI("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw NI("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw NI("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw NI("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw NI("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),AC=function(e){Vn(n,e);var t=Kn(n);function n(){return Rn(this,n),t.apply(this,arguments)}return Nn(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(OC);function RC(){return new AC}var PC=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Rn(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=aC(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return Nn(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=Un(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=gC(t,r,i),s={name:o.fullPath},u=VI(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=uC(o,n),f=e.maxUploadRetryTime,h=new lC(u,"POST",(function(e){var t;wC(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){fC(!1)}return fC(jI(t)),t}),f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=pC(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,RC,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new lC(n,"POST",(function(e){var t=wC(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){fC(!1)}n||fC(!1);var i=Number(n);return fC(!isNaN(i)),new bC(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=pC(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,RC,n,r);e._request=a,a.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=xC*this._chunkMultiplier,n=new bC(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=_C(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(u){return e._error=u,void e._transition("error")}var s=e._ref.storage._makeRequest(o,RC,i,a);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){xC*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=yC(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,RC,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=kC(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,RC,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=II(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=TC(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new IC(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(TC(this._state)){case EC.SUCCESS:CC(this._resolve.bind(null,this.snapshot))();break;case EC.CANCELED:case EC.ERROR:CC(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(TC(this._state)){case EC.RUNNING:case EC.PAUSED:e.next&&CC(e.next.bind(e,this.snapshot))();break;case EC.SUCCESS:e.complete&&CC(e.complete.bind(e))();break;default:e.error&&CC(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),NC=function(){function e(t,n){Rn(this,e),this._service=t,this._location=n instanceof LI?n:LI.makeFromUrl(n,t.host)}return Nn(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new LI(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return tC(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new LI(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw RI(e)}}]),e}();function DC(e,t,n){return LC.apply(this,arguments)}function LC(){return(LC=fn(dn().mark((function e(t,n,r){var i,a,o,s;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,MC(t,o);case 3:if(s=e.sent,(i=n.prefixes).push.apply(i,Er(s.prefixes)),(a=n.items).push.apply(a,Er(s.items)),null==s.nextPageToken){e.next=9;break}return e.next=9,DC(t,n,s.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function MC(e,t){null!=t&&"number"===typeof t.maxResults&&zI("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=mC(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,RC)}function jC(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=VI(t.fullServerUrl(),e.host,e._protocol),a=uC(n,r),o=e.maxOperationRetryTime,s=new lC(i,"PATCH",hC(e,r),o);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=a,s.errorHandler=vC(t),s}(e.storage,e._location,t,aC());return e.storage.makeRequestWithTokens(n,RC)}function FC(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=VI(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new lC(r,"GET",dC(e,n),i);return a.errorHandler=vC(t),a}(e.storage,e._location,aC());return e.storage.makeRequestWithTokens(t,RC).then((function(e){if(null===e)throw new SI("no-download-url","The given file does not have any download URLs.");return e}))}function UC(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=VI(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new lC(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=vC(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,RC)}function zC(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new LI(e._location.bucket,n);return new NC(e.storage,r)}function VC(e,t){if(e instanceof WC){var n=e;if(null==n._bucket)throw new SI("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new NC(n,n._bucket);return null!=t?VC(r,t):r}return void 0!==t?zC(e,t):e}function qC(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof WC)return new NC(e,t);throw OI("To use ref(service, url), the first argument must be a Storage instance.")}return VC(e,t)}function BC(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:LI.makeFromBucketSpec(n,e)}function HC(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:nr(i,e.app.options.projectId))}var WC=function(){function e(t,n,r,i,a){Rn(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=_I,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?LI.makeFromBucketSpec(i,this._host):BC(this._host,this.app.options)}return Nn(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=LI.makeFromBucketSpec(this._url,e):this._bucket=BC(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){zI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){zI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=fn(dn().mark((function e(){var t,n;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=fn(dn().mark((function e(){var t,n;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new NC(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new MI(AI());var a=function(e,t,n,r,i,a){var o=qI(e.urlParams),s=e.url+o,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new BI(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=fn(dn().mark((function e(t,n){var r,i,a,o;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=Un(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),KC="@firebase/storage",GC="0.9.1",QC="storage";function $C(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new PC(e,new ZI(t),n)}(e=_r(e),t,n)}function YC(e){return function(e){e._throwIfRoot("getMetadata");var t=yC(e.storage,e._location,aC());return e.storage.makeRequestWithTokens(t,RC)}(e=_r(e))}function XC(e){return function(e){var t={prefixes:[],items:[]};return DC(e,t).then((function(){return t}))}(e=_r(e))}function JC(e,t){return qC(e=_r(e),t)}function ZC(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};HC(e,t,n,r)}function eO(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new WC(r,i,a,n,ai)}Yr(new Tr(QC,eO,"PUBLIC").setMultipleInstances(!0)),fi(KC,GC,""),fi(KC,GC,"esm2017");var tO=function(){function e(t,n,r){Rn(this,e),this._delegate=t,this.task=n,this.ref=r}return Nn(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),nO=function(){function e(t,n){Rn(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Nn(e,[{key:"snapshot",get:function(){return new tO(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new tO(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new tO(e,i,i._ref))}:{next:t.next?function(e){return t.next(new tO(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),rO=function(){function e(t,n){Rn(this,e),this._delegate=t,this._service=n}return Nn(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new iO(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new iO(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),iO=function(){function e(t,n){Rn(this,e),this._delegate=t,this.storage=n}return Nn(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return zC(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new nO($C(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:GI.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=$I(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new nO(new PC(this._delegate,new ZI(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return XC(this._delegate).then((function(t){return new rO(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return MC(e=_r(e),t)}(this._delegate,e||void 0).then((function(e){return new rO(e,t.storage)}))}},{key:"getMetadata",value:function(){return YC(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return jC(e=_r(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return FC(_r(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),UC(_r(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw RI(e)}}]),e}(),aO=function(){function e(t,n){Rn(this,e),this.app=t,this._delegate=n}return Nn(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(oO(e))throw OI("ref() expected a child path but got a URL, use refFromURL instead.");return new iO(JC(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!oO(e))throw OI("refFromURL() expected a full URL but got a child path, use ref() instead.");try{LI.makeFromUrl(e,this._delegate.host)}catch(t){throw OI("refFromUrl() expected a valid full URL but got an invalid one.")}return new iO(JC(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ZC(this._delegate,e,t,n)}}]),e}();function oO(e){return/^[A-Za-z]+:\/\//.test(e)}function sO(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new aO(r,i)}!function(e){var t={TaskState:EC,TaskEvent:SC,StringFormat:GI,Storage:aO,Reference:iO};e.INTERNAL.registerComponent(new Tr("storage-compat",sO,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.9")}(bi);var uO=bi.initializeApp({apiKey:"AIzaSyBFGiXROE6wtIziefxedoIT8Kf2FCDQDWo",authDomain:"disney-clone-cc9c3.firebaseapp.com",projectId:"disney-clone-cc9c3",storageBucket:"disney-clone-cc9c3.appspot.com",messagingSenderId:"483793932119",appId:"1:483793932119:web:ca9b51883937709e473812",measurementId:"G-6FH11XW301"}).firestore(),cO=bi.auth(),lO=new bi.auth.GoogleAuthProvider,fO=(bi.storage(),uO);function hO(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function dO(e){return!!e&&!!e[nA]}function pO(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===rA}(e)||Array.isArray(e)||!!e[tA]||!!e.constructor[tA]||wO(e)||xO(e))}function vO(e,t,n){void 0===n&&(n=!1),0===yO(e)?(n?Object.keys:iA)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function yO(e){var t=e[nA];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:wO(e)?2:xO(e)?3:0}function mO(e,t){return 2===yO(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function gO(e,t){return 2===yO(e)?e.get(t):e[t]}function kO(e,t,n){var r=yO(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function bO(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function wO(e){return XO&&e instanceof Map}function xO(e){return JO&&e instanceof Set}function _O(e){return e.o||e.t}function SO(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=aA(e);delete t[nA];for(var n=iA(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function EO(e,t){return void 0===t&&(t=!1),IO(e)||dO(e)||!pO(e)||(yO(e)>1&&(e.set=e.add=e.clear=e.delete=TO),Object.freeze(e),t&&vO(e,(function(e,t){return EO(t,!0)}),!0)),e}function TO(){hO(2)}function IO(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function CO(e){var t=oA[e];return t||hO(18,e),t}function OO(e,t){oA[e]||(oA[e]=t)}function AO(){return $O}function RO(e,t){t&&(CO("Patches"),e.u=[],e.s=[],e.v=t)}function PO(e){NO(e),e.p.forEach(LO),e.p=null}function NO(e){e===$O&&($O=e.l)}function DO(e){return $O={p:[],l:$O,h:e,m:!0,_:0}}function LO(e){var t=e[nA];0===t.i||1===t.i?t.j():t.O=!0}function MO(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||CO("ES5").S(t,e,r),r?(n[nA].P&&(PO(t),hO(4)),pO(e)&&(e=jO(t,e),t.l||UO(t,e)),t.u&&CO("Patches").M(n[nA].t,e,t.u,t.s)):e=jO(t,n,[]),PO(t),t.u&&t.v(t.u,t.s),e!==eA?e:void 0}function jO(e,t,n){if(IO(t))return t;var r=t[nA];if(!r)return vO(t,(function(i,a){return FO(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return UO(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=SO(r.k):r.o;vO(3===r.i?new Set(i):i,(function(t,a){return FO(e,r,i,t,a,n)})),UO(e,i,!1),n&&e.u&&CO("Patches").R(r,n,e.u,e.s)}return r.o}function FO(e,t,n,r,i,a){if(dO(i)){var o=jO(e,i,a&&t&&3!==t.i&&!mO(t.D,r)?a.concat(r):void 0);if(kO(n,r,o),!dO(o))return;e.m=!1}if(pO(i)&&!IO(i)){if(!e.h.F&&e._<1)return;jO(e,i),t&&t.A.l||UO(e,i)}}function UO(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&EO(t,n)}function zO(e,t){var n=e[nA];return(n?_O(n):e)[t]}function VO(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function qO(e){e.P||(e.P=!0,e.l&&qO(e.l))}function BO(e){e.o||(e.o=SO(e.t))}function HO(e,t,n){var r=wO(t)?CO("MapSet").N(t,n):xO(t)?CO("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:AO(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=sA;n&&(i=[r],a=uA);var o=Proxy.revocable(i,a),s=o.revoke,u=o.proxy;return r.k=u,r.j=s,u}(t,n):CO("ES5").J(t,n);return(n?n.A:AO()).p.push(r),r}function WO(e){return dO(e)||hO(22,e),function e(t){if(!pO(t))return t;var n,r=t[nA],i=yO(t);if(r){if(!r.P&&(r.i<4||!CO("ES5").K(r)))return r.t;r.I=!0,n=KO(t,i),r.I=!1}else n=KO(t,i);return vO(n,(function(t,i){r&&gO(r.t,t)===i||kO(n,t,e(i))})),3===i?new Set(n):n}(e)}function KO(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return SO(e)}function GO(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[nA];return sA.get(t,e)},set:function(t){var n=this[nA];sA.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][nA];if(!i.P)switch(i.i){case 5:r(i)&&qO(i);break;case 4:n(i)&&qO(i)}}}function n(e){for(var t=e.t,n=e.k,r=iA(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==nA){var o=t[a];if(void 0===o&&!mO(t,a))return!0;var s=n[a],u=s&&s[nA];if(u?u.t!==o:!bO(s,o))return!0}}var c=!!t[nA];return r.length!==iA(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};OO("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=aA(n);delete a[nA];for(var o=iA(a),s=0;s<o.length;s++){var u=o[s];a[u]=e(u,t||!!a[u].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:AO(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,nA,{value:a,writable:!0}),i},S:function(e,n,i){i?dO(n)&&n[nA].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[nA];if(n){var i=n.t,a=n.k,o=n.D,s=n.i;if(4===s)vO(a,(function(t){t!==nA&&(void 0!==i[t]||mO(i,t)?o[t]||e(a[t]):(o[t]=!0,qO(n)))})),vO(i,(function(e){void 0!==a[e]||mO(a,e)||(o[e]=!1,qO(n))}));else if(5===s){if(r(n)&&(qO(n),o.length=!0),a.length<i.length)for(var u=a.length;u<i.length;u++)o[u]=!1;else for(var c=i.length;c<a.length;c++)o[c]=!0;for(var l=Math.min(a.length,i.length),f=0;f<l;f++)a.hasOwnProperty(f)||(o[f]=!0),void 0===o[f]&&e(a[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}var QO,$O,YO="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),XO="undefined"!=typeof Map,JO="undefined"!=typeof Set,ZO="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,eA=YO?Symbol.for("immer-nothing"):((QO={})["immer-nothing"]=!0,QO),tA=YO?Symbol.for("immer-draftable"):"__$immer_draftable",nA=YO?Symbol.for("immer-state"):"__$immer_state",rA=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),iA="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,aA=Object.getOwnPropertyDescriptors||function(e){var t={};return iA(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},oA={},sA={get:function(e,t){if(t===nA)return e;var n=_O(e);if(!mO(n,t))return function(e,t,n){var r,i=VO(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!pO(r)?r:r===zO(e.t,t)?(BO(e),e.o[t]=HO(e.A.h,r,e)):r},has:function(e,t){return t in _O(e)},ownKeys:function(e){return Reflect.ownKeys(_O(e))},set:function(e,t,n){var r=VO(_O(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=zO(_O(e),t),a=null==i?void 0:i[nA];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(bO(n,i)&&(void 0!==n||mO(e.t,t)))return!0;BO(e),qO(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==zO(e.t,t)||t in e.t?(e.D[t]=!1,BO(e),qO(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=_O(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){hO(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){hO(12)}},uA={};vO(sA,(function(e,t){uA[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),uA.deleteProperty=function(e,t){return uA.set.call(this,e,t,void 0)},uA.set=function(e,t,n){return sA.set.call(this,e[0],t,n,e[0])};var cA=function(){function e(e){var t=this;this.g=ZO,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&hO(6),void 0!==r&&"function"!=typeof r&&hO(7),pO(e)){var s=DO(t),u=HO(t,e,void 0),c=!0;try{o=n(u),c=!1}finally{c?PO(s):NO(s)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return RO(s,r),MO(e,s)}),(function(e){throw PO(s),e})):(RO(s,r),MO(o,s))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===eA&&(o=void 0),t.F&&EO(o,!0),r){var l=[],f=[];CO("Patches").M(e,o,l,f),r(l,f)}return o}hO(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){pO(e)||hO(8),dO(e)&&(e=WO(e));var t=DO(this),n=HO(this,e,void 0);return n[nA].C=!0,NO(t),n},t.finishDraft=function(e,t){var n=(e&&e[nA]).A;return RO(n,t),MO(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!ZO&&hO(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=CO("Patches").$;return dO(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),lA=new cA,fA=lA.produce,hA=(lA.produceWithPatches.bind(lA),lA.setAutoFreeze.bind(lA),lA.setUseProxies.bind(lA),lA.applyPatches.bind(lA),lA.createDraft.bind(lA),lA.finishDraft.bind(lA),fA);function dA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dA(Object(n),!0).forEach((function(t){An(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vA(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var yA="function"===typeof Symbol&&Symbol.observable||"@@observable",mA=function(){return Math.random().toString(36).substring(7).split("").join(".")},gA={INIT:"@@redux/INIT"+mA(),REPLACE:"@@redux/REPLACE"+mA(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+mA()}};function kA(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function bA(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(vA(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(vA(1));return n(bA)(e,t)}if("function"!==typeof e)throw new Error(vA(2));var i=e,a=t,o=[],s=o,u=!1;function c(){s===o&&(s=o.slice())}function l(){if(u)throw new Error(vA(3));return a}function f(e){if("function"!==typeof e)throw new Error(vA(4));if(u)throw new Error(vA(5));var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error(vA(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),o=null}}}function h(e){if(!kA(e))throw new Error(vA(7));if("undefined"===typeof e.type)throw new Error(vA(8));if(u)throw new Error(vA(9));try{u=!0,a=i(a,e)}finally{u=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!==typeof e)throw new Error(vA(10));i=e,h({type:gA.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(vA(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[yA]=function(){return this},e}return h({type:gA.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:d})[yA]=p,r}function wA(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:gA.INIT}))throw new Error(vA(12));if("undefined"===typeof n(void 0,{type:gA.PROBE_UNKNOWN_ACTION()}))throw new Error(vA(13))}))}(n)}catch(s){a=s}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var u=o[s],c=n[u],l=e[u],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(vA(14))}i[u]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}function xA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function _A(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(vA(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=xA.apply(void 0,a)(n.dispatch),pA(pA({},n),{},{dispatch:r})}}}function SA(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var EA=SA();EA.withExtraArgument=SA;var TA=EA,IA=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),CA=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},OA=Object.defineProperty,AA=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),RA=Object.prototype.hasOwnProperty,PA=Object.prototype.propertyIsEnumerable,NA=function(e,t,n){return t in e?OA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},DA=function(e,t){for(var n in t||(t={}))RA.call(t,n)&&NA(e,n,t[n]);if(AA)for(var r=0,i=AA(t);r<i.length;r++){n=i[r];PA.call(t,n)&&NA(e,n,t[n])}return e},LA="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?xA:xA.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function MA(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var jA=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return IA(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,CA([void 0],e[0].concat(this)))):new(t.bind.apply(t,CA([void 0],e.concat(this))))},t}(Array);function FA(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new jA);return n&&(!function(e){return"boolean"===typeof e}(n)?r.push(TA.withExtraArgument(n.extraArgument)):r.push(TA)),r}function UA(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return DA(DA({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function zA(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function VA(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:hA(e.initialState,(function(){})),i=e.reducers||{},a=Object.keys(i),o={},s={},u={};function c(){var t="function"===typeof e.extraReducers?zA(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,u=t[2],c=void 0===u?void 0:u,l=DA(DA({},i),s);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?zA(t):[t,n,r],o=a[0],s=a[1],u=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return hA(e(),(function(){}))};else{var c=hA(e,(function(){}));i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=CA([o[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[u]),n.reduce((function(e,n){if(n){var r;if(dO(e))return"undefined"===typeof(r=n(e,t))?e:r;if(pO(e))return hA(e,(function(e){return n(e,t)}));if("undefined"===typeof(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,l,o,c)}return a.forEach((function(e){var n,r,a=i[e],c=t+"/"+e;"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,s[c]=n,u[e]=r?UA(c,r):UA(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:u,caseReducers:o,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}GO();var qA,BA,HA,WA,KA,GA,QA,$A,YA,XA,JA,ZA,eR,tR,nR,rR,iR,aR,oR,sR,uR,cR,lR,fR,hR,dR,pR,vR,yR,mR,gR,kR,bR,wR,xR,_R=VA({name:"user",initialState:{name:"",email:"",photo:""},reducers:{setUserLoginDetails:function(e,t){e.name=t.payload.name,e.email=t.payload.email,e.photo=t.payload.photo},setSignOutState:function(e){e.name=null,e.email=null,e.photo=null}}}),SR=_R.actions,ER=SR.setUserLoginDetails,TR=SR.setSignOutState,IR=function(e){return e.user.name},CR=function(e){return e.user.photo},OR=_R.reducer,AR=Jt.nav(qA||(qA=ye(["\nposition: fixed;\ntop: 0;\nleft: 0;\nright: 0;\nbottom: 0;\nheight: 70px;\nbackground-color: #090b13;\ndisplay: flex;\njustify-content: space-between;\nalign-items: center;\npadding: 0 36px;\nletter-spacing: 16px;\nz-index: 3;\n"]))),RR=Jt.a(BA||(BA=ye(["\npadding: 0;\nwidth: 80px;\nmargin-top: 4px;\nmax-height: 70px;\nfont-size: 0;\ndisplay: inline-block;\nimg{\n    display: block;\n    width: 100%;\n}\n"]))),PR=Jt.div(HA||(HA=ye(['\n  align-items: center;\n  display: flex;\n  flex-flow: row nowrap;\n  height: 100%;\n  justify-content: flex-end;\n  margin: 0px;\n  padding: 0px;\n  position: relative;\n  margin-right: auto;\n  margin-left: 25px;\n  a {\n    display: flex;\n    align-items: center;\n    padding: 0 12px;\n    img {\n      height: 20px;\n      min-width: 20px;\n      width: 20px;\n      z-index: auto;\n    }\n    span {\n      color: rgb(249, 249, 249);\n      font-size: 13px;\n      letter-spacing: 1.42px;\n      line-height: 1.08;\n      padding: 2px 0px;\n      white-space: nowrap;\n      position: relative;\n      &:before {\n        background-color: rgb(249, 249, 249);\n        border-radius: 0px 0px 4px 4px;\n        bottom: -6px;\n        content: "";\n        height: 2px;\n        left: 0px;\n        opacity: 0;\n        position: absolute;\n        right: 0px;\n        transform-origin: left center;\n        transform: scaleX(0);\n        transition: all 250ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 0s;\n        visibility: hidden;\n        width: auto;\n      }\n    }\n    &:hover {\n      span:before {\n        transform: scaleX(1);\n        visibility: visible;\n        opacity: 1 !important;\n      }\n    }\n  }\n  /* @media (max-width: 768px) {\n    display: none;\n  } */\n']))),NR=Jt.a(WA||(WA=ye(["\nbackground-color: rgba(0, 0, 0, 0.6);\npadding: 8px 16px;\ntext-transform: uppercase;\nletter-spacing: 1.5px;\nborder: 1px solid #f9f9f9;\nborder-radius: 4px;\ntransition: all .2s ease 0s;\ncursor: pointer;\n\n&:hover{\n    background-color: #f9f9f9;\n    color: #000;\n    border-color: transparent;\n}\n"]))),DR=Jt.img(KA||(KA=ye(["\nheight: 100%;\n"]))),LR=Jt.div(GA||(GA=ye(["\nposition: absolute;\n  top: 48px;\n  right: 0px;\n  background: rgb(19, 19, 19);\n  border: 1px solid rgba(151, 151, 151, 0.34);\n  border-radius: 4px;\n  box-shadow: rgb(0 0 0 / 50%) 0px 0px 18px 0px;\n  padding: 10px;\n  font-size: 14px;\n  letter-spacing: 3px;\n  width: 100px;\n  opacity: 0;\n"]))),MR=Jt.div(QA||(QA=ye(["\nposition: relative;\nheight: 48px;\nwidth: 48px;\ndisplay: flex;\ncursor: pointer;\nalign-items: center;\njustify-content: center;\n\n","{\n  border-radius: 50%;\n  width: 100%;\n  height: 100%;\n}\n\n&:hover{\n  ","{\n    opacity: 1;\n    transition-duration: 1s;\n  }\n}\n"])),DR,LR),jR=function(e){var n=En(),r=oe(K),i=On(IR),a=On(CR);(0,t.useEffect)((function(){cO.onAuthStateChanged(function(){var e=fn(dn().mark((function e(t){return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(s(t),r.push("/home"));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[i]);var o=function(){i?i&&cO.signOut().then((function(){n(TR()),r.push("/")})).catch((function(e){return alert(e.message)})):cO.signInWithPopup(lO).then((function(e){s(e.user)})).catch((function(e){alert(e.message)}))},s=function(e){n(ER({name:e.displayName,email:e.email,photo:e.photoURL}))};return(0,Zt.jsxs)(AR,{children:[(0,Zt.jsx)(RR,{children:(0,Zt.jsx)("img",{src:"/images/logo.svg",alt:"Disney+"})}),i?(0,Zt.jsxs)(Zt.Fragment,{children:[(0,Zt.jsxs)(PR,{children:[(0,Zt.jsxs)("a",{href:"/home",children:[(0,Zt.jsx)("img",{src:"/images/home-icon.svg",alt:""}),(0,Zt.jsx)("span",{children:"Home"})]}),(0,Zt.jsxs)("a",{href:"/home",children:[(0,Zt.jsx)("img",{src:"/images/search-icon.svg",alt:"SEARCH"}),(0,Zt.jsx)("span",{children:"SEARCH"})]}),(0,Zt.jsxs)("a",{href:"/home",children:[(0,Zt.jsx)("img",{src:"/images/watchlist-icon.svg",alt:"WATCHLIST"}),(0,Zt.jsx)("span",{children:"WATCHLIST"})]}),(0,Zt.jsxs)("a",{href:"/home",children:[(0,Zt.jsx)("img",{src:"/images/original-icon.svg",alt:"ORIGINALS"}),(0,Zt.jsx)("span",{children:"ORIGINALS"})]}),(0,Zt.jsxs)("a",{href:"/home",children:[(0,Zt.jsx)("img",{src:"/images/movie-icon.svg",alt:"MOVIES"}),(0,Zt.jsx)("span",{children:"MOVIES"})]}),(0,Zt.jsxs)("a",{href:"/home",children:[(0,Zt.jsx)("img",{src:"/images/series-icon.svg",alt:"SERIES"}),(0,Zt.jsx)("span",{children:"SERIES"})]})]}),(0,Zt.jsxs)(MR,{children:[(0,Zt.jsx)(DR,{src:a,alt:i}),(0,Zt.jsx)(LR,{children:(0,Zt.jsx)("span",{onClick:o,children:"Sign out"})})]})]}):(0,Zt.jsx)(NR,{onClick:o,children:"Login"})]})},FR=Jt(n(717).Z)($A||($A=ye(["\nmargin-top: 20px;\n\n& > button{\n    opacity: 0;\n    height: 100%;\n    width: 5vw;\n    z-index: 1;\n\n    &:hover{\n        opacity: 1;\n        transition: opacity 0.2s ease 0s;\n    }\n}\nul li button{\n    &:before{\n        font-size: 10px;\n        color: rgba(150, 158, 171);\n    }\n}\n\nli.slick-active button:before{\n    color: white;\n}\n.slick-list{\n    overflow: initial;\n}\n\n.slick-prev{\n    left: -75px;\n}\n\n\n.slick-next{\n    right: -75px;\n}\n"]))),UR=Jt.div(YA||(YA=ye(["\n border-radius: 4px;\n cursor: pointer;\n position: relative;\n a{\n     border-radius: 4px;\n     box-shadow: rgb(0 0 0 / 69%) 0px 26px 30px -10px, rgb(0 0 0 / 73%) 0px 16px 10px -10px ;\n     cursor: pointer;\n     display: block;\n     position: relative;\n     padding: 4px;\n     img{\n         width: 100%;\n         height: 100%;\n     }\n     &:hover{\n         padding: 0;\n         border: 4px solid rgba(249, 249, 249, 0.8);\n         transition-duration: 300ms;\n     }\n }\n"]))),zR=function(e){return(0,Zt.jsx)("div",{children:(0,Zt.jsxs)(FR,pA(pA({},{dots:!0,infinite:!0,speed:500,slideToShow:1,slideToScroll:1,autoplay:!0}),{},{children:[(0,Zt.jsx)(UR,{children:(0,Zt.jsx)("a",{href:"/",children:(0,Zt.jsx)("img",{src:"/images/slider-badging.jpg",alt:""})})}),(0,Zt.jsx)(UR,{children:(0,Zt.jsx)("a",{href:"/",children:(0,Zt.jsx)("img",{src:"/images/slider-scale.jpg",alt:""})})}),(0,Zt.jsx)(UR,{children:(0,Zt.jsx)("a",{href:"/",children:(0,Zt.jsx)("img",{src:"/images/slider-badag.jpg",alt:""})})}),(0,Zt.jsx)(UR,{children:(0,Zt.jsx)("a",{href:"/",children:(0,Zt.jsx)("img",{src:"/images/slider-scales.jpg",alt:""})})})]}))})},VR=VA({name:"movie",initialState:{recommend:null,newDisney:null,original:null,trending:null},reducers:{setMovies:function(e,t){e.recommend=t.payload.recommend,e.newDisney=t.payload.newDisney,e.original=t.payload.original,e.trending=t.payload.trending}}}),qR=VR.actions.setMovies,BR=function(e){return e.movie.recommend},HR=function(e){return e.movie.newDisney},WR=function(e){return e.movie.original},KR=function(e){return e.movie.trending},GR=VR.reducer,QR=Jt.div(XA||(XA=ye(["\n  padding: 0 0 26px;\n"]))),$R=Jt.div(JA||(JA=ye(["\n  display: grid;\n  grid-gap: 25px;\n  gap: 25px;\n  grid-template-columns: repeat(4, minmax(0, 1fr));\n\n  @media (max-width: 768px) {\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n  }\n"]))),YR=Jt.div(ZA||(ZA=ye(["\n  padding-top: 56.25%;\n  border-radius: 10px;\n  box-shadow: rgb(0 0 0 / 69%) 0px 26px 30px -10px,\n    rgb(0 0 0 / 73%) 0px 16px 10px -10px;\n  cursor: pointer;\n  overflow: hidden;\n  position: relative;\n  transition: all 250ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 0s;\n  border: 3px solid rgba(249, 249, 249, 0.1);\n  img {\n    inset: 0px;\n    display: block;\n    height: 100%;\n    object-fit: cover;\n    opacity: 1;\n    position: absolute;\n    transition: opacity 500ms ease-in-out 0s;\n    width: 100%;\n    z-index: 1;\n    top: 0;\n  }\n  &:hover {\n    box-shadow: rgb(0 0 0 / 80%) 0px 40px 58px -16px,\n      rgb(0 0 0 / 72%) 0px 30px 22px -10px;\n    transform: scale(1.05);\n    border-color: rgba(249, 249, 249, 0.8);\n  }\n"]))),XR=function(e){var t=On(HR);return(0,Zt.jsxs)(QR,{children:[(0,Zt.jsx)("h4",{children:"New to Disney+"}),(0,Zt.jsx)($R,{children:t&&t.map((function(e,t){return(0,Zt.jsxs)(YR,{children:[e.id,(0,Zt.jsx)(de,{to:"/detail/"+e.id,children:(0,Zt.jsx)("img",{src:e.cardImg,alt:e.title})})]},t)}))})]})},JR=Jt.div(eR||(eR=ye(["\n  padding: 0 0 26px;\n"]))),ZR=Jt.div(tR||(tR=ye(["\n  display: grid;\n  grid-gap: 25px;\n  gap: 25px;\n  grid-template-columns: repeat(4, minmax(0, 1fr));\n\n  @media (max-width: 768px) {\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n  }\n"]))),eP=Jt.div(nR||(nR=ye(["\n  padding-top: 56.25%;\n  border-radius: 10px;\n  box-shadow: rgb(0 0 0 / 69%) 0px 26px 30px -10px,\n    rgb(0 0 0 / 73%) 0px 16px 10px -10px;\n  cursor: pointer;\n  overflow: hidden;\n  position: relative;\n  transition: all 250ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 0s;\n  border: 3px solid rgba(249, 249, 249, 0.1);\n  img {\n    inset: 0px;\n    display: block;\n    height: 100%;\n    object-fit: cover;\n    opacity: 1;\n    position: absolute;\n    transition: opacity 500ms ease-in-out 0s;\n    width: 100%;\n    z-index: 1;\n    top: 0;\n  }\n  &:hover {\n    box-shadow: rgb(0 0 0 / 80%) 0px 40px 58px -16px,\n      rgb(0 0 0 / 72%) 0px 30px 22px -10px;\n    transform: scale(1.05);\n    border-color: rgba(249, 249, 249, 0.8);\n  }\n"]))),tP=function(e){var t=On(WR);return(0,Zt.jsxs)(JR,{children:[(0,Zt.jsx)("h4",{children:"Originals"}),(0,Zt.jsx)(ZR,{children:t&&t.map((function(e,t){return(0,Zt.jsxs)(eP,{children:[e.id,(0,Zt.jsx)(de,{to:"/detail/"+e.id,children:(0,Zt.jsx)("img",{src:e.cardImg,alt:e.title})})]},t)}))})]})},nP=Jt.div(rR||(rR=ye(["\npadding: 0 0 26px;\n"]))),rP=Jt.div(iR||(iR=ye(["\ndisplay: grid;\ngrid-gap: 25px;\ngap: 25px;\ngrid-template-columns: repeat(4, minmax(0, 1fr));\n@media (max-width: 768px) {\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n  }\n"]))),iP=Jt.div(aR||(aR=ye(["\npadding-top: 56.25%;\nborder-radius: 10px;\nbox-shadow: rgb(0 0 0 / 69%) 0px 26px 30px -10px,\n    rgb(0 0 0 / 73%) 0px 16px 10px -10px;\ncursor: pointer;\noverflow: hidden;\nposition: relative;\ntransition: all 250ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 0s;\nborder: 3px solid rgb(249, 249, 249, 0.1);\n\nimg{\n  inset: 0px;\n  display: block;\n  height: 100%;\n  object-fit: cover;\n  opacity: 1;\n  position: absolute;\n  transition: opacity 500ms ease-in-out 0s;\n  width: 100%;\n  z-index: 1;\n  top: 0;\n}\n\n&:hover{\n    box-shadow: rgb(0 0 0 / 69%) 0px 26px 30px -10px,\n    rgb(0 0 0 / 73%) 0px 16px 10px -10px;\n    transform: scale(1.05);\n    border-color: rgba(249, 249, 249, 0.8);\n  }\n"]))),aP=function(e){var t=On(BR);return(0,Zt.jsxs)(nP,{children:[(0,Zt.jsx)("h4",{children:"Recommended For You"}),(0,Zt.jsx)(rP,{children:t&&t.map((function(e,t){return(0,Zt.jsxs)(iP,{children:[e.id,(0,Zt.jsx)(de,{to:"/detail/"+e.id,children:(0,Zt.jsx)("img",{src:e.cardImg,alt:e.title})})]},t)}))})]})},oP=Jt.div(oR||(oR=ye(["\n  padding: 0 0 26px;\n"]))),sP=Jt.div(sR||(sR=ye(["\n  display: grid;\n  grid-gap: 25px;\n  gap: 25px;\n  grid-template-columns: repeat(4, minmax(0, 1fr));\n\n  @media (max-width: 768px) {\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n  }\n"]))),uP=Jt.div(uR||(uR=ye(["\n  padding-top: 56.25%;\n  border-radius: 10px;\n  box-shadow: rgb(0 0 0 / 69%) 0px 26px 30px -10px,\n    rgb(0 0 0 / 73%) 0px 16px 10px -10px;\n  cursor: pointer;\n  overflow: hidden;\n  position: relative;\n  transition: all 250ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 0s;\n  border: 3px solid rgba(249, 249, 249, 0.1);\n  img {\n    inset: 0px;\n    display: block;\n    height: 100%;\n    object-fit: cover;\n    opacity: 1;\n    position: absolute;\n    transition: opacity 500ms ease-in-out 0s;\n    width: 100%;\n    z-index: 1;\n    top: 0;\n  }\n  &:hover {\n    box-shadow: rgb(0 0 0 / 80%) 0px 40px 58px -16px,\n      rgb(0 0 0 / 72%) 0px 30px 22px -10px;\n    transform: scale(1.05);\n    border-color: rgba(249, 249, 249, 0.8);\n  }\n"]))),cP=function(e){var t=On(KR);return(0,Zt.jsxs)(oP,{children:[(0,Zt.jsx)("h4",{children:"Trending"}),(0,Zt.jsx)(sP,{children:t&&t.map((function(e,t){return(0,Zt.jsxs)(uP,{children:[e.id,(0,Zt.jsx)(de,{to:"/detail/"+e.id,children:(0,Zt.jsx)("img",{src:e.cardImg,alt:e.title})})]},t)}))})]})},lP=Jt.div(cR||(cR=ye(["\n  margin-top: 30px;\n  padding: 30px 0px 26px;\n  display: grid;\n  grid-gap: 25px;\n  gap: 25px;\n  grid-template-columns: repeat(5, minmax(0, 1fr));\n  @media (max-width: 768px) {\n    grid-template-columns: repeat(1, minmax(0, 1fr));\n  }\n"]))),fP=Jt.div(lR||(lR=ye(["\n  padding-top: 56.25%;\n  border-radius: 10px;\n  box-shadow: rgb(0 0 0 / 69%) 0px 26px 30px -10px,\n    rgb(0 0 0 / 73%) 0px 16px 10px -10px;\n  cursor: pointer;\n  overflow: hidden;\n  position: relative;\n  transition: all 250ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 0s;\n  border: 3px solid rgba(249, 249, 249, 0.1);\n  img {\n    inset: 0px;\n    display: block;\n    height: 100%;\n    object-fit: cover;\n    opacity: 1;\n    position: absolute;\n    transition: opacity 500ms ease-in-out 0s;\n    width: 100%;\n    z-index: 1;\n    top: 0;\n  }\n  video {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    top: 0px;\n    opacity: 0;\n    z-index: 0;\n  }\n  &:hover {\n    box-shadow: rgb(0 0 0 / 80%) 0px 40px 58px -16px,\n      rgb(0 0 0 / 72%) 0px 30px 22px -10px;\n    transform: scale(1.05);\n    border-color: rgba(249, 249, 249, 0.8);\n    video {\n      opacity: 1;\n    }\n  }\n"]))),hP=function(e){return(0,Zt.jsxs)(lP,{children:[(0,Zt.jsxs)(fP,{children:[(0,Zt.jsx)("img",{src:"/images/viewers-disney.png",alt:""}),(0,Zt.jsx)("video",{autoPlay:!0,loop:!0,playsInline:!0,children:(0,Zt.jsx)("source",{src:"/videos/1564674844-disney.mp4",type:"video/mp4"})})]}),(0,Zt.jsxs)(fP,{children:[(0,Zt.jsx)("img",{src:"/images/viewers-pixar.png",alt:""}),(0,Zt.jsx)("video",{autoPlay:!0,loop:!0,playsInline:!0,children:(0,Zt.jsx)("source",{src:"/videos/1564676714-pixar.mp4",type:"video/mp4"})})]}),(0,Zt.jsxs)(fP,{children:[(0,Zt.jsx)("img",{src:"/images/viewers-marvel.png",alt:""}),(0,Zt.jsx)("video",{autoPlay:!0,loop:!0,playsInline:!0,children:(0,Zt.jsx)("source",{src:"/videos/1564676115-marvel.mp4",type:"video/mp4"})})]}),(0,Zt.jsxs)(fP,{children:[(0,Zt.jsx)("img",{src:"/images/viewers-starwars.png",alt:""}),(0,Zt.jsx)("video",{autoPlay:!0,loop:!0,playsInline:!0,children:(0,Zt.jsx)("source",{src:"/videos/1608229455-star-wars.mp4",type:"video/mp4"})})]}),(0,Zt.jsxs)(fP,{children:[(0,Zt.jsx)("img",{src:"/images/viewers-national.png",alt:""}),(0,Zt.jsx)("video",{autoPlay:!0,loop:!0,playsInline:!0,children:(0,Zt.jsx)("source",{src:"/videos/1564676296-national-geographic.mp4",type:"video/mp4"})})]})]})},dP=Jt.main(fR||(fR=ye(['\n  position: relative;\n  min-height: calc(100vh - 250px);\n  overflow-x: hidden;\n  display: block;\n  top: 72px;\n  padding: 0 calc(3.5vw + 5px);\n  &:after {\n    background: url("/images/home-background.png") center center / cover\n      no-repeat fixed;\n    content: "";\n    position: absolute;\n    inset: 0px;\n    opacity: 1;\n    z-index: -1;\n  }\n']))),pP=function(e){var n=En(),r=On(IR),i=[],a=[],o=[],s=[];return(0,t.useEffect)((function(){console.log("hello"),fO.collection("movies").onSnapshot((function(e){e.docs.map((function(e){switch(console.log(i),e.data().type){case"recommend":i=[].concat(Er(i),[pA({id:e.id},e.data())]);break;case"new":a=[].concat(Er(a),[pA({id:e.id},e.data())]);break;case"original":o=[].concat(Er(o),[pA({id:e.id},e.data())]);break;case"trending":s=[].concat(Er(s),[pA({id:e.id},e.data())])}})),n(qR({recommend:i,newDisney:a,original:o,trending:s}))}))}),[r]),(0,Zt.jsxs)(dP,{children:[(0,Zt.jsx)(zR,{}),(0,Zt.jsx)(hP,{}),(0,Zt.jsx)(aP,{}),(0,Zt.jsx)(XR,{}),(0,Zt.jsx)(tP,{}),(0,Zt.jsx)(cP,{})]})},vP=Jt.div(hR||(hR=ye(["\n  position: relative;\n  min-height: calc(100vh-250px);\n  overflow-x: hidden;\n  display: block;\n  top: 72px;\n  padding: 0 calc(3.5vw + 5px);\n"]))),yP=Jt.div(dR||(dR=ye(["\n  left: 0px;\n  opacity: 0.8;\n  position: fixed;\n  right: 0px;\n  top: 0px;\n  z-index: -1;\n\n  img {\n    width: 100vw;\n    height: 100vh;\n\n    @media (max-width: 768px) {\n      width: initial;\n    }\n  }\n"]))),mP=Jt.div(pR||(pR=ye(["\n  align-items: flex-end;\n  display: flex;\n  -webkit-box-pack: start;\n  justify-content: flex-start;\n  margin: 0px auto;\n  height: 30vw;\n  min-height: 170px;\n  padding-bottom: 24px;\n  width: 100%;\n\n  img {\n    max-width: 600px;\n    min-width: 200px;\n    width: 35vw;\n  }\n"]))),gP=Jt.div(vR||(vR=ye(["\n  max-width: 874px;\n"]))),kP=Jt.div(yR||(yR=ye(["\n  align-items: center;\n  display: flex;\n  flex-flow: row nowrap;\n  margin: 24px 0px;\n  min-height: 56px;\n"]))),bP=Jt.button(mR||(mR=ye(["\n  font-size: 15px;\n  margin: 0px 22px 0px 0px;\n  padding: 0px 24px;\n  height: 56px;\n  border-radius: 4px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  letter-spacing: 1.8px;\n  text-align: center;\n  text-transform: uppercase;\n  background: rgb (249, 249, 249);\n  border: none;\n  color: rgb(0, 0, 0);\n\n  img {\n    width: 32px;\n  }\n\n  &:hover {\n    background: rgb(198, 198, 198);\n  }\n\n  @media (max-width: 768px) {\n    height: 45px;\n    padding: 0px 12px;\n    font-size: 12px;\n    margin: 0px 10px 0px 0px;\n\n    img {\n      width: 25px;\n    }\n  }\n"]))),wP=Jt(bP)(gR||(gR=ye(["\n  background: rgba(0, 0, 0, 0.3);\n  border: 1px solid rgb(249, 249, 249);\n  color: rgb(249, 249, 249);\n"]))),xP=Jt.div(kR||(kR=ye(["\n  margin-right: 16px;\n  height: 44px;\n  width: 44px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.6);\n  border-radius: 50%;\n  border: 2px solid white;\n  cursor: pointer;\n\n  span {\n    background-color: rgb(249, 249, 249);\n    display: inline-block;\n\n    &:first-child {\n      height: 2px;\n      transform: translate(1px, 0px) rotate(0deg);\n      width: 16px;\n    }\n\n    &:nth-child(2) {\n      height: 16px;\n      transform: translateX(-8px) rotate(0deg);\n      width: 2px;\n    }\n  }\n"]))),_P=Jt.div(bR||(bR=ye(["\n  height: 44px;\n  width: 44px;\n  border-radius: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  background: white;\n\n  div {\n    height: 40px;\n    width: 40px;\n    background: rgb(0, 0, 0);\n    border-radius: 50%;\n\n    img {\n      width: 100%;\n    }\n  }\n"]))),SP=Jt.div(wR||(wR=ye(["\n  color: rgb(249, 249, 249);\n  font-size: 15px;\n  min-height: 20px;\n\n  @media (max-width: 768px) {\n    font-size: 12px;\n  }\n"]))),EP=Jt.div(xR||(xR=ye(["\n  line-height: 1.4;\n  font-size: 20px;\n  padding: 16px 0px;\n  color: rgb(249, 249, 249);\n\n  @media (max-width: 768px) {\n    font-size: 14px;\n  }\n"]))),TP=function(e){var n=function(){var e=oe(Q).match;return e?e.params:{}}(),r=n.id,i=Un((0,t.useState)({}),2),a=i[0],o=i[1];return(0,t.useEffect)((function(){fO.collection("movies").doc(r).get().then((function(e){e.exists?o(e.data()):console.log("no such document in firebase \ud83d\udd25")})).catch((function(e){console.log("Error getting document:",e)}))}),[r]),(0,Zt.jsxs)(vP,{children:[(0,Zt.jsx)(yP,{children:(0,Zt.jsx)("img",{alt:a.title,src:a.backgroundImg})}),(0,Zt.jsx)(mP,{children:(0,Zt.jsx)("img",{alt:a.title,src:a.titleImg})}),(0,Zt.jsxs)(gP,{children:[(0,Zt.jsxs)(kP,{children:[(0,Zt.jsxs)(bP,{children:[(0,Zt.jsx)("img",{src:"/images/play-icon-black.svg",alt:""}),(0,Zt.jsx)("span",{children:"Play"})]}),(0,Zt.jsxs)(wP,{children:[(0,Zt.jsx)("img",{src:"/images/play-icon-white.svg",alt:""}),(0,Zt.jsx)("span",{children:"Trailer"})]}),(0,Zt.jsxs)(xP,{children:[(0,Zt.jsx)("span",{}),(0,Zt.jsx)("span",{})]}),(0,Zt.jsx)(_P,{children:(0,Zt.jsx)("div",{children:(0,Zt.jsx)("img",{src:"/images/group-icon.svg",alt:""})})})]}),(0,Zt.jsx)(SP,{children:a.subTitle}),(0,Zt.jsx)(EP,{children:a.description})]})]})};var IP=function(){return(0,Zt.jsx)("div",{className:"App",children:(0,Zt.jsxs)(se,{children:[(0,Zt.jsx)(jR,{}),(0,Zt.jsxs)(ae,{children:[(0,Zt.jsx)(Z,{exact:!0,path:"/",children:(0,Zt.jsx)(cn,{})}),(0,Zt.jsx)(Z,{exact:!0,path:"/home",children:(0,Zt.jsx)(pP,{})}),(0,Zt.jsx)(Z,{exact:!0,path:"/detail/:id",children:(0,Zt.jsx)(TP,{})})]})]})})},CP=function(e){var t,n=function(e){return FA(e)},r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,s=void 0===o?n():o,u=r.devTools,c=void 0===u||u,l=r.preloadedState,f=void 0===l?void 0:l,h=r.enhancers,d=void 0===h?void 0:h;if("function"===typeof a)t=a;else{if(!MA(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=wA(a)}var p=s;"function"===typeof p&&(p=p(n));var v=_A.apply(void 0,p),y=xA;c&&(y=LA(DA({trace:!1},"object"===typeof c&&c)));var m=[v];return Array.isArray(d)?m=CA([v],d):"function"===typeof d&&(m=d(m)),bA(t,f,y.apply(void 0,m))}({reducer:{user:OR,movie:GR},middleware:FA({serializableCheck:!1})});r.render((0,Zt.jsx)(t.StrictMode,{children:(0,Zt.jsx)(bn,{store:CP,children:(0,Zt.jsx)(IP,{})})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.77312340.js.map